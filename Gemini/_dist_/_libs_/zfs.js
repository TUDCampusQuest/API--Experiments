var cc=Object.defineProperty;var fc=(t,e,r)=>e in t?cc(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Qt=(t,e,r)=>fc(t,typeof e!="symbol"?e+"":e,r);function Qo(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}const mn=Object.freeze(Object.defineProperty({__proto__:null,get BigIntStatsFs(){return Sf},get Dir(){return gs},get Dirent(){return Zr},get ReadStream(){return ks},get Stats(){return gn},get StatsFs(){return Ef},get WriteStream(){return Ds},get access(){return dw},get accessSync(){return yu},get appendFile(){return jy},get appendFileSync(){return eu},get chmod(){return aw},get chmodSync(){return uu},get chown(){return sw},get chownSync(){return cu},get chroot(){return Yf},get close(){return Vy},get closeSync(){return lr},get constants(){return Ra},get copyFile(){return bw},get copyFileSync(){return Ua},get cp(){return Aw},get cpSync(){return ja},get createReadStream(){return pw},get createWriteStream(){return mw},get exists(){return My},get existsSync(){return Fn},get fchmod(){return Jy},get fchmodSync(){return ws},get fchown(){return Xy},get fchownSync(){return ys},get fdatasync(){return Yy},get fdatasyncSync(){return iu},get fstat(){return zy},get fstatSync(){return tu},get fsync(){return Hy},get fsyncSync(){return nu},get ftruncate(){return Gy},get ftruncateSync(){return ru},get futimes(){return Qy},get futimesSync(){return ps},get glob(){return Nw},get globSync(){return bu},get lchmod(){return lw},get lchmodSync(){return du},get lchown(){return ow},get lchownSync(){return fu},get link(){return rw},get linkSync(){return au},get lopenSync(){return Wn},get lstat(){return Fy},get lstatSync(){return us},get lutimes(){return fw},get lutimesSync(){return hu},get mkdir(){return ew},get mkdirSync(){return ms},get mkdtemp(){return _w},get mkdtempSync(){return wu},get mount(){return fs},get mountObject(){return Hf},get mounts(){return Ir},get open(){return Py},get openAsBlob(){return Rw},get openSync(){return Cn},get opendir(){return vw},get opendirSync(){return gu},get promises(){return Nn},get read(){return Ky},get readFile(){return $y},get readFileSync(){return hs},get readSync(){return ou},get readdir(){return tw},get readdirSync(){return Mr},get readlink(){return iw},get readlinkSync(){return Pi},get readv(){return Ew},get readvSync(){return pu},get realpath(){return uw},get realpathSync(){return Yt},get rename(){return Ly},get renameSync(){return Qf},get rm(){return gw},get rmSync(){return $a},get rmdir(){return Zy},get rmdirSync(){return Wa},get stat(){return By},get statSync(){return zt},get statfs(){return Iw},get statfsSync(){return _u},get symlink(){return nw},get symlinkSync(){return lu},get truncate(){return Cy},get truncateSync(){return Zf},get umount(){return La},get unlink(){return Wy},get unlinkSync(){return ds},get unwatchFile(){return yw},get utimes(){return cw},get utimesSync(){return Pa},get watch(){return ww},get watchFile(){return hw},get write(){return qy},get writeFile(){return Uy},get writeFileSync(){return Pn},get writeSync(){return su},get writev(){return Sw},get writevSync(){return mu}},Symbol.toStringTag,{value:"Module"})),Zo={},ea=Object.freeze(Object.defineProperty({__proto__:null,default:Zo},Symbol.toStringTag,{value:"Module"}));function ta(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var $e={},ra,na,uc=$e.endianness=function(){return"LE"},dc=$e.hostname=function(){return typeof location<"u"?location.hostname:""},hc=$e.loadavg=function(){return[]},yc=$e.uptime=function(){return 0},wc=$e.freemem=function(){return Number.MAX_VALUE},pc=$e.totalmem=function(){return Number.MAX_VALUE},mc=$e.cpus=function(){return[]},gc=$e.type=function(){return"Browser"},_c=$e.release=function(){return typeof navigator<"u"?navigator.appVersion:""},bc=$e.networkInterfaces=na=$e.getNetworkInterfaces=function(){return{}},Ec=$e.arch=function(){return"javascript"},Sc=$e.platform=function(){return"browser"},vc=$e.tmpdir=ra=$e.tmpDir=function(){return"/tmp"},Ac=$e.EOL=`
`,Ic=$e.homedir=function(){return"/"};const Rc=Qo({__proto__:null,EOL:Ac,arch:Ec,cpus:mc,default:$e,endianness:uc,freemem:wc,get getNetworkInterfaces(){return na},homedir:Ic,hostname:dc,loadavg:hc,networkInterfaces:bc,platform:Sc,release:_c,get tmpDir(){return ra},tmpdir:vc,totalmem:pc,type:gc,uptime:yc},[$e]);function bt(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function Hs(t,e){for(var r="",n=0,i=-1,s=0,o,a=0;a<=t.length;++a){if(a<t.length)o=t.charCodeAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){var f=r.lastIndexOf("/");if(f!==r.length-1){f===-1?(r="",n=0):(r=r.slice(0,f),n=r.length-1-r.lastIndexOf("/")),i=a,s=0;continue}}else if(r.length===2||r.length===1){r="",n=0,i=a,s=0;continue}}e&&(r.length>0?r+="/..":r="..",n=2)}else r.length>0?r+="/"+t.slice(i+1,a):r=t.slice(i+1,a),n=a-i-1;i=a,s=0}else o===46&&s!==-1?++s:s=-1}return r}function Nc(t,e){var r=e.dir||e.root,n=e.base||(e.name||"")+(e.ext||"");return r?r===e.root?r+n:r+t+n:n}var _r={resolve:function(){for(var e="",r=!1,n,i=arguments.length-1;i>=-1&&!r;i--){var s;i>=0?s=arguments[i]:(n===void 0&&(n=process.cwd()),s=n),bt(s),s.length!==0&&(e=s+"/"+e,r=s.charCodeAt(0)===47)}return e=Hs(e,!r),r?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(e){if(bt(e),e.length===0)return".";var r=e.charCodeAt(0)===47,n=e.charCodeAt(e.length-1)===47;return e=Hs(e,!r),e.length===0&&!r&&(e="."),e.length>0&&n&&(e+="/"),r?"/"+e:e},isAbsolute:function(e){return bt(e),e.length>0&&e.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var e,r=0;r<arguments.length;++r){var n=arguments[r];bt(n),n.length>0&&(e===void 0?e=n:e+="/"+n)}return e===void 0?".":_r.normalize(e)},relative:function(e,r){if(bt(e),bt(r),e===r||(e=_r.resolve(e),r=_r.resolve(r),e===r))return"";for(var n=1;n<e.length&&e.charCodeAt(n)===47;++n);for(var i=e.length,s=i-n,o=1;o<r.length&&r.charCodeAt(o)===47;++o);for(var a=r.length,f=a-o,u=s<f?s:f,y=-1,w=0;w<=u;++w){if(w===u){if(f>u){if(r.charCodeAt(o+w)===47)return r.slice(o+w+1);if(w===0)return r.slice(o+w)}else s>u&&(e.charCodeAt(n+w)===47?y=w:w===0&&(y=0));break}var g=e.charCodeAt(n+w),b=r.charCodeAt(o+w);if(g!==b)break;g===47&&(y=w)}var T="";for(w=n+y+1;w<=i;++w)(w===i||e.charCodeAt(w)===47)&&(T.length===0?T+="..":T+="/..");return T.length>0?T+r.slice(o+y):(o+=y,r.charCodeAt(o)===47&&++o,r.slice(o))},_makeLong:function(e){return e},dirname:function(e){if(bt(e),e.length===0)return".";for(var r=e.charCodeAt(0),n=r===47,i=-1,s=!0,o=e.length-1;o>=1;--o)if(r=e.charCodeAt(o),r===47){if(!s){i=o;break}}else s=!1;return i===-1?n?"/":".":n&&i===1?"//":e.slice(0,i)},basename:function(e,r){if(r!==void 0&&typeof r!="string")throw new TypeError('"ext" argument must be a string');bt(e);var n=0,i=-1,s=!0,o;if(r!==void 0&&r.length>0&&r.length<=e.length){if(r.length===e.length&&r===e)return"";var a=r.length-1,f=-1;for(o=e.length-1;o>=0;--o){var u=e.charCodeAt(o);if(u===47){if(!s){n=o+1;break}}else f===-1&&(s=!1,f=o+1),a>=0&&(u===r.charCodeAt(a)?--a===-1&&(i=o):(a=-1,i=f))}return n===i?i=f:i===-1&&(i=e.length),e.slice(n,i)}else{for(o=e.length-1;o>=0;--o)if(e.charCodeAt(o)===47){if(!s){n=o+1;break}}else i===-1&&(s=!1,i=o+1);return i===-1?"":e.slice(n,i)}},extname:function(e){bt(e);for(var r=-1,n=0,i=-1,s=!0,o=0,a=e.length-1;a>=0;--a){var f=e.charCodeAt(a);if(f===47){if(!s){n=a+1;break}continue}i===-1&&(s=!1,i=a+1),f===46?r===-1?r=a:o!==1&&(o=1):r!==-1&&(o=-1)}return r===-1||i===-1||o===0||o===1&&r===i-1&&r===n+1?"":e.slice(r,i)},format:function(e){if(e===null||typeof e!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return Nc("/",e)},parse:function(e){bt(e);var r={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return r;var n=e.charCodeAt(0),i=n===47,s;i?(r.root="/",s=1):s=0;for(var o=-1,a=0,f=-1,u=!0,y=e.length-1,w=0;y>=s;--y){if(n=e.charCodeAt(y),n===47){if(!u){a=y+1;break}continue}f===-1&&(u=!1,f=y+1),n===46?o===-1?o=y:w!==1&&(w=1):o!==-1&&(w=-1)}return o===-1||f===-1||w===0||w===1&&o===f-1&&o===a+1?f!==-1&&(a===0&&i?r.base=r.name=e.slice(1,f):r.base=r.name=e.slice(a,f)):(a===0&&i?(r.name=e.slice(1,o),r.base=e.slice(1,f)):(r.name=e.slice(a,o),r.base=e.slice(a,f)),r.ext=e.slice(o,f)),a>0?r.dir=e.slice(0,a-1):i&&(r.dir="/"),r},sep:"/",delimiter:":",win32:null,posix:null};_r.posix=_r;var ia=_r;const Tc=ta(ia),Ys=Qo({__proto__:null,default:Tc},[ia]);var R;(function(t){t[t.EPERM=1]="EPERM",t[t.ENOENT=2]="ENOENT",t[t.EINTR=4]="EINTR",t[t.EIO=5]="EIO",t[t.ENXIO=6]="ENXIO",t[t.EBADF=9]="EBADF",t[t.EAGAIN=11]="EAGAIN",t[t.ENOMEM=12]="ENOMEM",t[t.EACCES=13]="EACCES",t[t.EFAULT=14]="EFAULT",t[t.ENOTBLK=15]="ENOTBLK",t[t.EBUSY=16]="EBUSY",t[t.EEXIST=17]="EEXIST",t[t.EXDEV=18]="EXDEV",t[t.ENODEV=19]="ENODEV",t[t.ENOTDIR=20]="ENOTDIR",t[t.EISDIR=21]="EISDIR",t[t.EINVAL=22]="EINVAL",t[t.ENFILE=23]="ENFILE",t[t.EMFILE=24]="EMFILE",t[t.ETXTBSY=26]="ETXTBSY",t[t.EFBIG=27]="EFBIG",t[t.ENOSPC=28]="ENOSPC",t[t.ESPIPE=29]="ESPIPE",t[t.EROFS=30]="EROFS",t[t.EMLINK=31]="EMLINK",t[t.EPIPE=32]="EPIPE",t[t.EDOM=33]="EDOM",t[t.ERANGE=34]="ERANGE",t[t.EDEADLK=35]="EDEADLK",t[t.ENAMETOOLONG=36]="ENAMETOOLONG",t[t.ENOLCK=37]="ENOLCK",t[t.ENOSYS=38]="ENOSYS",t[t.ENOTEMPTY=39]="ENOTEMPTY",t[t.ELOOP=40]="ELOOP",t[t.ENOMSG=42]="ENOMSG",t[t.EBADE=52]="EBADE",t[t.EBADR=53]="EBADR",t[t.EXFULL=54]="EXFULL",t[t.ENOANO=55]="ENOANO",t[t.EBADRQC=56]="EBADRQC",t[t.ENOSTR=60]="ENOSTR",t[t.ENODATA=61]="ENODATA",t[t.ETIME=62]="ETIME",t[t.ENOSR=63]="ENOSR",t[t.ENONET=64]="ENONET",t[t.EREMOTE=66]="EREMOTE",t[t.ENOLINK=67]="ENOLINK",t[t.ECOMM=70]="ECOMM",t[t.EPROTO=71]="EPROTO",t[t.EBADMSG=74]="EBADMSG",t[t.EOVERFLOW=75]="EOVERFLOW",t[t.EBADFD=77]="EBADFD",t[t.ESTRPIPE=86]="ESTRPIPE",t[t.ENOTSOCK=88]="ENOTSOCK",t[t.EDESTADDRREQ=89]="EDESTADDRREQ",t[t.EMSGSIZE=90]="EMSGSIZE",t[t.EPROTOTYPE=91]="EPROTOTYPE",t[t.ENOPROTOOPT=92]="ENOPROTOOPT",t[t.EPROTONOSUPPORT=93]="EPROTONOSUPPORT",t[t.ESOCKTNOSUPPORT=94]="ESOCKTNOSUPPORT",t[t.ENOTSUP=95]="ENOTSUP",t[t.ENETDOWN=100]="ENETDOWN",t[t.ENETUNREACH=101]="ENETUNREACH",t[t.ENETRESET=102]="ENETRESET",t[t.ETIMEDOUT=110]="ETIMEDOUT",t[t.ECONNREFUSED=111]="ECONNREFUSED",t[t.EHOSTDOWN=112]="EHOSTDOWN",t[t.EHOSTUNREACH=113]="EHOSTUNREACH",t[t.EALREADY=114]="EALREADY",t[t.EINPROGRESS=115]="EINPROGRESS",t[t.ESTALE=116]="ESTALE",t[t.EREMOTEIO=121]="EREMOTEIO",t[t.EDQUOT=122]="EDQUOT"})(R||(R={}));const qs={[R.EPERM]:"Operation not permitted",[R.ENOENT]:"No such file or directory",[R.EINTR]:"Interrupted system call",[R.EIO]:"Input/output error",[R.ENXIO]:"No such device or address",[R.EBADF]:"Bad file descriptor",[R.EAGAIN]:"Resource temporarily unavailable",[R.ENOMEM]:"Cannot allocate memory",[R.EACCES]:"Permission denied",[R.EFAULT]:"Bad address",[R.ENOTBLK]:"Block device required",[R.EBUSY]:"Resource busy or locked",[R.EEXIST]:"File exists",[R.EXDEV]:"Invalid cross-device link",[R.ENODEV]:"No such device",[R.ENOTDIR]:"File is not a directory",[R.EISDIR]:"File is a directory",[R.EINVAL]:"Invalid argument",[R.ENFILE]:"Too many open files in system",[R.EMFILE]:"Too many open files",[R.ETXTBSY]:"Text file busy",[R.EFBIG]:"File is too big",[R.ENOSPC]:"No space left on disk",[R.ESPIPE]:"Illegal seek",[R.EROFS]:"Cannot modify a read-only file system",[R.EMLINK]:"Too many links",[R.EPIPE]:"Broken pipe",[R.EDOM]:"Numerical argument out of domain",[R.ERANGE]:"Numerical result out of range",[R.EDEADLK]:"Resource deadlock would occur",[R.ENAMETOOLONG]:"File name too long",[R.ENOLCK]:"No locks available",[R.ENOSYS]:"Function not implemented",[R.ENOTEMPTY]:"Directory is not empty",[R.ELOOP]:"Too many levels of symbolic links",[R.ENOMSG]:"No message of desired type",[R.EBADE]:"Invalid exchange",[R.EBADR]:"Invalid request descriptor",[R.EXFULL]:"Exchange full",[R.ENOANO]:"No anode",[R.EBADRQC]:"Invalid request code",[R.ENOSTR]:"Device not a stream",[R.ENODATA]:"No data available",[R.ETIME]:"Timer expired",[R.ENOSR]:"Out of streams resources",[R.ENONET]:"Machine is not on the network",[R.EREMOTE]:"Object is remote",[R.ENOLINK]:"Link has been severed",[R.ECOMM]:"Communication error on send",[R.EPROTO]:"Protocol error",[R.EBADMSG]:"Bad message",[R.EOVERFLOW]:"Value too large for defined data type",[R.EBADFD]:"File descriptor in bad state",[R.ESTRPIPE]:"Streams pipe error",[R.ENOTSOCK]:"Socket operation on non-socket",[R.EDESTADDRREQ]:"Destination address required",[R.EMSGSIZE]:"Message too long",[R.EPROTOTYPE]:"Protocol wrong type for socket",[R.ENOPROTOOPT]:"Protocol not available",[R.EPROTONOSUPPORT]:"Protocol not supported",[R.ESOCKTNOSUPPORT]:"Socket type not supported",[R.ENOTSUP]:"Operation is not supported",[R.ENETDOWN]:"Network is down",[R.ENETUNREACH]:"Network is unreachable",[R.ENETRESET]:"Network dropped connection on reset",[R.ETIMEDOUT]:"Connection timed out",[R.ECONNREFUSED]:"Connection refused",[R.EHOSTDOWN]:"Host is down",[R.EHOSTUNREACH]:"No route to host",[R.EALREADY]:"Operation already in progress",[R.EINPROGRESS]:"Operation now in progress",[R.ESTALE]:"Stale file handle",[R.EREMOTEIO]:"Remote I/O error",[R.EDQUOT]:"Disk quota exceeded"};class E extends Error{static fromJSON(e){const r=new E(e.errno,e.message,e.path,e.syscall);return r.code=e.code,r.stack=e.stack,r}static With(e,r,n){return new E(R[e],qs[R[e]],r,n)}constructor(e,r=qs[e],n,i=""){super(r),this.errno=e,this.message=r,this.path=n,this.syscall=i,this.code=R[e]}toString(){return this.code+": "+this.message+(this.path?`, '${this.path}'`:"")}toJSON(){return{errno:this.errno,code:this.code,path:this.path,stack:this.stack,message:this.message,syscall:this.syscall}}bufferSize(){return 4+JSON.stringify(this.toJSON()).length}}var sa={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(f,u,y){this.fn=f,this.context=u,this.once=y||!1}function s(f,u,y,w,g){if(typeof y!="function")throw new TypeError("The listener must be a function");var b=new i(y,w||f,g),T=r?r+u:u;return f._events[T]?f._events[T].fn?f._events[T]=[f._events[T],b]:f._events[T].push(b):(f._events[T]=b,f._eventsCount++),f}function o(f,u){--f._eventsCount===0?f._events=new n:delete f._events[u]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],y,w;if(this._eventsCount===0)return u;for(w in y=this._events)e.call(y,w)&&u.push(r?w.slice(1):w);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(y)):u},a.prototype.listeners=function(u){var y=r?r+u:u,w=this._events[y];if(!w)return[];if(w.fn)return[w.fn];for(var g=0,b=w.length,T=new Array(b);g<b;g++)T[g]=w[g].fn;return T},a.prototype.listenerCount=function(u){var y=r?r+u:u,w=this._events[y];return w?w.fn?1:w.length:0},a.prototype.emit=function(u,y,w,g,b,T){var v=r?r+u:u;if(!this._events[v])return!1;var I=this._events[v],B=arguments.length,V,x;if(I.fn){switch(I.once&&this.removeListener(u,I.fn,void 0,!0),B){case 1:return I.fn.call(I.context),!0;case 2:return I.fn.call(I.context,y),!0;case 3:return I.fn.call(I.context,y,w),!0;case 4:return I.fn.call(I.context,y,w,g),!0;case 5:return I.fn.call(I.context,y,w,g,b),!0;case 6:return I.fn.call(I.context,y,w,g,b,T),!0}for(x=1,V=new Array(B-1);x<B;x++)V[x-1]=arguments[x];I.fn.apply(I.context,V)}else{var W=I.length,M;for(x=0;x<W;x++)switch(I[x].once&&this.removeListener(u,I[x].fn,void 0,!0),B){case 1:I[x].fn.call(I[x].context);break;case 2:I[x].fn.call(I[x].context,y);break;case 3:I[x].fn.call(I[x].context,y,w);break;case 4:I[x].fn.call(I[x].context,y,w,g);break;default:if(!V)for(M=1,V=new Array(B-1);M<B;M++)V[M-1]=arguments[M];I[x].fn.apply(I[x].context,V)}}return!0},a.prototype.on=function(u,y,w){return s(this,u,y,w,!1)},a.prototype.once=function(u,y,w){return s(this,u,y,w,!0)},a.prototype.removeListener=function(u,y,w,g){var b=r?r+u:u;if(!this._events[b])return this;if(!y)return o(this,b),this;var T=this._events[b];if(T.fn)T.fn===y&&(!g||T.once)&&(!w||T.context===w)&&o(this,b);else{for(var v=0,I=[],B=T.length;v<B;v++)(T[v].fn!==y||g&&!T[v].once||w&&T[v].context!==w)&&I.push(T[v]);I.length?this._events[b]=I.length===1?I[0]:I:o(this,b)}return this},a.prototype.removeAllListeners=function(u){var y;return u?(y=r?r+u:u,this._events[y]&&o(this,y)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a})(sa);var xc=sa.exports;const oa=ta(xc);var Jo;class Oc extends oa{constructor(r){super();Qt(this,Jo,"List");Qt(this,"data",new Set);r&&this.push(...r)}toSet(){return new Set(this.data)}toArray(){return Array.from(this.data)}toJSON(){return JSON.stringify(Array.from(this.data))}toString(){return this.join(",")}_set(r,n,i=!1){if(Math.abs(r)>this.data.size)throw new ReferenceError("Can not set an element outside the bounds of the list");const s=Array.from(this.data);s.splice(r,+i,n),this.data=new Set(s),this.emit("update")}set(r,n){this._set(r,n,!0)}deleteAt(r){if(Math.abs(r)>this.data.size)throw new ReferenceError("Can not delete an element outside the bounds of the list");this.delete(Array.from(this.data).at(r))}insert(r,n=this.data.size){this._set(n,r,!1)}at(r){if(Math.abs(r)>this.data.size)throw new ReferenceError("Can not access an element outside the bounds of the list");return Array.from(this.data).at(r)}pop(){const r=Array.from(this.data).pop();return r!==void 0&&this.delete(r),r}push(...r){for(const n of r)this.add(n);return this.data.size}join(r){return Array.from(this.data).join(r)}splice(r,n,...i){if(Math.abs(r)>this.data.size)throw new ReferenceError("Can not splice elements outside the bounds of the list");const s=Array.from(this.data),o=s.splice(r,n,...i);return this.data=new Set(s),this.emit("update"),o}add(r){return this.data.add(r),this.emit("update"),this.emit("add",r),this}clear(){this.data.clear(),this.emit("update")}delete(r){const n=this.data.delete(r);return this.emit("update"),n}has(r){return this.data.has(r)}get size(){return this.data.size}entries(){return this.toArray().entries()}keys(){return this.toArray().keys()}values(){return this.data.values()}[(Jo=Symbol.toStringTag,Symbol.iterator)](){return this.data[Symbol.iterator]()}}function Ks(t=new Error){const e=setTimeout(()=>{throw t},5e3);return()=>clearTimeout(e)}function Re(t){throw t}const Xs=Intl.NumberFormat("en",{notation:"compact"});Xs.format.bind(Xs);function aa(t,...e){const r={};for(const n of e.flat())r[n]=t[n];return r}function kc(t){try{return JSON.parse(t),!0}catch{return!1}}function Di(t=0,e=1){return Math.round(Math.random()*(e-t)+t)}function es(t){return t.at(0).toUpperCase()+t.slice(1)}new TextEncoder;new TextDecoder;function Yr(t,e){if(t.byteLength>=e)return t;if(ArrayBuffer.isView(t)){const n=Yr(t.buffer,e);return new t.constructor(n,t.byteOffset,e)}const r=typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer;if(t.maxByteLength>e)return r?t.grow(e):t.resize(e),t;if(r){const n=new SharedArrayBuffer(e);return new Uint8Array(n).set(new Uint8Array(t)),n}try{return t.transfer(e)}catch{const n=new ArrayBuffer(e);return new Uint8Array(n).set(new Uint8Array(t)),n}}function Dc(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(t)}var Lc={};let Mc="process"in globalThis&&"env"in globalThis.process&&Lc.U_DEBUG=="true";function qr(...t){Mc&&console.debug("[U]",...t)}const Js=["int8","uint8","int16","uint16","int32","uint32","int64","uint64","int128","uint128","float32","float64","float128"],Bc=[...Js,...Js.map(t=>es(t)),"char"],ts=/^(u?int|float)(8|16|32|64|128)$/i;function la(t){return t=="char"?"uint8":t.toLowerCase()}function rs(t){return ts.test(t.toString())}function Li(t){return t=="char"||ts.test(t.toString().toLowerCase())}function Fc(t){if(!Li(t))throw new TypeError("Not a valid primitive type: "+t)}const Qs=BigInt("0xffffffffffffffff");Symbol.metadata??(Symbol.metadata=Symbol.for("Symbol.metadata"));Object.assign(Symbol,{size:Symbol("uSize"),serialize:Symbol("uSerialize"),deserialize:Symbol("uDeserialize")});function ca(t){return t.metadata??(t.metadata={}),t.metadata.structInit=[...t.metadata.structInit??[]],t.metadata.structInit}function Cc(t){return t!=null&&typeof t=="object"&&"struct"in t}function Tn(t){Symbol.metadata in t||Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:Object.create(null)})}function gt(t){return typeof t=="function"&&Symbol.metadata in t&&Cc(t[Symbol.metadata])}function tn(t){return t!=null&&typeof t=="object"&&gt(t.constructor)}function fa(t){if(!tn(t))throw new TypeError((typeof t=="function"?t.name:typeof t=="object"&&t?t.constructor.name:t)+" is not a struct instance")}function ns(t){return tn(t)||gt(t)}function ua(t){if(!ns(t))throw new TypeError((typeof t=="function"?t.name:typeof t=="object"&&t?t.constructor.name:t)+" is not a struct")}function is(t){return typeof t=="object"&&t!=null&&Symbol.size in t}function De(t){if(t==null)return 0;if(Array.isArray(t)){let i=0;for(let s=0;s<t.length;s++)i+=De(t[s]);return i}if(typeof t=="string")return Fc(t),+la(t).match(ts)[2]/8;if(is(t))return t[Symbol.size];ua(t);const e=gt(t)?t:t.constructor;Tn(e);const{struct:r}=e[Symbol.metadata];let n=r.staticSize;if(gt(t))return n;for(const i of r.members.values()){const s=t[i.name];if(tn(s)&&s.constructor[Symbol.metadata].struct.isDynamic){r.isUnion?n=Math.max(n,De(s)):n+=De(s);continue}if(typeof i.length!="string")continue;let o=0;for(let a=0;a<t[i.length];a++)o+=De(ns(s[a])?s[a]:i.type);r.isUnion?n=Math.max(n,o):n+=o}return n}function Wc(t,e){var s;ua(t);const r=gt(t)?t:t.constructor;Tn(r);const{struct:n}=r[Symbol.metadata];if(gt(t)||!n.isDynamic)return((s=n.members.get(e))==null?void 0:s.staticOffset)??Re(new Error("Struct does not have member: "+e));let i=0;for(const o of n.members.values()){if(o.name==e)return i;const a=t[o.name];i+=De(ns(a)?a:o.type)}throw new Error("Struct does not have member: "+e)}function Pc(t,e){return Math.ceil(t/e)*e}function xn(t={}){return function(r,n){const i=new Map;let s=0,o=!1;for(const{name:a,type:f,length:u}of ca(n)){if(!Li(f)&&!gt(f))throw new TypeError("Not a valid type: "+f);if(typeof u=="string"){const g=i.get(u);if(!g)throw new Error(`"${u}" is undefined or declared after "${a}"`);if(!rs(g.type))throw new Error(`"${u}" is not a number and cannot be used to count "${a}"`)}let y=`${typeof f=="string"?f:f.name} ${a}`;u!==void 0&&(y+=`[${u}]`),i.set(a,{name:a,staticOffset:t.isUnion?0:s,type:Li(f)?la(f):f,length:u,decl:y});const w=typeof u=="string"||gt(f)&&f[Symbol.metadata].struct.isDynamic?0:De(f)*(u||1);o||(o=gt(f)?f[Symbol.metadata].struct.isDynamic:typeof u=="string"),s=t.isUnion?Math.max(s,w):s+w,s=Pc(s,t.align||1),qr("define",r.name+"."+a)}return n.metadata.struct={options:t,members:i,staticSize:s,isDynamic:o,isUnion:t.isUnion??!1},r}}function Mi(t,e){return function(r,n){let i=n.name;if(typeof i=="symbol"&&(console.warn("Symbol used for struct member name will be coerced to string: "+i.toString()),i=i.toString()),!i)throw new ReferenceError("Invalid name for struct member");return ca(n).push({name:i,type:t,length:e}),r}}function da(t,e){return e.length===void 0?-1:typeof e.length=="string"?t[e.length]:Number.isSafeInteger(e.length)&&e.length>=0?e.length:Re(new Error("Array lengths must be natural numbers"))}function Ze(t){if(is(t)&&typeof t[Symbol.serialize]=="function")return t[Symbol.serialize]();fa(t),Tn(t.constructor);const{options:e,members:r}=t.constructor[Symbol.metadata].struct,n=De(t),i=new Uint8Array(n),s=new DataView(i.buffer);qr("serialize",t.constructor.name);let o=0,a=0;for(const f of r.values()){const u=da(t,f);qr("	",f.decl);for(let y=0;y<Math.abs(u);y++){let w=u!=-1?t[f.name][y]:t[f.name];if(typeof w=="string"&&(w=w.charCodeAt(0)),o=a,a+=tn(w)?De(w):De(f.type),!rs(f.type)){i.set(w?Ze(w):new Uint8Array(De(f.type)),o);continue}const g=`set${es(f.type)}`;if(g=="setInt64"){s.setBigInt64(o,BigInt(w),!e.bigEndian);continue}if(g=="setUint64"){s.setBigUint64(o,BigInt(w),!e.bigEndian);continue}if(g=="setInt128"){s.setBigUint64(o+(e.bigEndian?8:0),w&Qs,!e.bigEndian),s.setBigInt64(o+(e.bigEndian?0:8),w>>BigInt(64),!e.bigEndian);continue}if(g=="setUint128"){s.setBigUint64(o+(e.bigEndian?8:0),w&Qs,!e.bigEndian),s.setBigUint64(o+(e.bigEndian?0:8),w>>BigInt(64),!e.bigEndian);continue}if(g=="setFloat128"){s.setFloat64(o+(e.bigEndian?8:0),Number(w),!e.bigEndian),s.setBigUint64(o+(e.bigEndian?0:8),BigInt(0),!e.bigEndian);continue}s[g](o,Number(w),!e.bigEndian)}}return i}function On(t,e){const r=Dc(e);if(is(t)&&typeof t[Symbol.deserialize]=="function")return t[Symbol.deserialize](r);fa(t),Tn(t.constructor);const{options:n,members:i}=t.constructor[Symbol.metadata].struct,s=new DataView(r.buffer,r.byteOffset,r.byteLength);qr("deserialize",t.constructor.name);let o=0,a=0;for(const f of i.values()){const u=da(t,f);qr("	",f.decl);for(let y=0;y<Math.abs(u);y++){let w=u!=-1?t[f.name]:t;const g=u!=-1?y:f.name,b=w[g]===null||w[g]===void 0,T=b&&gt(f.type)&&f.type[Symbol.metadata].struct.isDynamic;if(o=a,!tn(w[g])&&!T&&(a+=De(f.type)),typeof t[f.name]=="string"){t[f.name]=t[f.name].slice(0,y)+String.fromCharCode(s.getUint8(o))+t[f.name].slice(y+1);continue}if(!rs(f.type)){if(T&&gt(f.type))w[g]??(w[g]=new f.type);else if(b)continue;On(w[g],new Uint8Array(r.subarray(o))),a+=De(w[g]);continue}u&&u!=-1&&(w||(w=[]));const v=`get${es(f.type)}`;if(v=="getInt64"){w[g]=s.getBigInt64(o,!n.bigEndian);continue}if(v=="getUint64"){w[g]=s.getBigUint64(o,!n.bigEndian);continue}if(v=="getInt128"){w[g]=s.getBigInt64(o+(n.bigEndian?0:8),!n.bigEndian)<<BigInt(64)|s.getBigUint64(o+(n.bigEndian?8:0),!n.bigEndian);continue}if(v=="getUint128"){w[g]=s.getBigUint64(o+(n.bigEndian?0:8),!n.bigEndian)<<BigInt(64)|s.getBigUint64(o+(n.bigEndian?8:0),!n.bigEndian);continue}if(v=="getFloat128"){w[g]=s.getFloat64(o+(n.bigEndian?8:0),!n.bigEndian);continue}w[g]=s[v](o,!n.bigEndian)}}}function $c(t){function e(r,n){return typeof r=="number"||typeof r=="string"?Mi(t,r):Mi(t)(r,n)}return e}const oe=Object.fromEntries(Bc.map(t=>[t,$c(t)]));let Uc="/";function ha(t,e){let r="",n=0,i=-1,s=0,o="\0";for(let a=0;a<=t.length;++a){if(a<t.length)o=t[a];else{if(o=="/")break;o="/"}if(o=="/"){if(!(i===a-1||s===1))if(s===2){if(r.length<2||n!==2||r.at(-1)!=="."||r.at(-2)!=="."){if(r.length>2){const f=r.lastIndexOf("/");f===-1?(r="",n=0):(r=r.slice(0,f),n=r.length-1-r.lastIndexOf("/")),i=a,s=0;continue}else if(r.length!==0){r="",n=0,i=a,s=0;continue}}e&&(r+=r.length>0?"/..":"..",n=2)}else r.length>0?r+="/"+t.slice(i+1,a):r=t.slice(i+1,a),n=a-i-1;i=a,s=0}else o==="."&&s!==-1?++s:s=-1}return r}function Mt(...t){let e="";for(const n of[...t.reverse(),Uc])if(n.length&&(e=`${n}/${e}`,n.startsWith("/")))break;const r=e.startsWith("/");return e=ha(e,!r),r?`/${e}`:e.length?e:"/"}function jc(t){if(!t.length)return".";const e=t.startsWith("/"),r=t.endsWith("/");return t=ha(t,!e),t.length?(r&&(t+="/"),e?`/${t}`:t):e?"/":r?"./":"."}function de(...t){if(!t.length)return".";const e=t.join("/");return e!=null&&e.length?jc(e):"."}function ya(t,e){if(t===e||(t=Mt(t),e=Mt(e),t===e))return"";const r=1,n=t.length,i=n-r,s=1,o=e.length-s,a=i<o?i:o;let f=-1,u=0;for(;u<a;u++){const w=t[r+u];if(w!==e[s+u])break;w==="/"&&(f=u)}if(u===a)if(o>a){if(e[s+u]==="/")return e.slice(s+u+1);if(u===0)return e.slice(s+u)}else i>a&&(t[r+u]==="/"?f=u:u===0&&(f=0));let y="";for(u=r+f+1;u<=n;++u)(u===n||t[u]==="/")&&(y+=y.length===0?"..":"/..");return`${y}${e.slice(s+f)}`}function se(t){if(t.length===0)return".";const e=t[0]==="/";let r=-1,n=!0;for(let i=t.length-1;i>=1;--i)if(t[i]==="/"){if(!n){r=i;break}}else n=!1;return r===-1?e?"/":".":e&&r===1?"//":t.slice(0,r)}function vr(t,e){let r=0,n=-1,i=!0;for(let s=t.length-1;s>=0;--s)if(t[s]==="/"){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":t.slice(r,n)}function Et(t){const e=t.startsWith("/"),r={root:e?"/":"",dir:"",base:"",ext:"",name:""};if(t.length===0)return r;const n=e?1:0;let i=-1,s=0,o=-1,a=!0,f=t.length-1,u=0;for(;f>=n;--f){if(t[f]==="/"){if(!a){s=f+1;break}continue}o===-1&&(a=!1,o=f+1),t[f]==="."?i===-1?i=f:u!==1&&(u=1):i!==-1&&(u=-1)}if(o!==-1){const y=s===0&&e?1:s;i===-1||u===0||u===1&&i===o-1&&i===s+1?r.base=r.name=t.slice(y,o):(r.name=t.slice(y,i),r.base=t.slice(y,o),r.ext=t.slice(i,o))}return s>0?r.dir=t.slice(0,s-1):e&&(r.dir="/"),r}var Y;(function(t){t[t.EMERG=0]="EMERG",t[t.ALERT=1]="ALERT",t[t.CRIT=2]="CRIT",t[t.ERR=3]="ERR",t[t.WARN=4]="WARN",t[t.NOTICE=5]="NOTICE",t[t.INFO=6]="INFO",t[t.DEBUG=7]="DEBUG"})(Y||(Y={}));Y.EMERG+"",Y.ALERT+"",Y.CRIT+"",Y.ERR+"",Y.WARN+"",Y.NOTICE+"",Y.INFO+"",Y.DEBUG+"";const zc=new Oc;function wa(t,e){const r={level:t,message:e,timestamp:new Date,elapsedMs:performance.now()};zc.add(r),Zc(r)}function Vc(t,e){var r,n;if(!(t instanceof E))return t.toString();const i=t.code+": "+t.message;if(!t.path)return i;const s=typeof e.fs=="string"?e.fs:(n=(r=e.fs)===null||r===void 0?void 0:r._mountPoint)!==null&&n!==void 0?n:"<unknown>";return i+": "+de(s,t.path)}function Vt(t){return function(e,r={}){return wa(t,Vc(e,r)),e}}Vt(Y.EMERG);const Gc=Vt(Y.ALERT),kn=Vt(Y.CRIT),nr=Vt(Y.ERR),lt=Vt(Y.WARN),pa=Vt(Y.NOTICE),Hc=Vt(Y.INFO),Gr=Vt(Y.DEBUG);function Kr(t){wa(Y.WARN,t+" is deprecated and should not be used.")}function Yc(t,e){return`\x1B[${e}m${t}\x1B[0m`}function qc(t,e){const r="["+(t.elapsedMs/1e3).toFixed(3).padStart(10)+"] ";switch(e){case"ansi":return Yc(r,"2;37");case"css":return["%c"+r,"opacity: 0.8; color: white;"];default:return r}}Y.EMERG+"",Y.ALERT+"",Y.CRIT+"",Y.ERR+"",Y.WARN+"",Y.NOTICE+"",Y.INFO+"",Y.DEBUG+"";Y.EMERG+"",Y.ALERT+"",Y.CRIT+"",Y.ERR+"",Y.WARN+"",Y.NOTICE+"",Y.INFO+"",Y.DEBUG+"";Y.EMERG+"",Y.ALERT+"",Y.CRIT+"",Y.ERR+"",Y.WARN+"",Y.NOTICE+"",Y.INFO+"",Y.DEBUG+"";Y.EMERG+"",Y.ALERT+"",Y.CRIT+"",Y.ERR+"",Y.WARN+"",Y.NOTICE+"",Y.INFO+"",Y.DEBUG+"";const Kc={default(t){return[qc(t),t.message]}};let Xc=Kc.default;function Jc(t){const e=Xc(t);return Array.isArray(e)?e:[e]}let Qc=console.error;function Zc(t){t.level>ef||Qc(...Jc(t))}let ef=Y.ALERT;const Tr={uid:0,gid:0,suid:0,sgid:0,euid:0,egid:0,groups:[]};function tf(t){return{suid:t.uid,sgid:t.gid,euid:t.uid,egid:t.gid,groups:[],...t}}const ss=0,rt=4,Ue=2,hn=1,os=1,rf=2,nf=4,Bi=0,$r=1,tr=2,Ot=64,Ur=128,sf=256,jr=512,zr=1024,of=65536,af=262144,lf=131072,Fi=1052672,cf=4096,ff=32768,uf=16384,df=2048,Be=61440,xr=49152,Gt=40960,It=32768,Or=24576,Pe=16384,kr=8192,Dr=4096,Xr=2048,Jr=1024,hf=512,yf=448,ma=256,ga=128,_a=64,wf=56,ba=32,Ea=16,Sa=8,pf=7,va=4,Aa=2,Ia=1,mf=0,nt=4294967295,Ra=Object.freeze(Object.defineProperty({__proto__:null,COPYFILE_EXCL:os,COPYFILE_FICLONE:rf,COPYFILE_FICLONE_FORCE:nf,F_OK:ss,O_APPEND:zr,O_CREAT:Ot,O_DIRECT:uf,O_DIRECTORY:of,O_DSYNC:cf,O_EXCL:Ur,O_NOATIME:af,O_NOCTTY:sf,O_NOFOLLOW:lf,O_NONBLOCK:df,O_RDONLY:Bi,O_RDWR:tr,O_SYMLINK:ff,O_SYNC:Fi,O_TRUNC:jr,O_WRONLY:$r,R_OK:rt,S_IFBLK:Or,S_IFCHR:kr,S_IFDIR:Pe,S_IFIFO:Dr,S_IFLNK:Gt,S_IFMT:Be,S_IFREG:It,S_IFSOCK:xr,S_IRGRP:ba,S_IROTH:va,S_IRUSR:ma,S_IRWXG:wf,S_IRWXO:pf,S_IRWXU:yf,S_ISGID:Jr,S_ISUID:Xr,S_ISVTX:hf,S_IWGRP:Ea,S_IWOTH:Aa,S_IWUSR:ga,S_IXGRP:Sa,S_IXOTH:Ia,S_IXUSR:_a,UV_FS_O_FILEMAP:mf,W_OK:Ue,X_OK:hn,size_max:nt},Symbol.toStringTag,{value:"Module"}));var Ge=function(t,e,r,n,i,s){function o(B){if(B!==void 0&&typeof B!="function")throw new TypeError("Function expected");return B}for(var a=n.kind,f=a==="getter"?"get":a==="setter"?"set":"value",u=!e&&t?n.static?t:t.prototype:null,y=e||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),w,g=!1,b=r.length-1;b>=0;b--){var T={};for(var v in n)T[v]=v==="access"?{}:n[v];for(var v in n.access)T.access[v]=n.access[v];T.addInitializer=function(B){if(g)throw new TypeError("Cannot add initializers after decoration has completed");s.push(o(B||null))};var I=(0,r[b])(a==="accessor"?{get:y.get,set:y.set}:y[f],T);if(a==="accessor"){if(I===void 0)continue;if(I===null||typeof I!="object")throw new TypeError("Object expected");(w=o(I.get))&&(y.get=w),(w=o(I.set))&&(y.set=w),(w=o(I.init))&&i.unshift(w)}else(w=o(I))&&(a==="field"?i.unshift(w):y[f]=w)}u&&Object.defineProperty(u,n.name,y),g=!0},ue=function(t,e,r){for(var n=arguments.length>2,i=0;i<e.length;i++)r=n?e[i].call(t,r):e[i].call(t);return n?r:void 0},gf=function(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})};const at=0,Ci=["ino","data","size","mode","flags","nlink","uid","gid","atimeMs","birthtimeMs","mtimeMs","ctimeMs"],_f=3;let He=(()=>{var t,e,r,n,i,s,o,a,f,u,y,w,g,b,T;let v=[xn()],I,B=[],V,x,W=[],M=[],ae,ce=[],re=[],P,ne=[],Te=[],fe,D=[],le=[],Z,ee=[],ge=[],_e,ye=[],be=[],q,we=[],H=[],Ee,Ce=[],Ye=[],qe,We=[],Ke=[],ct,st=[],Xe=[],S,A=[],L=[],z,j=[],ie=[],$,O=[],K=[],U,Je=[],Pt=[],ot,yr=[],d=[];return V=class{constructor(c){if(this.data=ue(this,W,Di(0,nt)),this.__data_old=(ue(this,M),ue(this,ce,0)),this.size=(ue(this,re),ue(this,ne,0)),this.mode=(ue(this,Te),ue(this,D,0)),this.nlink=(ue(this,le),ue(this,ee,1)),this.uid=(ue(this,ge),ue(this,ye,0)),this.gid=(ue(this,be),ue(this,we,0)),this.atimeMs=(ue(this,H),ue(this,Ce,Date.now())),this.birthtimeMs=(ue(this,Ye),ue(this,We,Date.now())),this.mtimeMs=(ue(this,Ke),ue(this,st,Date.now())),this.ctimeMs=(ue(this,Xe),ue(this,A,Date.now())),this.ino=(ue(this,L),ue(this,j,Di(0,nt))),this.__ino_old=(ue(this,ie),ue(this,O,0)),this.flags=(ue(this,K),ue(this,Je,0)),this.__padding=(ue(this,Pt),ue(this,yr,0)),ue(this,d),!!c){if(!("byteLength"in c)){Object.assign(this,c);return}if(c.byteLength<58)throw kn(new RangeError("Can not create an inode from a buffer less than 58 bytes"));if(c.byteLength<Qr){const l=ArrayBuffer.isView(c)?c.buffer:c,h=new Uint8Array(Qr);h.set(new Uint8Array(l)),Gr("Extending undersized buffer for inode"),c=h}On(this,c)}}toString(){return`<Inode ${this.ino}>`}toJSON(){return aa(this,Ci)}toStats(){return new gn(this)}update(c){if(!c)return!1;let l=!1;for(const h of Ci)c[h]!==void 0&&(h=="ino"||h=="data"||this[h]!==c[h]&&(this[h]=c[h],l=!0));return l}},gf(V,"Inode"),(()=>{const c=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;x=[(t=oe).uint32.bind(t)],ae=[(e=oe).uint32.bind(e)],P=[(r=oe).uint32.bind(r)],fe=[(n=oe).uint16.bind(n)],Z=[(i=oe).uint32.bind(i)],_e=[(s=oe).uint32.bind(s)],q=[(o=oe).uint32.bind(o)],Ee=[(a=oe).float64.bind(a)],qe=[(f=oe).float64.bind(f)],ct=[(u=oe).float64.bind(u)],S=[(y=oe).float64.bind(y)],z=[(w=oe).uint32.bind(w)],$=[(g=oe).uint32.bind(g)],U=[(b=oe).uint32.bind(b)],ot=[(T=oe).uint16.bind(T)],Ge(null,null,x,{kind:"field",name:"data",static:!1,private:!1,access:{has:l=>"data"in l,get:l=>l.data,set:(l,h)=>{l.data=h}},metadata:c},W,M),Ge(null,null,ae,{kind:"field",name:"__data_old",static:!1,private:!1,access:{has:l=>"__data_old"in l,get:l=>l.__data_old,set:(l,h)=>{l.__data_old=h}},metadata:c},ce,re),Ge(null,null,P,{kind:"field",name:"size",static:!1,private:!1,access:{has:l=>"size"in l,get:l=>l.size,set:(l,h)=>{l.size=h}},metadata:c},ne,Te),Ge(null,null,fe,{kind:"field",name:"mode",static:!1,private:!1,access:{has:l=>"mode"in l,get:l=>l.mode,set:(l,h)=>{l.mode=h}},metadata:c},D,le),Ge(null,null,Z,{kind:"field",name:"nlink",static:!1,private:!1,access:{has:l=>"nlink"in l,get:l=>l.nlink,set:(l,h)=>{l.nlink=h}},metadata:c},ee,ge),Ge(null,null,_e,{kind:"field",name:"uid",static:!1,private:!1,access:{has:l=>"uid"in l,get:l=>l.uid,set:(l,h)=>{l.uid=h}},metadata:c},ye,be),Ge(null,null,q,{kind:"field",name:"gid",static:!1,private:!1,access:{has:l=>"gid"in l,get:l=>l.gid,set:(l,h)=>{l.gid=h}},metadata:c},we,H),Ge(null,null,Ee,{kind:"field",name:"atimeMs",static:!1,private:!1,access:{has:l=>"atimeMs"in l,get:l=>l.atimeMs,set:(l,h)=>{l.atimeMs=h}},metadata:c},Ce,Ye),Ge(null,null,qe,{kind:"field",name:"birthtimeMs",static:!1,private:!1,access:{has:l=>"birthtimeMs"in l,get:l=>l.birthtimeMs,set:(l,h)=>{l.birthtimeMs=h}},metadata:c},We,Ke),Ge(null,null,ct,{kind:"field",name:"mtimeMs",static:!1,private:!1,access:{has:l=>"mtimeMs"in l,get:l=>l.mtimeMs,set:(l,h)=>{l.mtimeMs=h}},metadata:c},st,Xe),Ge(null,null,S,{kind:"field",name:"ctimeMs",static:!1,private:!1,access:{has:l=>"ctimeMs"in l,get:l=>l.ctimeMs,set:(l,h)=>{l.ctimeMs=h}},metadata:c},A,L),Ge(null,null,z,{kind:"field",name:"ino",static:!1,private:!1,access:{has:l=>"ino"in l,get:l=>l.ino,set:(l,h)=>{l.ino=h}},metadata:c},j,ie),Ge(null,null,$,{kind:"field",name:"__ino_old",static:!1,private:!1,access:{has:l=>"__ino_old"in l,get:l=>l.__ino_old,set:(l,h)=>{l.__ino_old=h}},metadata:c},O,K),Ge(null,null,U,{kind:"field",name:"flags",static:!1,private:!1,access:{has:l=>"flags"in l,get:l=>l.flags,set:(l,h)=>{l.flags=h}},metadata:c},Je,Pt),Ge(null,null,ot,{kind:"field",name:"__padding",static:!1,private:!1,access:{has:l=>"__padding"in l,get:l=>l.__padding,set:(l,h)=>{l.__padding=h}},metadata:c},yr,d),Ge(null,I={value:V},v,{kind:"class",name:V.name,metadata:c},null,B),V=I.value,c&&Object.defineProperty(V,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:c}),ue(V,B)})(),V})();const Qr=De(He),an=BigInt(1e3);class Na{_convert(e){return this._isBigint?BigInt(e):Number(e)}get blocks(){return this._convert(Math.ceil(Number(this.size)/512))}set blocks(e){}get atime(){return new Date(Number(this.atimeMs))}set atime(e){this.atimeMs=this._convert(e.getTime())}get mtime(){return new Date(Number(this.mtimeMs))}set mtime(e){this.mtimeMs=this._convert(e.getTime())}get ctime(){return new Date(Number(this.ctimeMs))}set ctime(e){this.ctimeMs=this._convert(e.getTime())}get birthtime(){return new Date(Number(this.birthtimeMs))}set birthtime(e){this.birthtimeMs=this._convert(e.getTime())}constructor({atimeMs:e,mtimeMs:r,ctimeMs:n,birthtimeMs:i,uid:s,gid:o,size:a,mode:f,ino:u,...y}={}){this.dev=this._convert(0),this.ino=this._convert(0),this.rdev=this._convert(0),this.nlink=this._convert(1),this.blksize=this._convert(4096),this.uid=this._convert(0),this.gid=this._convert(0);const w=Date.now();this.atimeMs=this._convert(e??w),this.mtimeMs=this._convert(r??w),this.ctimeMs=this._convert(n??w),this.birthtimeMs=this._convert(i??w),this.uid=this._convert(s??0),this.gid=this._convert(o??0),this.size=this._convert(a??0),this.ino=this._convert(u??0),this.mode=this._convert(f??420&It),this.mode&Be||(this.mode=this.mode|this._convert(It)),Object.assign(this,y)}isFile(){return(this.mode&Be)===It}isDirectory(){return(this.mode&Be)===Pe}isSymbolicLink(){return(this.mode&Be)===Gt}isSocket(){return(this.mode&Be)===xr}isBlockDevice(){return(this.mode&Be)===Or}isCharacterDevice(){return(this.mode&Be)===kr}isFIFO(){return(this.mode&Be)===Dr}toJSON(){return aa(this,Ci)}hasAccess(e,r){const n=(r==null?void 0:r.credentials)||Tr;if(this.isSymbolicLink()||n.euid===0||n.egid===0)return!0;let i=0;return n.uid===this.uid&&(this.mode&ma&&(i|=rt),this.mode&ga&&(i|=Ue),this.mode&_a&&(i|=hn)),(n.gid===this.gid||n.groups.includes(Number(this.gid)))&&(this.mode&ba&&(i|=rt),this.mode&Ea&&(i|=Ue),this.mode&Sa&&(i|=hn)),this.mode&va&&(i|=rt),this.mode&Aa&&(i|=Ue),this.mode&Ia&&(i|=hn),(i&e)===e}chmod(e){Kr("StatsCommon#chmod"),this.mode=this._convert(this.mode&Be|e)}chown(e,r){Kr("StatsCommon#chown"),e=Number(e),r=Number(r),!isNaN(e)&&0<=e&&e<2**32&&(this.uid=this._convert(e)),!isNaN(r)&&0<=r&&r<2**32&&(this.gid=this._convert(r))}get atimeNs(){return BigInt(this.atimeMs)*an}get mtimeNs(){return BigInt(this.mtimeMs)*an}get ctimeNs(){return BigInt(this.ctimeMs)*an}get birthtimeNs(){return BigInt(this.birthtimeMs)*an}}function Zs(t,e,r){!isNaN(e)&&0<=e&&e<nt&&(t.uid=e),!isNaN(r)&&0<=r&&r<2**32&&(t.gid=r)}class gn extends Na{constructor(){super(...arguments),this._isBigint=!1}}class or extends Na{constructor(){super(...arguments),this._isBigint=!0}}function bf(t,e){return t.size==e.size&&+t.atime==+e.atime&&+t.mtime==+e.mtime&&+t.ctime==+e.ctime&&t.mode==e.mode}class Ef{constructor(){this.type=525687744115,this.bsize=4096,this.blocks=0,this.bfree=0,this.bavail=0,this.files=nt,this.ffree=nt}}class Sf{constructor(){this.type=BigInt("0x7a656e6673"),this.bsize=BigInt(4096),this.blocks=BigInt(0),this.bfree=BigInt(0),this.bavail=BigInt(0),this.files=BigInt(nt),this.ffree=BigInt(nt)}}const et={checkAccess:!0,updateOnRead:!0,syncImmediately:!0,unsafeBufferReplace:!1};var ai,li,ci;(ai=Promise.withResolvers)!==null&&ai!==void 0||(Promise.withResolvers=(lt("Using a polyfill of Promise.withResolvers"),function(){let t,e;return{promise:new Promise((n,i)=>{t=n,e=i}),resolve:t,reject:e}}));(li=Symbol.dispose)!==null&&li!==void 0||(Symbol.dispose=(lt("Using a polyfill of Symbol.dispose"),Symbol("Symbol.dispose")));(ci=Symbol.asyncDispose)!==null&&ci!==void 0||(Symbol.asyncDispose=(lt("Using a polyfill of Symbol.asyncDispose"),Symbol("Symbol.asyncDispose")));const vf=["r","r+","rs","rs+","w","wx","w+","wx+","a","ax","a+","ax+"];function Dt(t){if(typeof t=="number")return Af(t);if(!vf.includes(t))throw new Error("Invalid flag string: "+t);return t}function Af(t){switch(t){case Bi:return"r";case Bi|Fi:return"rs";case tr:return"r+";case tr|Fi:return"rs+";case jr|Ot|$r:return"w";case jr|Ot|$r|Ur:return"wx";case jr|Ot|tr:return"w+";case jr|Ot|tr|Ur:return"wx+";case zr|Ot|$r:return"a";case zr|Ot|$r|Ur:return"ax";case zr|Ot|tr:return"a+";case zr|Ot|tr|Ur:return"ax+";default:throw new Error("Invalid flag number: "+t)}}function Ta(t){let e=0;return e<<=1,e+=+Dn(t),e<<=1,e+=+jt(t),e<<=1,e}function Dn(t){return t.indexOf("r")!==-1||t.indexOf("+")!==-1}function jt(t){return t.indexOf("w")!==-1||t.indexOf("a")!==-1||t.indexOf("+")!==-1}function xa(t){return t.indexOf("w")!==-1}function Lr(t){return t.indexOf("a")!==-1}function Oa(t){return t.indexOf("x")!==-1}class If{constructor(e,r){this.fs=e,this.path=r}async[Symbol.asyncDispose](){await this.close()}[Symbol.dispose](){this.closeSync()}datasync(){return this.sync()}datasyncSync(){return this.syncSync()}streamRead(e){return this.fs.streamRead(this.path,e)}streamWrite(e){return this.fs.streamWrite(this.path,e)}}class ln extends If{get position(){return Lr(this.flag)?this.stats.size:this._position}set position(e){this._position=e}constructor(e,r,n,i){super(e,r),this.flag=n,this.stats=i,this._position=0,this.dirty=!1,this.closed=!1}async sync(){if(this.closed)throw E.With("EBADF",this.path,"sync");this.dirty&&(this.fs.attributes.has("no_write")||await this.fs.sync(this.path,void 0,this.stats),this.dirty=!1)}syncSync(){if(this.closed)throw E.With("EBADF",this.path,"sync");this.dirty&&(this.fs.attributes.has("no_write")||this.fs.syncSync(this.path,void 0,this.stats),this.dirty=!1)}async close(){if(this.closed)throw E.With("EBADF",this.path,"close");await this.sync(),this.dispose()}closeSync(){if(this.closed)throw E.With("EBADF",this.path,"close");this.syncSync(),this.dispose()}dispose(e){if(this.closed)throw E.With("EBADF",this.path,"dispose");if(this.dirty&&!e)throw E.With("EBUSY",this.path,"dispose");this.closed=!0}stat(){if(this.closed)throw E.With("EBADF",this.path,"stat");return Promise.resolve(new gn(this.stats))}statSync(){if(this.closed)throw E.With("EBADF",this.path,"stat");return new gn(this.stats)}async truncate(e){if(this.closed)throw E.With("EBADF",this.path,"truncate");if(this.dirty=!0,!jt(this.flag))throw new E(R.EPERM,"File not opened with a writeable mode");this.stats.mtimeMs=Date.now(),this.stats.size=e,await this.sync()}truncateSync(e){if(this.closed)throw E.With("EBADF",this.path,"truncate");if(this.dirty=!0,!jt(this.flag))throw new E(R.EPERM,"File not opened with a writeable mode");this.stats.mtimeMs=Date.now(),this.stats.size=e,this.syncSync()}prepareWrite(e,r,n,i){if(this.closed)throw E.With("EBADF",this.path,"write");if(!jt(this.flag))throw new E(R.EPERM,"File not opened with a writeable mode");this.dirty=!0;const s=i+n,o=e.subarray(r,r+n);return s>this.stats.size&&(this.stats.size=s),this.stats.mtimeMs=Date.now(),this._position=i+o.byteLength,o}async write(e,r=0,n=e.byteLength-r,i=this.position){const s=this.prepareWrite(e,r,n,i);return await this.fs.write(this.path,s,i),await this.sync(),s.byteLength}writeSync(e,r=0,n=e.byteLength-r,i=this.position){const s=this.prepareWrite(e,r,n,i);return this.fs.writeSync(this.path,s,i),this.syncSync(),s.byteLength}prepareRead(e,r){if(this.closed)throw E.With("EBADF",this.path,"read");if(!Dn(this.flag))throw new E(R.EPERM,"File not opened with a readable mode");this.dirty=!0,this.stats.atimeMs=Date.now();let n=r+e;return n>this.stats.size&&(n=r+Math.max(this.stats.size-r,0)),this._position=n,n}async read(e,r=0,n=e.byteLength-r,i=this.position){const s=this.prepareRead(n,i),o=new Uint8Array(e.buffer,e.byteOffset,e.byteLength);return await this.fs.read(this.path,o.subarray(r,r+n),i,s),await this.sync(),{bytesRead:s-i,buffer:e}}readSync(e,r=0,n=e.byteLength-r,i=this.position){const s=this.prepareRead(n,i),o=new Uint8Array(e.buffer,e.byteOffset,e.byteLength);return this.fs.readSync(this.path,o.subarray(r,r+n),i,s),this.syncSync(),s-i}async chmod(e){if(this.closed)throw E.With("EBADF",this.path,"chmod");this.dirty=!0,this.stats.mode=this.stats.mode&(e>Be?-61441:Be)|e,await this.sync()}chmodSync(e){if(this.closed)throw E.With("EBADF",this.path,"chmod");this.dirty=!0,this.stats.mode=this.stats.mode&(e>Be?-61441:Be)|e,this.syncSync()}async chown(e,r){if(this.closed)throw E.With("EBADF",this.path,"chown");this.dirty=!0,Zs(this.stats,e,r),await this.sync()}chownSync(e,r){if(this.closed)throw E.With("EBADF",this.path,"chown");this.dirty=!0,Zs(this.stats,e,r),this.syncSync()}async utimes(e,r){if(this.closed)throw E.With("EBADF",this.path,"utimes");this.dirty=!0,this.stats.atimeMs=e,this.stats.mtimeMs=r,await this.sync()}utimesSync(e,r){if(this.closed)throw E.With("EBADF",this.path,"utimes");this.dirty=!0,this.stats.atimeMs=e,this.stats.mtimeMs=r,this.syncSync()}}const fi=4096;class _n{constructor(e,r){this.id=e,this.name=r,this.attributes=new Map,this.streamRead===_n.prototype.streamRead&&this.attributes.set("default_stream_read"),this.streamWrite===_n.prototype.streamWrite&&this.attributes.set("default_stream_write")}toString(){var e;return`${this.name} ${(e=this.label)!==null&&e!==void 0?e:""} (${this._mountPoint?"mounted on "+this._mountPoint:"unmounted"})`}usage(){return{totalSpace:0,freeSpace:0}}metadata(){return{...this.usage(),name:this.name,readonly:this.attributes.has("no_write"),noResizableBuffers:this.attributes.has("no_buffer_resize"),noAsyncCache:this.attributes.has("no_async"),features:Array.from(this.attributes.keys()),type:this.id}}async ready(){}async exists(e){try{return await this.stat(e),!0}catch(r){return r.code!="ENOENT"}}existsSync(e){try{return this.statSync(e),!0}catch(r){return r.code!="ENOENT"}}streamRead(e,r){return new ReadableStream({start:async n=>{const{size:i}=await this.stat(e),{start:s=0,end:o=i}=r;for(let a=s;a<o;a+=fi){const f=a+fi>o?o-a:fi,u=new Uint8Array(f);await this.read(e,u,a,a+f).catch(n.error.bind(n)),n.enqueue(u)}n.close()},type:"bytes"})}streamWrite(e,r){var n;let i=(n=r.start)!==null&&n!==void 0?n:0;return new WritableStream({write:async(s,o)=>{await this.write(e,s,i).catch(o.error.bind(o)),i+=s.byteLength}})}}const eo=1;class bn extends Map{constructor(){super(...arguments),this.maxSize=nt}toJSON(){return{version:eo,maxSize:this.maxSize,entries:Object.fromEntries([...this].map(([e,r])=>[e,r.toJSON()]))}}toString(){return JSON.stringify(this.toJSON())}get byteSize(){let e=this.size*Qr;for(const r of this.values())e+=r.size;return e}usage(){return{totalSpace:this.maxSize,freeSpace:this.maxSize-this.byteSize}}pathOf(e){for(const[r,n]of this)if(n.ino==e||n.data==e)return r}getByID(e){var r;return(r=this.entryByID(e))===null||r===void 0?void 0:r.inode}entryByID(e){for(const[r,n]of this)if(n.ino==e||n.data==e)return{path:r,inode:n}}directoryEntries(e){const r=this.get(e);if(!r)throw E.With("ENOENT",e);if((r.mode&Be)!=Pe)throw E.With("ENOTDIR",e);const n={};for(const i of this.keys())se(i)==e&&i!=e&&(n[vr(i)]=this.get(i).ino);return n}_alloc(){return Math.max(...[...this.values()].flatMap(e=>[e.ino,e.data]))+1}directories(){const e=new Map;for(const[r,n]of this){if((n.mode&Be)!=Pe)continue;const i={};for(const s of this.keys())se(s)==r&&s!=r&&(i[vr(s)]=this.get(s).ino);e.set(r,i)}return e}fromJSON(e){var r;if(e.version!=eo)throw new E(R.EINVAL,"Index version mismatch");this.clear();for(const[n,i]of Object.entries(e.entries))(r=i.data)!==null&&r!==void 0||(i.data=Di(1,nt)),n=="/"&&(i.ino=0),this.set(n,new He(i));return this}static parse(e){if(!kc(e))throw new E(R.EINVAL,"Invalid JSON");const r=JSON.parse(e),n=new bn;return n.fromJSON(r),n}}const Rf=new TextEncoder;function pr(t){if(typeof t!="string")throw new E(R.EINVAL,"Can not encode a non-string");return Rf.encode(t)}const Nf=new TextDecoder;function as(t){if(!(t instanceof Uint8Array))throw new E(R.EINVAL,"Can not decode a non-Uint8Array");return Nf.decode(t)}function Qe(t){return JSON.parse(as(t),(e,r)=>e==""?r:typeof r=="string"?BigInt(r).toString(16).slice(0,Math.min(r.length,8)):r)}function ut(t){return pr(JSON.stringify(t))}function Ht(t,e){if(typeof t=="number")return t;if(typeof t=="string"){const r=parseInt(t,8);if(!isNaN(r))return r}if(typeof e=="number")return e;throw new E(R.EINVAL,"Invalid mode: "+(t==null?void 0:t.toString()))}function En(t){if(t instanceof Date)return t.getTime();try{return Number(t)}catch{throw new E(R.EINVAL,"Invalid time.")}}function J(t,e=!1){if(t instanceof URL){if(t.protocol!="file:")throw new E(R.EINVAL,"URLs must use the file: protocol");t=t.pathname}if(t=t.toString(),t.startsWith("file://")&&(t=t.slice(7)),t.includes("\0"))throw new E(R.EINVAL,"Path can not contain null character");if(t.length==0)throw new E(R.EINVAL,"Path can not be empty");return t=t.replaceAll(/[/\\]+/g,"/"),e?t:Mt(t)}function Lt(t,e="utf8",r,n=0){return typeof t!="object"||t===null?{encoding:typeof t=="string"?t:e??null,flag:r,mode:n}:{encoding:typeof(t==null?void 0:t.encoding)=="string"?t.encoding:e??null,flag:typeof(t==null?void 0:t.flag)=="string"?t.flag:r,mode:Ht("mode"in t?t==null?void 0:t.mode:null,n)}}class Tf{constructor(e,r,n,i){Qt(this,"id");Qt(this,"_size");Qt(this,"options");Qt(this,"regions",[]);this.id=e,this._size=r,this.options=n,n.sparse??(n.sparse=!0),n.sparse||this.regions.push({offset:0,data:new Uint8Array(r),ranges:[]}),i==null||i.set(e,this)}get size(){return this._size}set size(e){if(e>=this._size){this._size=e;return}this._size=e;for(let r=this.regions.length-1;r>=0;r--){const n=this.regions[r];if(n.offset>=e){this.regions.splice(r,1);continue}const i=e-n.offset;n.data.byteLength>i&&(n.data=n.data.subarray(0,i)),n.ranges=n.ranges.filter(s=>s.start<e).map(s=>s.end>e?{start:s.start,end:e}:s)}}collect(){if(!this.options.sparse)return;const{regionGapThreshold:e=4095}=this.options;for(let r=0;r<this.regions.length-1;){const n=this.regions[r],i=this.regions[r+1];if(i.offset-(n.offset+n.data.byteLength)>e){r++;continue}n.ranges.push(...i.ranges),n.ranges.sort((s,o)=>s.start-o.start),n.ranges=n.ranges.reduce((s,o)=>(!s.length||s.at(-1).end<o.start?s.push(o):s.at(-1).end=Math.max(s.at(-1).end,o.end),s),[]),n.data=Yr(n.data,i.offset+i.data.byteLength),n.data.set(i.data,i.offset-n.offset),this.regions.splice(r+1,1)}}missing(e,r){const n=[];for(const i of this.regions){if(i.offset>=r)break;for(const s of i.ranges)if(!(s.end<=e)&&(s.start>=r||(s.start>e&&n.push({start:e,end:Math.min(s.start,r)}),s.end>e&&(e=Math.max(e,s.end)),e>=r)))break;if(e>=r)break}return e<r&&n.push({start:e,end:r}),n}cached(e,r){const n=[];for(const s of this.regions){if(s.offset>=r)break;for(const o of s.ranges)if(!(o.end<=e)){if(o.start>=r)break;n.push({start:Math.max(e,o.start),end:Math.min(r,o.end)})}}n.sort((s,o)=>s.start-o.start);const i=[];for(const s of n){const o=i.at(-1);o&&s.start<=o.end?o.end=Math.max(o.end,s.end):i.push(s)}return i}regionAt(e){if(this.regions.length)for(const r of this.regions){if(r.offset>e)break;if(e>=r.offset&&e<r.offset+r.data.byteLength)return r}}add(e,r){const n=r+e.byteLength,i=this.regionAt(r);if(i)return i.data=Yr(i.data,n),i.data.set(e,r),i.ranges.push({start:r,end:n}),i.ranges.sort((a,f)=>a.start-f.start),this.collect(),this;const s={data:e,offset:r,ranges:[{start:r,end:n}]},o=this.regions.findIndex(a=>a.offset>r);return o==-1?this.regions.push(s):this.regions.splice(o,0,s),this.collect(),this}}class ka{constructor(e){this.store=e}}class xf extends ka{async get(e,r,n){return this.getSync(e,r,n)}async set(e,r,n){return this.setSync(e,r,n)}async remove(e){return this.removeSync(e)}}class to extends ka{constructor(){super(...arguments),this.asyncDone=Promise.resolve()}async(e){this.asyncDone=this.asyncDone.then(()=>e)}_cached(e,r){var n,i;(n=(i=this.store).cache)!==null&&n!==void 0||(i.cache=new Map);const s=this.store.cache.get(e);return s?(r&&(s.size=r.size),s):r?new Tf(e,r.size,{},this.store.cache):void 0}getSync(e,r,n){var i;const s=this._cached(e);if(!s)return;n??(n=s.size);const o=s.missing(r,n);for(const{start:f,end:u}of o)this.async(this.get(e,f,u));if(o.length)throw nr(E.With("EAGAIN",(i=this.store._fs)===null||i===void 0?void 0:i._path(e)));const a=s.regionAt(r);if(!a){lt("Missing cache region for "+e);return}return a.data.subarray(r-a.offset,n-a.offset)}setSync(e,r,n){this.async(this.set(e,r,n))}removeSync(e){var r;this.async(this.remove(e)),(r=this.store.cache)===null||r===void 0||r.delete(e)}}class Of{flag(e){var r,n;return(n=(r=this.raw.store.flags)===null||r===void 0?void 0:r.includes(e))!==null&&n!==void 0?n:!1}constructor(e,r){this.raw=e,this.fs=r,this.done=!1,this.originalData=new Map,this.modifiedKeys=new Set}keys(){return this.raw.keys()}async get(e,r=0,n){const i=await this.raw.get(e,r,n);return this.stash(e),i}getSync(e,r=0,n){const i=this.raw.getSync(e,r,n);return this.stash(e),i}async set(e,r,n=0){await this.markModified(e,n,r.byteLength),await this.raw.set(e,r,n)}setSync(e,r,n=0){this.markModifiedSync(e,n,r.byteLength),this.raw.setSync(e,r,n)}async remove(e){await this.markModified(e,0,void 0),await this.raw.remove(e)}removeSync(e){this.markModifiedSync(e,0,void 0),this.raw.removeSync(e)}commit(){return this.done=!0,Promise.resolve()}commitSync(){this.done=!0}async abort(){if(!this.done){for(const[e,r]of this.originalData)if(this.modifiedKeys.has(e)){if(r.some(n=>!n.data)){await this.raw.remove(e),this.fs._remove(e);continue}for(const n of r.reverse())await this.raw.set(e,n.data,n.offset)}this.done=!0}}abortSync(){if(!this.done){for(const[e,r]of this.originalData)if(this.modifiedKeys.has(e)){if(r.some(n=>!n.data)){this.raw.removeSync(e),this.fs._remove(e);continue}for(const n of r.reverse())this.raw.setSync(e,n.data,n.offset)}this.done=!0}}async[Symbol.asyncDispose](){this.done||await this.abort()}[Symbol.dispose](){this.done||this.abortSync()}stash(e,r,n=0){this.originalData.has(e)||this.originalData.set(e,[]),this.originalData.get(e).push({data:r,offset:n})}async markModified(e,r,n){this.modifiedKeys.add(e);const i=n?r+n:void 0;try{this.stash(e,await this.raw.get(e,r,i),r)}catch(s){if(!(this.raw instanceof to))throw s;const a=this.raw._cached(e);if(!a)throw s;for(const f of a.cached(r,i??r))this.stash(e,await this.raw.get(e,f.start,f.end),f.start)}}markModifiedSync(e,r,n){this.modifiedKeys.add(e);const i=n?r+n:void 0;try{this.stash(e,this.raw.getSync(e,r,i),r)}catch(s){if(!(this.raw instanceof to))throw s;const a=this.raw._cached(e);if(!a)throw s;for(const f of a.cached(r,i??r))this.stash(e,this.raw.getSync(e,f.start,f.end),f.start)}}}var ve=function(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e},Ae=function(t){return function(e){function r(o){e.error=e.hasError?new t(o,e.error,"An error was suppressed during disposal."):o,e.hasError=!0}var n,i=0;function s(){for(;n=e.stack.pop();)try{if(!n.async&&i===1)return i=0,e.stack.push(n),Promise.resolve().then(s);if(n.dispose){var o=n.dispose.call(n.value);if(n.async)return i|=2,Promise.resolve(o).then(s,function(a){return r(a),s()})}else i|=1}catch(a){r(a)}if(i===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}}(typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n});class kf extends _n{_path(e){var r;const[n]=(r=this._paths.get(e))!==null&&r!==void 0?r:[];return n}_add(e,r){this._paths.has(e)||this._paths.set(e,new Set),this._paths.get(e).add(r),this._ids.set(r,e)}_remove(e){var r;for(const n of(r=this._paths.get(e))!==null&&r!==void 0?r:[])this._ids.delete(n);this._paths.delete(e)}_move(e,r){const n=[];for(const[i,s]of this._ids){const o=ya(e,i);if(o.startsWith(".."))continue;let a=de(r,o);a.endsWith("/")&&(a=a.slice(0,-1)),n.push({oldKey:i,newKey:a,ino:s})}for(const{oldKey:i,newKey:s,ino:o}of n){this._ids.delete(i),this._ids.set(s,o);const a=this._paths.get(o);if(!a){lt("Missing paths in table for ino "+o);continue}a.delete(i),a.add(s)}}async ready(){this._initialized||(this.checkRootSync(),await this.checkRoot(),await this._populate(),this._initialized=!0)}constructor(e){var r,n;super((r=e.id)!==null&&r!==void 0?r:1802921587,e.name),this.store=e,this._ids=new Map([["/",0]]),this._paths=new Map([[0,new Set("/")]]),this._initialized=!1,this.attributes.set("setid"),e._fs=this,Gr(this.name+": supports features: "+((n=this.store.flags)===null||n===void 0?void 0:n.join(", ")))}usage(){var e,r;return((r=(e=this.store).usage)===null||r===void 0?void 0:r.call(e))||{totalSpace:0,freeSpace:0}}async empty(){Kr("StoreFS#empty"),await this.checkRoot()}emptySync(){Kr("StoreFS#emptySync"),this.checkRootSync()}async loadIndex(e){const r={stack:[],error:void 0,hasError:!1};try{const n=ve(r,this.transaction(),!0),i=e.directories();for(const[s,o]of e)this._add(o.ino,s),await n.set(o.ino,Ze(o)),i.has(s)&&await n.set(o.data,ut(i.get(s)));await n.commit()}catch(n){r.error=n,r.hasError=!0}finally{const n=Ae(r);n&&await n}}loadIndexSync(e){const r={stack:[],error:void 0,hasError:!1};try{const n=ve(r,this.transaction(),!1),i=e.directories();for(const[s,o]of e)this._add(o.ino,s),n.setSync(o.ino,Ze(o)),i.has(s)&&n.setSync(o.data,ut(i.get(s)));n.commitSync()}catch(n){r.error=n,r.hasError=!0}finally{Ae(r)}}async createIndex(){var e;const r={stack:[],error:void 0,hasError:!1};try{const n=new bn,i=ve(r,this.transaction(),!0),s=[["/",0]],o=Ks(E.With("EDEADLK"));for(;s.length;){const[a,f]=s.shift(),u=new He(await i.get(f));if(n.set(a,u),u.mode&Pe){const y=Qe((e=await i.get(u.data))!==null&&e!==void 0?e:Re(E.With("ENODATA",a)));for(const[w,g]of Object.entries(y))s.push([de(a,w),g])}}return o(),n}catch(n){r.error=n,r.hasError=!0}finally{const n=Ae(r);n&&await n}}createIndexSync(){var e;const r={stack:[],error:void 0,hasError:!1};try{const n=new bn,i=ve(r,this.transaction(),!1),s=[["/",0]],o=Ks(E.With("EDEADLK"));for(;s.length;){const[a,f]=s.shift(),u=new He(i.getSync(f));if(n.set(a,u),u.mode&Pe){const y=Qe((e=i.getSync(u.data))!==null&&e!==void 0?e:Re(E.With("ENODATA",a)));for(const[w,g]of Object.entries(y))s.push([de(a,w),g])}}return o(),n}catch(n){r.error=n,r.hasError=!0}finally{Ae(r)}}async rename(e,r){var n,i,s;const o={stack:[],error:void 0,hasError:!1};try{const a=ve(o,this.transaction(),!0),f=Et(e),u=Et(r),y=await this.findInode(a,f.dir,"rename"),w=Qe((n=await a.get(y.data))!==null&&n!==void 0?n:Re(E.With("ENODATA",f.dir,"rename")));if(!w[f.base])throw E.With("ENOENT",e,"rename");const g=w[f.base];if(g!=this._ids.get(e)&&nr(`Ino mismatch while renaming ${e} to ${r}`),delete w[f.base],(u.dir+"/").startsWith(e+"/"))throw new E(R.EBUSY,f.dir);const b=u.dir==f.dir,T=b?y:await this.findInode(a,u.dir,"rename"),v=b?w:Qe((i=await a.get(T.data))!==null&&i!==void 0?i:Re(E.With("ENODATA",u.dir,"rename")));if(v[u.base]){const I=new He((s=await a.get(v[u.base]))!==null&&s!==void 0?s:Re(E.With("ENOENT",r,"rename")));if(!I.toStats().isFile())throw E.With("EPERM",r,"rename");await a.remove(I.data),await a.remove(v[u.base])}v[u.base]=g,await a.set(y.data,ut(w)),await a.set(T.data,ut(v)),await a.commit(),this._move(e,r)}catch(a){o.error=a,o.hasError=!0}finally{const a=Ae(o);a&&await a}}renameSync(e,r){var n,i,s;const o={stack:[],error:void 0,hasError:!1};try{const a=ve(o,this.transaction(),!1),f=Et(e),u=Et(r),y=this.findInodeSync(a,f.dir,"rename"),w=Qe((n=a.getSync(y.data))!==null&&n!==void 0?n:Re(E.With("ENODATA",f.dir,"rename")));if(!w[f.base])throw E.With("ENOENT",e,"rename");const g=w[f.base];if(g!=this._ids.get(e)&&nr(`Ino mismatch while renaming ${e} to ${r}`),delete w[f.base],(u.dir+"/").startsWith(e+"/"))throw new E(R.EBUSY,f.dir);const b=u.dir===f.dir,T=b?y:this.findInodeSync(a,u.dir,"rename"),v=b?w:Qe((i=a.getSync(T.data))!==null&&i!==void 0?i:Re(E.With("ENODATA",u.dir,"rename")));if(v[u.base]){const I=new He((s=a.getSync(v[u.base]))!==null&&s!==void 0?s:Re(E.With("ENOENT",r,"rename")));if(!I.toStats().isFile())throw E.With("EPERM",r,"rename");a.removeSync(I.data),a.removeSync(v[u.base])}v[u.base]=g,a.setSync(y.data,ut(w)),a.setSync(T.data,ut(v)),a.commitSync(),this._move(e,r)}catch(a){o.error=a,o.hasError=!0}finally{Ae(o)}}async stat(e){const r={stack:[],error:void 0,hasError:!1};try{const n=ve(r,this.transaction(),!0);return(await this.findInode(n,e,"stat")).toStats()}catch(n){r.error=n,r.hasError=!0}finally{const n=Ae(r);n&&await n}}statSync(e){const r={stack:[],error:void 0,hasError:!1};try{const n=ve(r,this.transaction(),!1);return this.findInodeSync(n,e,"stat").toStats()}catch(n){r.error=n,r.hasError=!0}finally{Ae(r)}}async createFile(e,r,n,i){const s=await this.commitNew(e,{mode:n|It,...i},new Uint8Array,"createFile");return new ln(this,e,r,s.toStats())}createFileSync(e,r,n,i){const s=this.commitNewSync(e,{mode:n|It,...i},new Uint8Array,"createFile");return new ln(this,e,r,s.toStats())}async openFile(e,r){const n={stack:[],error:void 0,hasError:!1};try{const i=ve(n,this.transaction(),!0),s=await this.findInode(i,e,"openFile");return new ln(this,e,r,s.toStats())}catch(i){n.error=i,n.hasError=!0}finally{const i=Ae(n);i&&await i}}openFileSync(e,r){const n={stack:[],error:void 0,hasError:!1};try{const i=ve(n,this.transaction(),!1),s=this.findInodeSync(i,e,"openFile");return new ln(this,e,r,s.toStats())}catch(i){n.error=i,n.hasError=!0}finally{Ae(n)}}async unlink(e){return this.remove(e,!1)}unlinkSync(e){this.removeSync(e,!1)}async rmdir(e){if((await this.readdir(e)).length)throw E.With("ENOTEMPTY",e,"rmdir");await this.remove(e,!0)}rmdirSync(e){if(this.readdirSync(e).length)throw E.With("ENOTEMPTY",e,"rmdir");this.removeSync(e,!0)}async mkdir(e,r,n){await this.commitNew(e,{mode:r|Pe,...n},pr("{}"),"mkdir")}mkdirSync(e,r,n){this.commitNewSync(e,{mode:r|Pe,...n},pr("{}"),"mkdir")}async readdir(e){var r;const n={stack:[],error:void 0,hasError:!1};try{const i=ve(n,this.transaction(),!0),s=await this.findInode(i,e,"readdir");return Object.keys(Qe((r=await i.get(s.data))!==null&&r!==void 0?r:Re(E.With("ENOENT",e,"readdir"))))}catch(i){n.error=i,n.hasError=!0}finally{const i=Ae(n);i&&await i}}readdirSync(e){var r;const n={stack:[],error:void 0,hasError:!1};try{const i=ve(n,this.transaction(),!1),s=this.findInodeSync(i,e,"readdir");return Object.keys(Qe((r=i.getSync(s.data))!==null&&r!==void 0?r:Re(E.With("ENOENT",e,"readdir"))))}catch(i){n.error=i,n.hasError=!0}finally{Ae(n)}}async sync(e,r,n){const i={stack:[],error:void 0,hasError:!1};try{const s=ve(i,this.transaction(),!0),o=await this.findInode(s,e,"sync");r&&await s.set(o.data,r),o.update(n)&&(this._add(o.ino,e),await s.set(o.ino,Ze(o))),await s.commit()}catch(s){i.error=s,i.hasError=!0}finally{const s=Ae(i);s&&await s}}syncSync(e,r,n){const i={stack:[],error:void 0,hasError:!1};try{const s=ve(i,this.transaction(),!1),o=this.findInodeSync(s,e,"sync");r&&s.setSync(o.data,r),o.update(n)&&(this._add(o.ino,e),s.setSync(o.ino,Ze(o))),s.commitSync()}catch(s){i.error=s,i.hasError=!0}finally{Ae(i)}}async link(e,r){var n;const i={stack:[],error:void 0,hasError:!1};try{const s=ve(i,this.transaction(),!0),o=se(r),a=await this.findInode(s,o,"link"),f=Qe((n=await s.get(a.data))!==null&&n!==void 0?n:Re(E.With("ENOENT",o,"link"))),u=await this.findInode(s,e,"link");u.nlink++,f[vr(r)]=u.ino,this._add(u.ino,r),await s.set(u.ino,Ze(u)),await s.set(a.data,ut(f)),await s.commit()}catch(s){i.error=s,i.hasError=!0}finally{const s=Ae(i);s&&await s}}linkSync(e,r){var n;const i={stack:[],error:void 0,hasError:!1};try{const s=ve(i,this.transaction(),!1),o=se(r),a=this.findInodeSync(s,o,"link"),f=Qe((n=s.getSync(a.data))!==null&&n!==void 0?n:Re(E.With("ENOENT",o,"link"))),u=this.findInodeSync(s,e,"link");u.nlink++,f[vr(r)]=u.ino,this._add(u.ino,r),s.setSync(u.ino,Ze(u)),s.setSync(a.data,ut(f)),s.commitSync()}catch(s){i.error=s,i.hasError=!0}finally{Ae(i)}}async read(e,r,n,i){var s;const o={stack:[],error:void 0,hasError:!1};try{const a=ve(o,this.transaction(),!0),f=await this.findInode(a,e,"read");if(f.size==0)return;const u=(s=await a.get(f.data,n,i))!==null&&s!==void 0?s:Re(E.With("ENODATA",e,"read")),y=a.flag("partial")?u:u.subarray(n,i);y.byteLength>r.byteLength&&nr(`Trying to place ${y.byteLength} bytes into a ${r.byteLength} byte buffer on read`),r.set(y)}catch(a){o.error=a,o.hasError=!0}finally{const a=Ae(o);a&&await a}}readSync(e,r,n,i){var s;const o={stack:[],error:void 0,hasError:!1};try{const a=ve(o,this.transaction(),!1),f=this.findInodeSync(a,e,"read");if(f.size==0)return;const u=(s=a.getSync(f.data,n,i))!==null&&s!==void 0?s:Re(E.With("ENODATA",e,"read")),y=a.flag("partial")?u:u.subarray(n,i);y.byteLength>r.byteLength&&nr(`Trying to place ${y.byteLength} bytes into a ${r.byteLength} byte buffer on read`),r.set(y)}catch(a){o.error=a,o.hasError=!0}finally{Ae(o)}}async write(e,r,n){var i;const s={stack:[],error:void 0,hasError:!1};try{const o=ve(s,this.transaction(),!0),a=await this.findInode(o,e,"write");let f=r;o.flag("partial")||(f=Yr((i=await o.get(a.data))!==null&&i!==void 0?i:new Uint8Array,n+r.byteLength),f.set(r,n),n=0),await o.set(a.data,f,n),a.update({mtimeMs:Date.now(),size:Math.max(a.size,r.byteLength+n)}),this._add(a.ino,e),await o.set(a.ino,Ze(a)),await o.commit()}catch(o){s.error=o,s.hasError=!0}finally{const o=Ae(s);o&&await o}}writeSync(e,r,n){var i;const s={stack:[],error:void 0,hasError:!1};try{const o=ve(s,this.transaction(),!1),a=this.findInodeSync(o,e,"write");let f=r;o.flag("partial")||(f=Yr((i=o.getSync(a.data))!==null&&i!==void 0?i:new Uint8Array,n+r.byteLength),f.set(r,n),n=0),o.setSync(a.data,f,n),a.update({mtimeMs:Date.now(),size:Math.max(a.size,r.byteLength+n)}),this._add(a.ino,e),o.setSync(a.ino,Ze(a)),o.commitSync()}catch(o){s.error=o,s.hasError=!0}finally{Ae(s)}}transaction(){return new Of(this.store.transaction(),this)}async checkRoot(){const e={stack:[],error:void 0,hasError:!1};try{const r=ve(e,this.transaction(),!0);if(await r.get(at))return;const n=new He({ino:at,data:1,mode:511|Pe});await r.set(n.data,pr("{}")),this._add(at,"/"),await r.set(at,Ze(n)),await r.commit()}catch(r){e.error=r,e.hasError=!0}finally{const r=Ae(e);r&&await r}}checkRootSync(){const e={stack:[],error:void 0,hasError:!1};try{const r=ve(e,this.transaction(),!1);if(r.getSync(at))return;const n=new He({ino:at,data:1,mode:511|Pe});r.setSync(n.data,pr("{}")),this._add(at,"/"),r.setSync(at,Ze(n)),r.commitSync()}catch(r){e.error=r,e.hasError=!0}finally{Ae(e)}}async _populate(){const e={stack:[],error:void 0,hasError:!1};try{if(this._initialized){lt("Attempted to populate tables after initialization");return}Gr("Populating tables with existing store metadata");const r=ve(e,this.transaction(),!0),n=await r.get(at);if(!n){pa("Store does not have a root inode");const a=new He({ino:at,data:1,mode:511|Pe});await r.set(a.data,pr("{}")),this._add(at,"/"),await r.set(at,Ze(a)),await r.commit();return}if(n.length!=Qr){kn("Store contains an invalid root inode. Refusing to populate tables");return}const i=new Set;let s=0;const o=[["/",at]];for(;o.length>0;){s++;const[a,f]=o.shift();this._add(f,a);const u=await r.get(f);if(!u){lt("Store is missing data for inode: "+f);continue}if(u.length!=Qr){lt(`Invalid inode size for ino ${f}: ${u.length}`);continue}const y=new He(u);if((y.mode&Pe)!=Pe||i.has(f))continue;i.add(f);const w=await r.get(y.data);if(!w){lt("Store is missing directory data: "+y.data);continue}const g=Qe(w);for(const[b,T]of Object.entries(g))o.push([de(a,b),T])}Gr(`Added ${s} existing inode(s) from store`)}catch(r){e.error=r,e.hasError=!0}finally{const r=Ae(e);r&&await r}}async findInode(e,r,n){var i;const s=this._ids.get(r);if(s===void 0)throw E.With("ENOENT",r,n);return new He((i=await e.get(s))!==null&&i!==void 0?i:Re(E.With("ENOENT",r,n)))}findInodeSync(e,r,n){var i;const s=this._ids.get(r);if(s===void 0)throw E.With("ENOENT",r,n);return new He((i=e.getSync(s))!==null&&i!==void 0?i:Re(E.With("ENOENT",r,n)))}allocNew(e,r){var n;(n=this._lastID)!==null&&n!==void 0||(this._lastID=Math.max(...this._paths.keys())),this._lastID+=2;const i=this._lastID;if(i>nt)throw nr(new E(R.ENOSPC,"No IDs available",e,r),{fs:this});return this._add(i,e),i}async commitNew(e,r,n,i){var s;const o={stack:[],error:void 0,hasError:!1};try{if(e=="/")throw E.With("EEXIST",e,i);const a=ve(o,this.transaction(),!0),{dir:f,base:u}=Et(e),y=await this.findInode(a,f,i),w=Qe((s=await a.get(y.data))!==null&&s!==void 0?s:Re(E.With("ENOENT",f,i)));if(w[u])throw E.With("EEXIST",e,i);const g=this.allocNew(e,i),b=new He({ino:g,data:g+1,mode:r.mode,size:n.byteLength,uid:y.mode&Xr?y.uid:r.uid,gid:y.mode&Jr?y.gid:r.gid});return await a.set(b.ino,Ze(b)),await a.set(b.data,n),w[u]=b.ino,await a.set(y.data,ut(w)),await a.commit(),b}catch(a){o.error=a,o.hasError=!0}finally{const a=Ae(o);a&&await a}}commitNewSync(e,r,n,i){var s;const o={stack:[],error:void 0,hasError:!1};try{if(e=="/")throw E.With("EEXIST",e,i);const a=ve(o,this.transaction(),!1),{dir:f,base:u}=Et(e),y=this.findInodeSync(a,f,i),w=Qe((s=a.getSync(y.data))!==null&&s!==void 0?s:Re(E.With("ENOENT",f,i)));if(w[u])throw E.With("EEXIST",e,i);const g=this.allocNew(e,i),b=new He({ino:g,data:g+1,mode:r.mode,size:n.byteLength,uid:y.mode&Xr?y.uid:r.uid,gid:y.mode&Jr?y.gid:r.gid});return a.setSync(b.ino,Ze(b)),a.setSync(b.data,n),w[u]=b.ino,a.setSync(y.data,ut(w)),a.commitSync(),b}catch(a){o.error=a,o.hasError=!0}finally{Ae(o)}}async remove(e,r){var n,i;const s={stack:[],error:void 0,hasError:!1};try{const o=r?"rmdir":"unlink",a=ve(s,this.transaction(),!0),{dir:f,base:u}=Et(e),y=await this.findInode(a,f,o),w=Qe((n=await a.get(y.data))!==null&&n!==void 0?n:Re(E.With("ENOENT",f,o)));if(!w[u])throw E.With("ENOENT",e,o);const g=w[u],b=new He((i=await a.get(g))!==null&&i!==void 0?i:Re(E.With("ENOENT",e,o)));if(delete w[u],!r&&b.toStats().isDirectory())throw E.With("EISDIR",e,o);await a.set(y.data,ut(w)),--b.nlink<1&&(await a.remove(b.data),await a.remove(g),this._remove(g)),await a.commit()}catch(o){s.error=o,s.hasError=!0}finally{const o=Ae(s);o&&await o}}removeSync(e,r){var n,i;const s={stack:[],error:void 0,hasError:!1};try{const o=r?"rmdir":"unlink",a=ve(s,this.transaction(),!1),{dir:f,base:u}=Et(e),y=this.findInodeSync(a,f,o),w=Qe((n=a.getSync(y.data))!==null&&n!==void 0?n:Re(E.With("ENOENT",f,o))),g=w[u];if(!g)throw E.With("ENOENT",e,o);const b=new He((i=a.getSync(g))!==null&&i!==void 0?i:Re(E.With("ENOENT",e,o)));if(delete w[u],!r&&b.toStats().isDirectory())throw E.With("EISDIR",e,o);a.setSync(y.data,ut(w)),--b.nlink<1&&(a.removeSync(b.data),a.removeSync(g),this._remove(g)),a.commitSync()}catch(o){s.error=o,s.hasError=!0}finally{Ae(s)}}}class Df extends xf{async keys(){return this.store.keys()}async get(e){var r,n,i;return await((i=(n=(r=this.store).getAsync)===null||n===void 0?void 0:n.call(r,e))!==null&&i!==void 0?i:this.store.get(e))}getSync(e){return this.store.get(e)}setSync(e,r){this.store.set(e,r)}removeSync(e){this.store.delete(e)}}class Lf extends Map{constructor(e=nt,r){super(),this.maxSize=e,this.label=r,this.flags=[],this.name="tmpfs"}async sync(){}transaction(){return new Df(this)}get bytes(){let e=this.size*4;for(const r of this.values())e+=r.byteLength;return e}usage(){return{totalSpace:this.maxSize,freeSpace:this.maxSize-this.bytes}}}const Mf={name:"InMemory",options:{maxSize:{type:"number",required:!1},label:{type:"string",required:!1},name:{type:"string",required:!1}},create({maxSize:t,label:e,name:r}){const n=new kf(new Lf(t,e??r));return n.checkRootSync(),n}},Bf=Mf;var he={},Ln={};Ln.byteLength=Wf;Ln.toByteArray=$f;Ln.fromByteArray=zf;var At=[],dt=[],Ff=typeof Uint8Array<"u"?Uint8Array:Array,ui="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var wr=0,Cf=ui.length;wr<Cf;++wr)At[wr]=ui[wr],dt[ui.charCodeAt(wr)]=wr;dt[45]=62;dt[95]=63;function Da(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function Wf(t){var e=Da(t),r=e[0],n=e[1];return(r+n)*3/4-n}function Pf(t,e,r){return(e+r)*3/4-r}function $f(t){var e,r=Da(t),n=r[0],i=r[1],s=new Ff(Pf(t,n,i)),o=0,a=i>0?n-4:n,f;for(f=0;f<a;f+=4)e=dt[t.charCodeAt(f)]<<18|dt[t.charCodeAt(f+1)]<<12|dt[t.charCodeAt(f+2)]<<6|dt[t.charCodeAt(f+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=dt[t.charCodeAt(f)]<<2|dt[t.charCodeAt(f+1)]>>4,s[o++]=e&255),i===1&&(e=dt[t.charCodeAt(f)]<<10|dt[t.charCodeAt(f+1)]<<4|dt[t.charCodeAt(f+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function Uf(t){return At[t>>18&63]+At[t>>12&63]+At[t>>6&63]+At[t&63]}function jf(t,e,r){for(var n,i=[],s=e;s<r;s+=3)n=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),i.push(Uf(n));return i.join("")}function zf(t){for(var e,r=t.length,n=r%3,i=[],s=16383,o=0,a=r-n;o<a;o+=s)i.push(jf(t,o,o+s>a?a:o+s));return n===1?(e=t[r-1],i.push(At[e>>2]+At[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],i.push(At[e>>10]+At[e>>4&63]+At[e<<2&63]+"=")),i.join("")}var ls={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ls.read=function(t,e,r,n,i){var s,o,a=i*8-n-1,f=(1<<a)-1,u=f>>1,y=-7,w=r?i-1:0,g=r?-1:1,b=t[e+w];for(w+=g,s=b&(1<<-y)-1,b>>=-y,y+=a;y>0;s=s*256+t[e+w],w+=g,y-=8);for(o=s&(1<<-y)-1,s>>=-y,y+=n;y>0;o=o*256+t[e+w],w+=g,y-=8);if(s===0)s=1-u;else{if(s===f)return o?NaN:(b?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-u}return(b?-1:1)*o*Math.pow(2,s-n)};ls.write=function(t,e,r,n,i,s){var o,a,f,u=s*8-i-1,y=(1<<u)-1,w=y>>1,g=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=n?0:s-1,T=n?1:-1,v=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=y):(o=Math.floor(Math.log(e)/Math.LN2),e*(f=Math.pow(2,-o))<1&&(o--,f*=2),o+w>=1?e+=g/f:e+=g*Math.pow(2,1-w),e*f>=2&&(o++,f/=2),o+w>=y?(a=0,o=y):o+w>=1?(a=(e*f-1)*Math.pow(2,i),o=o+w):(a=e*Math.pow(2,w-1)*Math.pow(2,i),o=0));i>=8;t[r+b]=a&255,b+=T,a/=256,i-=8);for(o=o<<i|a,u+=i;u>0;t[r+b]=o&255,b+=T,o/=256,u-=8);t[r+b-T]|=v*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=Ln,r=ls,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=V,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const d=new Uint8Array(1),c={foo:function(){return 42}};return Object.setPrototypeOf(c,Uint8Array.prototype),Object.setPrototypeOf(d,c),d.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(d){if(d>i)throw new RangeError('The value "'+d+'" is invalid for option "size"');const c=new Uint8Array(d);return Object.setPrototypeOf(c,a.prototype),c}function a(d,c,l){if(typeof d=="number"){if(typeof c=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return w(d)}return f(d,c,l)}a.poolSize=8192;function f(d,c,l){if(typeof d=="string")return g(d,c);if(ArrayBuffer.isView(d))return T(d);if(d==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof d);if(U(d,ArrayBuffer)||d&&U(d.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(U(d,SharedArrayBuffer)||d&&U(d.buffer,SharedArrayBuffer)))return v(d,c,l);if(typeof d=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const h=d.valueOf&&d.valueOf();if(h!=null&&h!==d)return a.from(h,c,l);const _=I(d);if(_)return _;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof d[Symbol.toPrimitive]=="function")return a.from(d[Symbol.toPrimitive]("string"),c,l);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof d)}a.from=function(d,c,l){return f(d,c,l)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function u(d){if(typeof d!="number")throw new TypeError('"size" argument must be of type number');if(d<0)throw new RangeError('The value "'+d+'" is invalid for option "size"')}function y(d,c,l){return u(d),d<=0?o(d):c!==void 0?typeof l=="string"?o(d).fill(c,l):o(d).fill(c):o(d)}a.alloc=function(d,c,l){return y(d,c,l)};function w(d){return u(d),o(d<0?0:B(d)|0)}a.allocUnsafe=function(d){return w(d)},a.allocUnsafeSlow=function(d){return w(d)};function g(d,c){if((typeof c!="string"||c==="")&&(c="utf8"),!a.isEncoding(c))throw new TypeError("Unknown encoding: "+c);const l=x(d,c)|0;let h=o(l);const _=h.write(d,c);return _!==l&&(h=h.slice(0,_)),h}function b(d){const c=d.length<0?0:B(d.length)|0,l=o(c);for(let h=0;h<c;h+=1)l[h]=d[h]&255;return l}function T(d){if(U(d,Uint8Array)){const c=new Uint8Array(d);return v(c.buffer,c.byteOffset,c.byteLength)}return b(d)}function v(d,c,l){if(c<0||d.byteLength<c)throw new RangeError('"offset" is outside of buffer bounds');if(d.byteLength<c+(l||0))throw new RangeError('"length" is outside of buffer bounds');let h;return c===void 0&&l===void 0?h=new Uint8Array(d):l===void 0?h=new Uint8Array(d,c):h=new Uint8Array(d,c,l),Object.setPrototypeOf(h,a.prototype),h}function I(d){if(a.isBuffer(d)){const c=B(d.length)|0,l=o(c);return l.length===0||d.copy(l,0,0,c),l}if(d.length!==void 0)return typeof d.length!="number"||Je(d.length)?o(0):b(d);if(d.type==="Buffer"&&Array.isArray(d.data))return b(d.data)}function B(d){if(d>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return d|0}function V(d){return+d!=d&&(d=0),a.alloc(+d)}a.isBuffer=function(c){return c!=null&&c._isBuffer===!0&&c!==a.prototype},a.compare=function(c,l){if(U(c,Uint8Array)&&(c=a.from(c,c.offset,c.byteLength)),U(l,Uint8Array)&&(l=a.from(l,l.offset,l.byteLength)),!a.isBuffer(c)||!a.isBuffer(l))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(c===l)return 0;let h=c.length,_=l.length;for(let N=0,k=Math.min(h,_);N<k;++N)if(c[N]!==l[N]){h=c[N],_=l[N];break}return h<_?-1:_<h?1:0},a.isEncoding=function(c){switch(String(c).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(c,l){if(!Array.isArray(c))throw new TypeError('"list" argument must be an Array of Buffers');if(c.length===0)return a.alloc(0);let h;if(l===void 0)for(l=0,h=0;h<c.length;++h)l+=c[h].length;const _=a.allocUnsafe(l);let N=0;for(h=0;h<c.length;++h){let k=c[h];if(U(k,Uint8Array))N+k.length>_.length?(a.isBuffer(k)||(k=a.from(k)),k.copy(_,N)):Uint8Array.prototype.set.call(_,k,N);else if(a.isBuffer(k))k.copy(_,N);else throw new TypeError('"list" argument must be an Array of Buffers');N+=k.length}return _};function x(d,c){if(a.isBuffer(d))return d.length;if(ArrayBuffer.isView(d)||U(d,ArrayBuffer))return d.byteLength;if(typeof d!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof d);const l=d.length,h=arguments.length>2&&arguments[2]===!0;if(!h&&l===0)return 0;let _=!1;for(;;)switch(c){case"ascii":case"latin1":case"binary":return l;case"utf8":case"utf-8":return j(d).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l*2;case"hex":return l>>>1;case"base64":return O(d).length;default:if(_)return h?-1:j(d).length;c=(""+c).toLowerCase(),_=!0}}a.byteLength=x;function W(d,c,l){let h=!1;if((c===void 0||c<0)&&(c=0),c>this.length||((l===void 0||l>this.length)&&(l=this.length),l<=0)||(l>>>=0,c>>>=0,l<=c))return"";for(d||(d="utf8");;)switch(d){case"hex":return ye(this,c,l);case"utf8":case"utf-8":return le(this,c,l);case"ascii":return ge(this,c,l);case"latin1":case"binary":return _e(this,c,l);case"base64":return D(this,c,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return be(this,c,l);default:if(h)throw new TypeError("Unknown encoding: "+d);d=(d+"").toLowerCase(),h=!0}}a.prototype._isBuffer=!0;function M(d,c,l){const h=d[c];d[c]=d[l],d[l]=h}a.prototype.swap16=function(){const c=this.length;if(c%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let l=0;l<c;l+=2)M(this,l,l+1);return this},a.prototype.swap32=function(){const c=this.length;if(c%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let l=0;l<c;l+=4)M(this,l,l+3),M(this,l+1,l+2);return this},a.prototype.swap64=function(){const c=this.length;if(c%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let l=0;l<c;l+=8)M(this,l,l+7),M(this,l+1,l+6),M(this,l+2,l+5),M(this,l+3,l+4);return this},a.prototype.toString=function(){const c=this.length;return c===0?"":arguments.length===0?le(this,0,c):W.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(c){if(!a.isBuffer(c))throw new TypeError("Argument must be a Buffer");return this===c?!0:a.compare(this,c)===0},a.prototype.inspect=function(){let c="";const l=t.INSPECT_MAX_BYTES;return c=this.toString("hex",0,l).replace(/(.{2})/g,"$1 ").trim(),this.length>l&&(c+=" ... "),"<Buffer "+c+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(c,l,h,_,N){if(U(c,Uint8Array)&&(c=a.from(c,c.offset,c.byteLength)),!a.isBuffer(c))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof c);if(l===void 0&&(l=0),h===void 0&&(h=c?c.length:0),_===void 0&&(_=0),N===void 0&&(N=this.length),l<0||h>c.length||_<0||N>this.length)throw new RangeError("out of range index");if(_>=N&&l>=h)return 0;if(_>=N)return-1;if(l>=h)return 1;if(l>>>=0,h>>>=0,_>>>=0,N>>>=0,this===c)return 0;let k=N-_,te=h-l;const xe=Math.min(k,te),Ie=this.slice(_,N),Oe=c.slice(l,h);for(let pe=0;pe<xe;++pe)if(Ie[pe]!==Oe[pe]){k=Ie[pe],te=Oe[pe];break}return k<te?-1:te<k?1:0};function ae(d,c,l,h,_){if(d.length===0)return-1;if(typeof l=="string"?(h=l,l=0):l>2147483647?l=2147483647:l<-2147483648&&(l=-2147483648),l=+l,Je(l)&&(l=_?0:d.length-1),l<0&&(l=d.length+l),l>=d.length){if(_)return-1;l=d.length-1}else if(l<0)if(_)l=0;else return-1;if(typeof c=="string"&&(c=a.from(c,h)),a.isBuffer(c))return c.length===0?-1:ce(d,c,l,h,_);if(typeof c=="number")return c=c&255,typeof Uint8Array.prototype.indexOf=="function"?_?Uint8Array.prototype.indexOf.call(d,c,l):Uint8Array.prototype.lastIndexOf.call(d,c,l):ce(d,[c],l,h,_);throw new TypeError("val must be string, number or Buffer")}function ce(d,c,l,h,_){let N=1,k=d.length,te=c.length;if(h!==void 0&&(h=String(h).toLowerCase(),h==="ucs2"||h==="ucs-2"||h==="utf16le"||h==="utf-16le")){if(d.length<2||c.length<2)return-1;N=2,k/=2,te/=2,l/=2}function xe(Oe,pe){return N===1?Oe[pe]:Oe.readUInt16BE(pe*N)}let Ie;if(_){let Oe=-1;for(Ie=l;Ie<k;Ie++)if(xe(d,Ie)===xe(c,Oe===-1?0:Ie-Oe)){if(Oe===-1&&(Oe=Ie),Ie-Oe+1===te)return Oe*N}else Oe!==-1&&(Ie-=Ie-Oe),Oe=-1}else for(l+te>k&&(l=k-te),Ie=l;Ie>=0;Ie--){let Oe=!0;for(let pe=0;pe<te;pe++)if(xe(d,Ie+pe)!==xe(c,pe)){Oe=!1;break}if(Oe)return Ie}return-1}a.prototype.includes=function(c,l,h){return this.indexOf(c,l,h)!==-1},a.prototype.indexOf=function(c,l,h){return ae(this,c,l,h,!0)},a.prototype.lastIndexOf=function(c,l,h){return ae(this,c,l,h,!1)};function re(d,c,l,h){l=Number(l)||0;const _=d.length-l;h?(h=Number(h),h>_&&(h=_)):h=_;const N=c.length;h>N/2&&(h=N/2);let k;for(k=0;k<h;++k){const te=parseInt(c.substr(k*2,2),16);if(Je(te))return k;d[l+k]=te}return k}function P(d,c,l,h){return K(j(c,d.length-l),d,l,h)}function ne(d,c,l,h){return K(ie(c),d,l,h)}function Te(d,c,l,h){return K(O(c),d,l,h)}function fe(d,c,l,h){return K($(c,d.length-l),d,l,h)}a.prototype.write=function(c,l,h,_){if(l===void 0)_="utf8",h=this.length,l=0;else if(h===void 0&&typeof l=="string")_=l,h=this.length,l=0;else if(isFinite(l))l=l>>>0,isFinite(h)?(h=h>>>0,_===void 0&&(_="utf8")):(_=h,h=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const N=this.length-l;if((h===void 0||h>N)&&(h=N),c.length>0&&(h<0||l<0)||l>this.length)throw new RangeError("Attempt to write outside buffer bounds");_||(_="utf8");let k=!1;for(;;)switch(_){case"hex":return re(this,c,l,h);case"utf8":case"utf-8":return P(this,c,l,h);case"ascii":case"latin1":case"binary":return ne(this,c,l,h);case"base64":return Te(this,c,l,h);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return fe(this,c,l,h);default:if(k)throw new TypeError("Unknown encoding: "+_);_=(""+_).toLowerCase(),k=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function D(d,c,l){return c===0&&l===d.length?e.fromByteArray(d):e.fromByteArray(d.slice(c,l))}function le(d,c,l){l=Math.min(d.length,l);const h=[];let _=c;for(;_<l;){const N=d[_];let k=null,te=N>239?4:N>223?3:N>191?2:1;if(_+te<=l){let xe,Ie,Oe,pe;switch(te){case 1:N<128&&(k=N);break;case 2:xe=d[_+1],(xe&192)===128&&(pe=(N&31)<<6|xe&63,pe>127&&(k=pe));break;case 3:xe=d[_+1],Ie=d[_+2],(xe&192)===128&&(Ie&192)===128&&(pe=(N&15)<<12|(xe&63)<<6|Ie&63,pe>2047&&(pe<55296||pe>57343)&&(k=pe));break;case 4:xe=d[_+1],Ie=d[_+2],Oe=d[_+3],(xe&192)===128&&(Ie&192)===128&&(Oe&192)===128&&(pe=(N&15)<<18|(xe&63)<<12|(Ie&63)<<6|Oe&63,pe>65535&&pe<1114112&&(k=pe))}}k===null?(k=65533,te=1):k>65535&&(k-=65536,h.push(k>>>10&1023|55296),k=56320|k&1023),h.push(k),_+=te}return ee(h)}const Z=4096;function ee(d){const c=d.length;if(c<=Z)return String.fromCharCode.apply(String,d);let l="",h=0;for(;h<c;)l+=String.fromCharCode.apply(String,d.slice(h,h+=Z));return l}function ge(d,c,l){let h="";l=Math.min(d.length,l);for(let _=c;_<l;++_)h+=String.fromCharCode(d[_]&127);return h}function _e(d,c,l){let h="";l=Math.min(d.length,l);for(let _=c;_<l;++_)h+=String.fromCharCode(d[_]);return h}function ye(d,c,l){const h=d.length;(!c||c<0)&&(c=0),(!l||l<0||l>h)&&(l=h);let _="";for(let N=c;N<l;++N)_+=Pt[d[N]];return _}function be(d,c,l){const h=d.slice(c,l);let _="";for(let N=0;N<h.length-1;N+=2)_+=String.fromCharCode(h[N]+h[N+1]*256);return _}a.prototype.slice=function(c,l){const h=this.length;c=~~c,l=l===void 0?h:~~l,c<0?(c+=h,c<0&&(c=0)):c>h&&(c=h),l<0?(l+=h,l<0&&(l=0)):l>h&&(l=h),l<c&&(l=c);const _=this.subarray(c,l);return Object.setPrototypeOf(_,a.prototype),_};function q(d,c,l){if(d%1!==0||d<0)throw new RangeError("offset is not uint");if(d+c>l)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(c,l,h){c=c>>>0,l=l>>>0,h||q(c,l,this.length);let _=this[c],N=1,k=0;for(;++k<l&&(N*=256);)_+=this[c+k]*N;return _},a.prototype.readUintBE=a.prototype.readUIntBE=function(c,l,h){c=c>>>0,l=l>>>0,h||q(c,l,this.length);let _=this[c+--l],N=1;for(;l>0&&(N*=256);)_+=this[c+--l]*N;return _},a.prototype.readUint8=a.prototype.readUInt8=function(c,l){return c=c>>>0,l||q(c,1,this.length),this[c]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(c,l){return c=c>>>0,l||q(c,2,this.length),this[c]|this[c+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(c,l){return c=c>>>0,l||q(c,2,this.length),this[c]<<8|this[c+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(c,l){return c=c>>>0,l||q(c,4,this.length),(this[c]|this[c+1]<<8|this[c+2]<<16)+this[c+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(c,l){return c=c>>>0,l||q(c,4,this.length),this[c]*16777216+(this[c+1]<<16|this[c+2]<<8|this[c+3])},a.prototype.readBigUInt64LE=ot(function(c){c=c>>>0,S(c,"offset");const l=this[c],h=this[c+7];(l===void 0||h===void 0)&&A(c,this.length-8);const _=l+this[++c]*2**8+this[++c]*2**16+this[++c]*2**24,N=this[++c]+this[++c]*2**8+this[++c]*2**16+h*2**24;return BigInt(_)+(BigInt(N)<<BigInt(32))}),a.prototype.readBigUInt64BE=ot(function(c){c=c>>>0,S(c,"offset");const l=this[c],h=this[c+7];(l===void 0||h===void 0)&&A(c,this.length-8);const _=l*2**24+this[++c]*2**16+this[++c]*2**8+this[++c],N=this[++c]*2**24+this[++c]*2**16+this[++c]*2**8+h;return(BigInt(_)<<BigInt(32))+BigInt(N)}),a.prototype.readIntLE=function(c,l,h){c=c>>>0,l=l>>>0,h||q(c,l,this.length);let _=this[c],N=1,k=0;for(;++k<l&&(N*=256);)_+=this[c+k]*N;return N*=128,_>=N&&(_-=Math.pow(2,8*l)),_},a.prototype.readIntBE=function(c,l,h){c=c>>>0,l=l>>>0,h||q(c,l,this.length);let _=l,N=1,k=this[c+--_];for(;_>0&&(N*=256);)k+=this[c+--_]*N;return N*=128,k>=N&&(k-=Math.pow(2,8*l)),k},a.prototype.readInt8=function(c,l){return c=c>>>0,l||q(c,1,this.length),this[c]&128?(255-this[c]+1)*-1:this[c]},a.prototype.readInt16LE=function(c,l){c=c>>>0,l||q(c,2,this.length);const h=this[c]|this[c+1]<<8;return h&32768?h|4294901760:h},a.prototype.readInt16BE=function(c,l){c=c>>>0,l||q(c,2,this.length);const h=this[c+1]|this[c]<<8;return h&32768?h|4294901760:h},a.prototype.readInt32LE=function(c,l){return c=c>>>0,l||q(c,4,this.length),this[c]|this[c+1]<<8|this[c+2]<<16|this[c+3]<<24},a.prototype.readInt32BE=function(c,l){return c=c>>>0,l||q(c,4,this.length),this[c]<<24|this[c+1]<<16|this[c+2]<<8|this[c+3]},a.prototype.readBigInt64LE=ot(function(c){c=c>>>0,S(c,"offset");const l=this[c],h=this[c+7];(l===void 0||h===void 0)&&A(c,this.length-8);const _=this[c+4]+this[c+5]*2**8+this[c+6]*2**16+(h<<24);return(BigInt(_)<<BigInt(32))+BigInt(l+this[++c]*2**8+this[++c]*2**16+this[++c]*2**24)}),a.prototype.readBigInt64BE=ot(function(c){c=c>>>0,S(c,"offset");const l=this[c],h=this[c+7];(l===void 0||h===void 0)&&A(c,this.length-8);const _=(l<<24)+this[++c]*2**16+this[++c]*2**8+this[++c];return(BigInt(_)<<BigInt(32))+BigInt(this[++c]*2**24+this[++c]*2**16+this[++c]*2**8+h)}),a.prototype.readFloatLE=function(c,l){return c=c>>>0,l||q(c,4,this.length),r.read(this,c,!0,23,4)},a.prototype.readFloatBE=function(c,l){return c=c>>>0,l||q(c,4,this.length),r.read(this,c,!1,23,4)},a.prototype.readDoubleLE=function(c,l){return c=c>>>0,l||q(c,8,this.length),r.read(this,c,!0,52,8)},a.prototype.readDoubleBE=function(c,l){return c=c>>>0,l||q(c,8,this.length),r.read(this,c,!1,52,8)};function we(d,c,l,h,_,N){if(!a.isBuffer(d))throw new TypeError('"buffer" argument must be a Buffer instance');if(c>_||c<N)throw new RangeError('"value" argument is out of bounds');if(l+h>d.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(c,l,h,_){if(c=+c,l=l>>>0,h=h>>>0,!_){const te=Math.pow(2,8*h)-1;we(this,c,l,h,te,0)}let N=1,k=0;for(this[l]=c&255;++k<h&&(N*=256);)this[l+k]=c/N&255;return l+h},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(c,l,h,_){if(c=+c,l=l>>>0,h=h>>>0,!_){const te=Math.pow(2,8*h)-1;we(this,c,l,h,te,0)}let N=h-1,k=1;for(this[l+N]=c&255;--N>=0&&(k*=256);)this[l+N]=c/k&255;return l+h},a.prototype.writeUint8=a.prototype.writeUInt8=function(c,l,h){return c=+c,l=l>>>0,h||we(this,c,l,1,255,0),this[l]=c&255,l+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(c,l,h){return c=+c,l=l>>>0,h||we(this,c,l,2,65535,0),this[l]=c&255,this[l+1]=c>>>8,l+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(c,l,h){return c=+c,l=l>>>0,h||we(this,c,l,2,65535,0),this[l]=c>>>8,this[l+1]=c&255,l+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(c,l,h){return c=+c,l=l>>>0,h||we(this,c,l,4,4294967295,0),this[l+3]=c>>>24,this[l+2]=c>>>16,this[l+1]=c>>>8,this[l]=c&255,l+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(c,l,h){return c=+c,l=l>>>0,h||we(this,c,l,4,4294967295,0),this[l]=c>>>24,this[l+1]=c>>>16,this[l+2]=c>>>8,this[l+3]=c&255,l+4};function H(d,c,l,h,_){Xe(c,h,_,d,l,7);let N=Number(c&BigInt(4294967295));d[l++]=N,N=N>>8,d[l++]=N,N=N>>8,d[l++]=N,N=N>>8,d[l++]=N;let k=Number(c>>BigInt(32)&BigInt(4294967295));return d[l++]=k,k=k>>8,d[l++]=k,k=k>>8,d[l++]=k,k=k>>8,d[l++]=k,l}function Ee(d,c,l,h,_){Xe(c,h,_,d,l,7);let N=Number(c&BigInt(4294967295));d[l+7]=N,N=N>>8,d[l+6]=N,N=N>>8,d[l+5]=N,N=N>>8,d[l+4]=N;let k=Number(c>>BigInt(32)&BigInt(4294967295));return d[l+3]=k,k=k>>8,d[l+2]=k,k=k>>8,d[l+1]=k,k=k>>8,d[l]=k,l+8}a.prototype.writeBigUInt64LE=ot(function(c,l=0){return H(this,c,l,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=ot(function(c,l=0){return Ee(this,c,l,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(c,l,h,_){if(c=+c,l=l>>>0,!_){const xe=Math.pow(2,8*h-1);we(this,c,l,h,xe-1,-xe)}let N=0,k=1,te=0;for(this[l]=c&255;++N<h&&(k*=256);)c<0&&te===0&&this[l+N-1]!==0&&(te=1),this[l+N]=(c/k>>0)-te&255;return l+h},a.prototype.writeIntBE=function(c,l,h,_){if(c=+c,l=l>>>0,!_){const xe=Math.pow(2,8*h-1);we(this,c,l,h,xe-1,-xe)}let N=h-1,k=1,te=0;for(this[l+N]=c&255;--N>=0&&(k*=256);)c<0&&te===0&&this[l+N+1]!==0&&(te=1),this[l+N]=(c/k>>0)-te&255;return l+h},a.prototype.writeInt8=function(c,l,h){return c=+c,l=l>>>0,h||we(this,c,l,1,127,-128),c<0&&(c=255+c+1),this[l]=c&255,l+1},a.prototype.writeInt16LE=function(c,l,h){return c=+c,l=l>>>0,h||we(this,c,l,2,32767,-32768),this[l]=c&255,this[l+1]=c>>>8,l+2},a.prototype.writeInt16BE=function(c,l,h){return c=+c,l=l>>>0,h||we(this,c,l,2,32767,-32768),this[l]=c>>>8,this[l+1]=c&255,l+2},a.prototype.writeInt32LE=function(c,l,h){return c=+c,l=l>>>0,h||we(this,c,l,4,2147483647,-2147483648),this[l]=c&255,this[l+1]=c>>>8,this[l+2]=c>>>16,this[l+3]=c>>>24,l+4},a.prototype.writeInt32BE=function(c,l,h){return c=+c,l=l>>>0,h||we(this,c,l,4,2147483647,-2147483648),c<0&&(c=4294967295+c+1),this[l]=c>>>24,this[l+1]=c>>>16,this[l+2]=c>>>8,this[l+3]=c&255,l+4},a.prototype.writeBigInt64LE=ot(function(c,l=0){return H(this,c,l,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=ot(function(c,l=0){return Ee(this,c,l,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ce(d,c,l,h,_,N){if(l+h>d.length)throw new RangeError("Index out of range");if(l<0)throw new RangeError("Index out of range")}function Ye(d,c,l,h,_){return c=+c,l=l>>>0,_||Ce(d,c,l,4),r.write(d,c,l,h,23,4),l+4}a.prototype.writeFloatLE=function(c,l,h){return Ye(this,c,l,!0,h)},a.prototype.writeFloatBE=function(c,l,h){return Ye(this,c,l,!1,h)};function qe(d,c,l,h,_){return c=+c,l=l>>>0,_||Ce(d,c,l,8),r.write(d,c,l,h,52,8),l+8}a.prototype.writeDoubleLE=function(c,l,h){return qe(this,c,l,!0,h)},a.prototype.writeDoubleBE=function(c,l,h){return qe(this,c,l,!1,h)},a.prototype.copy=function(c,l,h,_){if(!a.isBuffer(c))throw new TypeError("argument should be a Buffer");if(h||(h=0),!_&&_!==0&&(_=this.length),l>=c.length&&(l=c.length),l||(l=0),_>0&&_<h&&(_=h),_===h||c.length===0||this.length===0)return 0;if(l<0)throw new RangeError("targetStart out of bounds");if(h<0||h>=this.length)throw new RangeError("Index out of range");if(_<0)throw new RangeError("sourceEnd out of bounds");_>this.length&&(_=this.length),c.length-l<_-h&&(_=c.length-l+h);const N=_-h;return this===c&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(l,h,_):Uint8Array.prototype.set.call(c,this.subarray(h,_),l),N},a.prototype.fill=function(c,l,h,_){if(typeof c=="string"){if(typeof l=="string"?(_=l,l=0,h=this.length):typeof h=="string"&&(_=h,h=this.length),_!==void 0&&typeof _!="string")throw new TypeError("encoding must be a string");if(typeof _=="string"&&!a.isEncoding(_))throw new TypeError("Unknown encoding: "+_);if(c.length===1){const k=c.charCodeAt(0);(_==="utf8"&&k<128||_==="latin1")&&(c=k)}}else typeof c=="number"?c=c&255:typeof c=="boolean"&&(c=Number(c));if(l<0||this.length<l||this.length<h)throw new RangeError("Out of range index");if(h<=l)return this;l=l>>>0,h=h===void 0?this.length:h>>>0,c||(c=0);let N;if(typeof c=="number")for(N=l;N<h;++N)this[N]=c;else{const k=a.isBuffer(c)?c:a.from(c,_),te=k.length;if(te===0)throw new TypeError('The value "'+c+'" is invalid for argument "value"');for(N=0;N<h-l;++N)this[N+l]=k[N%te]}return this};const We={};function Ke(d,c,l){We[d]=class extends l{constructor(){super(),Object.defineProperty(this,"message",{value:c.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${d}]`,this.stack,delete this.name}get code(){return d}set code(_){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:_,writable:!0})}toString(){return`${this.name} [${d}]: ${this.message}`}}}Ke("ERR_BUFFER_OUT_OF_BOUNDS",function(d){return d?`${d} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ke("ERR_INVALID_ARG_TYPE",function(d,c){return`The "${d}" argument must be of type number. Received type ${typeof c}`},TypeError),Ke("ERR_OUT_OF_RANGE",function(d,c,l){let h=`The value of "${d}" is out of range.`,_=l;return Number.isInteger(l)&&Math.abs(l)>2**32?_=ct(String(l)):typeof l=="bigint"&&(_=String(l),(l>BigInt(2)**BigInt(32)||l<-(BigInt(2)**BigInt(32)))&&(_=ct(_)),_+="n"),h+=` It must be ${c}. Received ${_}`,h},RangeError);function ct(d){let c="",l=d.length;const h=d[0]==="-"?1:0;for(;l>=h+4;l-=3)c=`_${d.slice(l-3,l)}${c}`;return`${d.slice(0,l)}${c}`}function st(d,c,l){S(c,"offset"),(d[c]===void 0||d[c+l]===void 0)&&A(c,d.length-(l+1))}function Xe(d,c,l,h,_,N){if(d>l||d<c){const k=typeof c=="bigint"?"n":"";let te;throw c===0||c===BigInt(0)?te=`>= 0${k} and < 2${k} ** ${(N+1)*8}${k}`:te=`>= -(2${k} ** ${(N+1)*8-1}${k}) and < 2 ** ${(N+1)*8-1}${k}`,new We.ERR_OUT_OF_RANGE("value",te,d)}st(h,_,N)}function S(d,c){if(typeof d!="number")throw new We.ERR_INVALID_ARG_TYPE(c,"number",d)}function A(d,c,l){throw Math.floor(d)!==d?(S(d,l),new We.ERR_OUT_OF_RANGE("offset","an integer",d)):c<0?new We.ERR_BUFFER_OUT_OF_BOUNDS:new We.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${c}`,d)}const L=/[^+/0-9A-Za-z-_]/g;function z(d){if(d=d.split("=")[0],d=d.trim().replace(L,""),d.length<2)return"";for(;d.length%4!==0;)d=d+"=";return d}function j(d,c){c=c||1/0;let l;const h=d.length;let _=null;const N=[];for(let k=0;k<h;++k){if(l=d.charCodeAt(k),l>55295&&l<57344){if(!_){if(l>56319){(c-=3)>-1&&N.push(239,191,189);continue}else if(k+1===h){(c-=3)>-1&&N.push(239,191,189);continue}_=l;continue}if(l<56320){(c-=3)>-1&&N.push(239,191,189),_=l;continue}l=(_-55296<<10|l-56320)+65536}else _&&(c-=3)>-1&&N.push(239,191,189);if(_=null,l<128){if((c-=1)<0)break;N.push(l)}else if(l<2048){if((c-=2)<0)break;N.push(l>>6|192,l&63|128)}else if(l<65536){if((c-=3)<0)break;N.push(l>>12|224,l>>6&63|128,l&63|128)}else if(l<1114112){if((c-=4)<0)break;N.push(l>>18|240,l>>12&63|128,l>>6&63|128,l&63|128)}else throw new Error("Invalid code point")}return N}function ie(d){const c=[];for(let l=0;l<d.length;++l)c.push(d.charCodeAt(l)&255);return c}function $(d,c){let l,h,_;const N=[];for(let k=0;k<d.length&&!((c-=2)<0);++k)l=d.charCodeAt(k),h=l>>8,_=l%256,N.push(_),N.push(h);return N}function O(d){return e.toByteArray(z(d))}function K(d,c,l,h){let _;for(_=0;_<h&&!(_+l>=c.length||_>=d.length);++_)c[_+l]=d[_];return _}function U(d,c){return d instanceof c||d!=null&&d.constructor!=null&&d.constructor.name!=null&&d.constructor.name===c.name}function Je(d){return d!==d}const Pt=function(){const d="0123456789abcdef",c=new Array(256);for(let l=0;l<16;++l){const h=l*16;for(let _=0;_<16;++_)c[h+_]=d[l]+d[_]}return c}();function ot(d){return typeof BigInt>"u"?yr:d}function yr(){throw new Error("BigInt not supported")}})(he);function ro(t,e){return Object.fromEntries(Object.entries(t).map(([r,n])=>[r,typeof n=="function"?n.bind(e):n]))}function Vf(t,e=structuredClone(Tr)){const r={root:t,credentials:tf(e)},n=ro(mn,r),i=ro(Nn,r);return{...r,fs:{...mn,...n,promises:{...Nn,...i}}}}const Ar=new Map;let Gf=100;function cs(t){const e=Gf++;return Ar.set(e,t),e}function Le(t){if(!Ar.has(t))throw new E(R.EBADF);return Ar.get(t)}const Ir=new Map;fs("/",Bf.create({name:"root"}));function fs(t,e){if(t[0]!="/"&&(t="/"+t),t=Mt(t),Ir.has(t))throw nr(new E(R.EINVAL,"Mount point is already in use: "+t));e._mountPoint=t,Ir.set(t,e),Hc(`Mounted ${e.name} on ${t}`),Gr(`${e.name} attributes: ${[...e.attributes].map(([r,n])=>n!=null?r+"="+n:r).join(", ")}`)}function La(t){if(t[0]!="/"&&(t="/"+t),t=Mt(t),!Ir.has(t)){lt(t+" is already unmounted");return}Ir.delete(t),pa("Unmounted "+t)}function me(t,e){const r=(e==null?void 0:e.root)||"/";t=J(de(r,t));const n=[...Ir].sort((i,s)=>i[0].length>s[0].length?-1:1);for(const[i,s]of n)if(qf(i,t))return t=t.slice(i.length>1?i.length:0),t===""&&(t=r),{fs:s,path:t,mountPoint:i,root:r};throw Gc(new E(R.EIO,"No file system",t))}function di(t,e){for(const[r,n]of Object.entries(e))t=t==null?void 0:t.replaceAll(r,n);return t}function Fe(t,e){typeof t.stack=="string"&&(t.stack=di(t.stack,e));try{t.message=di(t.message,e)}catch{}return t.path&&(t.path=di(t.path,e)),t}function Hf(t){Kr("mountObject"),"/"in t&&La("/");for(const[e,r]of Object.entries(t))fs(e,r)}function Ma(t,e){const r=t.usage(),n=r.blockSize||4096;return{type:(e?BigInt:Number)(t.id),bsize:(e?BigInt:Number)(n),ffree:(e?BigInt:Number)(r.freeNodes||nt),files:(e?BigInt:Number)(r.totalNodes||nt),bavail:(e?BigInt:Number)(r.freeSpace/n),bfree:(e?BigInt:Number)(r.freeSpace/n),blocks:(e?BigInt:Number)(r.totalSpace/n)}}function Yf(t,e){const r=this===null||this===void 0?void 0:this.credentials;if(r!=null&&r.uid&&(r!=null&&r.gid)&&(r!=null&&r.euid)&&(r!=null&&r.egid))throw new E(R.EPERM,"Can not chroot() as non-root user");return e&&this?(this.root+=t,this):Vf(de((this===null||this===void 0?void 0:this.root)||"/",t),r)}function qf(t,e){return t==="/"||t===e?!0:(t.endsWith("/")||(t+="/"),e.startsWith(t))}class Ba extends oa{off(e,r,n,i){return super.off(e,r,n,i)}removeListener(e,r,n,i){return super.removeListener(e,r,n,i)}constructor(e,r){super(),this._context=e,this.path=r}setMaxListeners(){throw E.With("ENOSYS",this.path,"Watcher.setMaxListeners")}getMaxListeners(){throw E.With("ENOSYS",this.path,"Watcher.getMaxListeners")}prependListener(){throw E.With("ENOSYS",this.path,"Watcher.prependListener")}prependOnceListener(){throw E.With("ENOSYS",this.path,"Watcher.prependOnceListener")}rawListeners(){throw E.With("ENOSYS",this.path,"Watcher.rawListeners")}ref(){return this}unref(){return this}}class Fa extends Ba{constructor(e,r,n){super(e,r),this.options=n,this.realpath=e!=null&&e.root?de(e.root,r):r,Xf(this.realpath,this)}close(){super.emit("close"),Jf(this.realpath,this)}[Symbol.dispose](){this.close()}}class Kf extends Ba{constructor(e,r,n){super(e,r),this.options=n,this.start()}onInterval(){try{const e=zt(this.path);bf(this.previous,e)||(this.emit("change",e,this.previous),this.previous=e)}catch(e){this.emit("error",e)}}start(){const e=this.options.interval||5e3;try{this.previous=zt(this.path)}catch(r){this.emit("error",r);return}this.intervalId=setInterval(this.onInterval.bind(this),e),!this.options.persistent&&typeof this.intervalId=="object"&&this.intervalId.unref()}stop(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=void 0),this.removeAllListeners()}}const Ut=new Map;function Xf(t,e){const r=J(t);Ut.has(r)||Ut.set(r,new Set),Ut.get(r).add(e)}function Jf(t,e){const r=J(t);Ut.has(r)&&(Ut.get(r).delete(e),Ut.get(r).size===0&&Ut.delete(r))}function je(t,e,r){var n;t&&(r=de((n=t.root)!==null&&n!==void 0?n:"/",r)),r=J(r);for(let i=r;i!="/";i=se(i)){const s=Ut.get(i);if(s)for(const o of s)o.emit("change",e,ya(i,r)||vr(r))}}var Mn=function(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e},Bn=function(t){return function(e){function r(o){e.error=e.hasError?new t(o,e.error,"An error was suppressed during disposal."):o,e.hasError=!0}var n,i=0;function s(){for(;n=e.stack.pop();)try{if(!n.async&&i===1)return i=0,e.stack.push(n),Promise.resolve().then(s);if(n.dispose){var o=n.dispose.call(n.value);if(n.async)return i|=2,Promise.resolve(o).then(s,function(a){return r(a),s()})}else i|=1}catch(a){r(a)}if(i===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}}(typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n});function Qf(t,e){t=J(t),e=J(e);const r=me(t,this),n=me(e,this);if(!zt.call(this,se(t)).hasAccess(Ue,this))throw E.With("EACCES",t,"rename");try{if(r===n){r.fs.renameSync(r.path,n.path),je(this,"rename",t.toString()),je(this,"change",e.toString());return}Pn.call(this,e,hs(t)),ds.call(this,t),je(this,"rename",t.toString())}catch(i){throw Fe(i,{[r.path]:t,[n.path]:e})}}function Fn(t){t=J(t);try{const{fs:e,path:r}=me(Yt.call(this,t),this);return e.existsSync(r)}catch(e){if(e.errno==R.ENOENT)return!1;throw e}}function zt(t,e){t=J(t);const{fs:r,path:n}=me(Yt.call(this,t),this);try{const i=r.statSync(n);if(et.checkAccess&&!i.hasAccess(rt,this))throw E.With("EACCES",n,"stat");return e!=null&&e.bigint?new or(i):i}catch(i){throw Fe(i,{[n]:t})}}function us(t,e){t=J(t);const{fs:r,path:n}=me(t,this);try{const i=r.statSync(n);return e!=null&&e.bigint?new or(i):i}catch(i){throw Fe(i,{[n]:t})}}function Zf(t,e=0){const r={stack:[],error:void 0,hasError:!1};try{const n=Mn(r,ar.call(this,t,{flag:"r+"}),!1);if(e||(e=0),e<0)throw new E(R.EINVAL);n.truncateSync(e)}catch(n){r.error=n,r.hasError=!0}finally{Bn(r)}}function ds(t){t=J(t);const{fs:e,path:r}=me(t,this);try{if(et.checkAccess&&!e.statSync(r).hasAccess(Ue,this))throw E.With("EACCES",r,"unlink");e.unlinkSync(r),je(this,"rename",t.toString())}catch(n){throw Fe(n,{[r]:t})}}function Wi(t,e,r){if(t.fs.attributes.has("setid"))return;const n=t.fs.statSync(se(t.path));t.chownSync(n.mode&Xr?n.uid:e,n.mode&Jr?n.gid:r)}function ar(t,e){var r;t=J(t);const n=Ht(e.mode,420),i=Dt(e.flag);t=e.preserveSymlinks?t:Yt.call(this,t);const{fs:s,path:o}=me(t,this);let a;try{a=s.statSync(o)}catch{}if(!a){if(!jt(i)&&!Lr(i)||i=="r+")throw E.With("ENOENT",t,"_open");const u=s.statSync(se(o));if(!u.hasAccess(Ue,this))throw E.With("EACCES",se(t),"_open");if(!u.isDirectory())throw E.With("ENOTDIR",se(t),"_open");const{euid:y,egid:w}=(r=this===null||this===void 0?void 0:this.credentials)!==null&&r!==void 0?r:Tr,g=s.createFileSync(o,i,n,{uid:y,gid:w});if(!e.allowDirectory&&n&Pe)throw E.With("EISDIR",t,"_open");return Wi(g,y,w),g}if(!a.hasAccess(n,this)||!a.hasAccess(Ta(i),this))throw E.With("EACCES",t,"_open");if(Oa(i))throw E.With("EEXIST",t,"_open");const f=s.openFileSync(o,i);if(xa(i)&&f.truncateSync(0),!e.allowDirectory&&a.mode&Pe)throw E.With("EISDIR",t,"_open");return f}function Cn(t,e,r=ss){return cs(ar.call(this,t,{flag:e,mode:r}))}function Wn(t,e,r){return cs(ar.call(this,t,{flag:e,mode:r,preserveSymlinks:!0}))}function Ca(t,e,r){const n={stack:[],error:void 0,hasError:!1};try{t=J(t);const i=Mn(n,ar.call(this,t,{flag:e,mode:420,preserveSymlinks:r}),!1),s=i.statSync(),o=new Uint8Array(s.size);return i.readSync(o,0,s.size,0),o}catch(i){n.error=i,n.hasError=!0}finally{Bn(n)}}function hs(t,e={}){const r=Lt(e,null,"r",420),n=Dt(r.flag);if(!Dn(n))throw new E(R.EINVAL,"Flag passed to readFile must allow for reading");const i=he.Buffer.from(Ca.call(this,typeof t=="number"?Le(t).path:t,r.flag,!1));return r.encoding?i.toString(r.encoding):i}function Pn(t,e,r={}){const n={stack:[],error:void 0,hasError:!1};try{const i=Lt(r,"utf8","w+",420),s=Dt(i.flag);if(!jt(s))throw new E(R.EINVAL,"Flag passed to writeFile must allow for writing");if(typeof e!="string"&&!i.encoding)throw new E(R.EINVAL,"Encoding not specified");const o=typeof e=="string"?he.Buffer.from(e,i.encoding):new Uint8Array(e.buffer,e.byteOffset,e.byteLength);if(!o)throw new E(R.EINVAL,"Data not specified");Mn(n,ar.call(this,typeof t=="number"?Le(t).path:t.toString(),{flag:s,mode:i.mode,preserveSymlinks:!0}),!1).writeSync(o,0,o.byteLength,0),je(this,"change",t.toString())}catch(i){n.error=i,n.hasError=!0}finally{Bn(n)}}function eu(t,e,r={}){const n={stack:[],error:void 0,hasError:!1};try{const i=Lt(r,"utf8","a+",420),s=Dt(i.flag);if(!Lr(s))throw new E(R.EINVAL,"Flag passed to appendFile must allow for appending");if(typeof e!="string"&&!i.encoding)throw new E(R.EINVAL,"Encoding not specified");const o=typeof e=="string"?he.Buffer.from(e,i.encoding):new Uint8Array(e.buffer,e.byteOffset,e.byteLength);Mn(n,ar.call(this,typeof t=="number"?Le(t).path:t.toString(),{flag:s,mode:i.mode,preserveSymlinks:!0}),!1).writeSync(o,0,o.byteLength)}catch(i){n.error=i,n.hasError=!0}finally{Bn(n)}}function tu(t,e){const r=Le(t).statSync();return e!=null&&e.bigint?new or(r):r}function lr(t){Le(t).closeSync(),Ar.delete(t)}function ru(t,e=0){if(e||(e=0),e<0)throw new E(R.EINVAL);Le(t).truncateSync(e)}function nu(t){Le(t).syncSync()}function iu(t){Le(t).datasyncSync()}function su(t,e,r,n,i){let s,o,a,f;if(typeof e=="string"){f=typeof r=="number"?r:null;const w=typeof n=="string"?n:"utf8";o=0,s=he.Buffer.from(e,w),a=s.byteLength}else s=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),o=r,a=n,f=typeof i=="number"?i:null;const u=Le(t);f??(f=u.position);const y=u.writeSync(s,o,a,f);return je(this,"change",u.path),y}function ou(t,e,r,n,i){const s=Le(t),o=typeof r=="object"?r.offset:r;return typeof r=="object"&&(n=r.length,i=r.position),i=Number(i),isNaN(i)&&(i=s.position),s.readSync(e,o,n,i)}function ys(t,e,r){Le(t).chownSync(e,r)}function ws(t,e){const r=Ht(e,-1);if(r<0)throw new E(R.EINVAL,"Invalid mode.");Le(t).chmodSync(r)}function ps(t,e,r){Le(t).utimesSync(En(e),En(r))}function Wa(t){t=J(t);const{fs:e,path:r}=me(Yt.call(this,t),this);try{const n=e.statSync(r);if(!n.isDirectory())throw E.With("ENOTDIR",r,"rmdir");if(et.checkAccess&&!n.hasAccess(Ue,this))throw E.With("EACCES",r,"rmdir");e.rmdirSync(r),je(this,"rename",t.toString())}catch(n){throw Fe(n,{[r]:t})}}function ms(t,e){var r,n;const{euid:i,egid:s}=(r=this===null||this===void 0?void 0:this.credentials)!==null&&r!==void 0?r:Tr;e=typeof e=="object"?e:{mode:e};const o=Ht(e==null?void 0:e.mode,511);t=Yt.call(this,t);const{fs:a,path:f,root:u}=me(t,this),y={[f]:t};try{if(!(e!=null&&e.recursive)){if(et.checkAccess&&!a.statSync(se(f)).hasAccess(Ue,this))throw E.With("EACCES",se(f),"mkdir");a.mkdirSync(f,o,{uid:i,gid:s}),Wi(a.openFileSync(f,"r+"),i,s);return}const w=[];for(let g=f,b=t;!a.existsSync(g);g=se(g),b=se(b))w.unshift(g),y[g]=b;for(const g of w){if(et.checkAccess&&!a.statSync(se(g)).hasAccess(Ue,this))throw E.With("EACCES",se(g),"mkdir");a.mkdirSync(g,o,{uid:i,gid:s}),Wi(a.openFileSync(g,"r+"),i,s),je(this,"rename",g)}return u.length==1?w[0]:(n=w[0])===null||n===void 0?void 0:n.slice(u.length)}catch(w){throw Fe(w,y)}}function Mr(t,e){e=typeof e=="object"?e:{encoding:e},t=J(t);const{fs:r,path:n}=me(Yt.call(this,t),this);let i;try{const o=r.statSync(n);if(et.checkAccess&&!o.hasAccess(rt,this))throw E.With("EACCES",n,"readdir");if(!o.isDirectory())throw E.With("ENOTDIR",n,"readdir");i=r.readdirSync(n)}catch(o){throw Fe(o,{[n]:t})}const s=[];for(const o of i){let a;try{a=r.statSync(de(n,o))}catch{continue}if(e!=null&&e.withFileTypes?s.push(new Zr(o,a)):(e==null?void 0:e.encoding)=="buffer"?s.push(he.Buffer.from(o)):s.push(o),!(!a.isDirectory()||!(e!=null&&e.recursive)))for(const f of Mr.call(this,de(t,o),e))f instanceof Zr?(f.path=de(o,f.path),s.push(f)):he.Buffer.isBuffer(f)?s.push(he.Buffer.from(de(o,as(f)))):s.push(de(o,f))}return s}function au(t,e){if(t=J(t),!zt(se(t)).hasAccess(rt,this))throw E.With("EACCES",se(t),"link");if(e=J(e),!zt(se(e)).hasAccess(Ue,this))throw E.With("EACCES",se(e),"link");const{fs:r,path:n}=me(t,this),i=me(e,this);if(r!=i.fs)throw E.With("EXDEV",e,"link");try{if(et.checkAccess&&!r.statSync(n).hasAccess(rt,this))throw E.With("EACCES",n,"link");return r.linkSync(n,i.path)}catch(s){throw Fe(s,{[n]:t,[i.path]:e})}}function lu(t,e,r="file"){if(!["file","dir","junction"].includes(r))throw new E(R.EINVAL,"Invalid type: "+r);if(Fn.call(this,e))throw E.With("EEXIST",e.toString(),"symlink");Pn.call(this,e,J(t,!0)),ar.call(this,e,{flag:"r+",mode:420,preserveSymlinks:!0}).chmodSync(Gt)}function Pi(t,e){const r=he.Buffer.from(Ca.call(this,t,"r",!0)),n=typeof e=="object"?e==null?void 0:e.encoding:e;return n=="buffer"?r:r.toString(n??"utf-8")}function cu(t,e,r){const n=Cn.call(this,t,"r+");ys(n,e,r),lr(n)}function fu(t,e,r){const n=Wn.call(this,t,"r+");ys(n,e,r),lr(n)}function uu(t,e){const r=Cn.call(this,t,"r+");ws(r,e),lr(r)}function du(t,e){const r=Wn.call(this,t,"r+");ws(r,e),lr(r)}function Pa(t,e,r){const n=Cn.call(this,t,"r+");ps(n,e,r),lr(n)}function hu(t,e,r){const n=Wn.call(this,t,"r+");ps(n,e,r),lr(n)}function $i(t,e,r){try{const f=me(e,t),u=f.fs.statSync(f.path);if(!u.isSymbolicLink())return{...f,fullPath:e,stats:u};const y=Mt(se(e),Pi.call(t,e).toString());return $i(t,y)}catch{}const{base:n,dir:i}=Et(e),s=i=="/"?"/":Yt.call(t,i),o=de(s,n),a=me(o,t);try{const f=a.fs.statSync(a.path);if(!f.isSymbolicLink())return{...a,fullPath:o,stats:f};const u=Mt(s,Pi.call(t,o).toString());return $i(t,u)}catch(f){if(f.code=="ENOENT")return{...a,fullPath:e};throw Fe(f,{[a.path]:o})}}function Yt(t,e){var r;const n=typeof e=="string"?e:(r=e==null?void 0:e.encoding)!==null&&r!==void 0?r:"utf8";t=J(t);const{fullPath:i}=$i(this,t);if(n=="utf8"||n=="utf-8")return i;const s=he.Buffer.from(i,"utf-8");return n=="buffer"?s:s.toString(n)}function yu(t,e=384){if(!zt.call(this,t).hasAccess(e,this))throw new E(R.EACCES)}function $a(t,e){t=J(t);let r;try{r=us.bind(this)(t)}catch(n){if(n.code!="ENOENT"||!(e!=null&&e.force))throw n}if(r)switch(r.mode&Be){case Pe:if(e!=null&&e.recursive)for(const n of Mr.call(this,t))$a.call(this,de(t,n),e);Wa.call(this,t);break;case It:case Gt:case Or:case kr:ds.call(this,t);break;case Dr:case xr:default:throw new E(R.EPERM,"File type not supported",t,"rm")}}function wu(t,e){const r=typeof e=="object"?e==null?void 0:e.encoding:e||"utf8",i="/tmp/"+`${t}${Date.now()}-${Math.random().toString(36).slice(2)}`;return ms.call(this,i),r=="buffer"?he.Buffer.from(i):i}function Ua(t,e,r){if(t=J(t),e=J(e),r&&r&os&&Fn(e))throw new E(R.EEXIST,"Destination file already exists",e,"copyFile");Pn.call(this,e,hs(t)),je(this,"rename",e.toString())}function pu(t,e,r){const n=Le(t);let i=0;for(const s of e)i+=n.readSync(s,0,s.byteLength,r+i);return i}function mu(t,e,r){const n=Le(t);let i=0;for(const s of e)i+=n.writeSync(new Uint8Array(s.buffer),0,s.byteLength,r+i);return i}function gu(t,e){return t=J(t),new gs(t,this)}function ja(t,e,r){t=J(t),e=J(e);const n=us.call(this,t);if(r!=null&&r.errorOnExist&&Fn.call(this,e))throw new E(R.EEXIST,"Destination file or directory already exists",e,"cp");switch(n.mode&Be){case Pe:if(!(r!=null&&r.recursive))throw new E(R.EISDIR,t+" is a directory (not copied)",t,"cp");ms.call(this,e,{recursive:!0});for(const i of Mr.call(this,t,{withFileTypes:!0}))r.filter&&!r.filter(de(t,i.name),de(e,i.name))||ja.call(this,de(t,i.name),de(e,i.name),r);break;case It:case Gt:Ua.call(this,t,e);break;case Or:case kr:case Dr:case xr:default:throw new E(R.EPERM,"File type not supported",t,"rm")}r!=null&&r.preserveTimestamps&&Pa.call(this,e,n.atime,n.mtime)}function _u(t,e){t=J(t);const{fs:r}=me(t,this);return Ma(r,e==null?void 0:e.bigint)}function bu(t,e={}){t=Array.isArray(t)?t:[t];const{cwd:r="/",withFileTypes:n=!1,exclude:i=()=>!1}=e,s=t.map(f=>(f=f.replace(/([.?+^$(){}|[\]/])/g,"\\$1").replace(/\*\*/g,".*").replace(/\*/g,"[^/]*").replace(/\?/g,"."),new RegExp(`^${f}$`))),o=[];function a(f){const u=Mr(f,{withFileTypes:n,encoding:"utf8"});for(const y of u){const w=n?y.path:f+"/"+y;i(n?y:w)||(zt(w).isDirectory()&&s.some(g=>g.source.includes(".*"))&&a(w),s.some(g=>g.test(w.replace(/^\/+/g,"")))&&o.push(n?y.path:w.replace(/^\/+/g,"")))}}return a(r),o}class Zr{get name(){return vr(this.path)}constructor(e,r){this.path=e,this.stats=r}get parentPath(){return this.path}isFile(){return this.stats.isFile()}isDirectory(){return this.stats.isDirectory()}isBlockDevice(){return this.stats.isBlockDevice()}isCharacterDevice(){return this.stats.isCharacterDevice()}isSymbolicLink(){return this.stats.isSymbolicLink()}isFIFO(){return this.stats.isFIFO()}isSocket(){return this.stats.isSocket()}}class gs{checkClosed(){if(this.closed)throw new E(R.EBADF,"Can not use closed Dir")}constructor(e,r){this.path=e,this.context=r,this.closed=!1}close(e){if(this.closed=!0,!e)return Promise.resolve();e()}closeSync(){this.closed=!0}async _read(){var e,r;return this.checkClosed(),(e=this._entries)!==null&&e!==void 0||(this._entries=await hr.call(this.context,this.path,{withFileTypes:!0})),this._entries.length&&(r=this._entries.shift())!==null&&r!==void 0?r:null}read(e){if(!e)return this._read();this._read().then(r=>e(void 0,r))}readSync(){var e,r;return this.checkClosed(),(e=this._entries)!==null&&e!==void 0||(this._entries=Mr.call(this.context,this.path,{withFileTypes:!0})),this._entries.length&&(r=this._entries.shift())!==null&&r!==void 0?r:null}async next(){const e=await this._read();return e?{done:!1,value:e}:(await this.close(),{done:!0,value:void 0})}[Symbol.asyncIterator](){return this}[Symbol.asyncDispose](){return Promise.resolve()}}var za={exports:{}},hi={exports:{}};let Eu=class extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError(`Expected input to be an Array, got ${typeof e}`);let r="";for(let n=0;n<e.length;n++)r+=`    ${e[n].stack}
`;super(r),this.name="AggregateError",this.errors=e}};var ke={AggregateError:Eu,ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,e){return t.includes(e)},ArrayPrototypeIndexOf(t,e){return t.indexOf(e)},ArrayPrototypeJoin(t,e){return t.join(e)},ArrayPrototypeMap(t,e){return t.map(e)},ArrayPrototypePop(t,e){return t.pop(e)},ArrayPrototypePush(t,e){return t.push(e)},ArrayPrototypeSlice(t,e,r){return t.slice(e,r)},Error,FunctionPrototypeCall(t,e,...r){return t.call(e,...r)},FunctionPrototypeSymbolHasInstance(t,e){return Function.prototype[Symbol.hasInstance].call(t,e)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,e){return Object.defineProperties(t,e)},ObjectDefineProperty(t,e,r){return Object.defineProperty(t,e,r)},ObjectGetOwnPropertyDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,e){return Object.setPrototypeOf(t,e)},Promise,PromisePrototypeCatch(t,e){return t.catch(e)},PromisePrototypeThen(t,e,r){return t.then(e,r)},PromiseReject(t){return Promise.reject(t)},PromiseResolve(t){return Promise.resolve(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,e){return t.test(e)},SafeSet:Set,String,StringPrototypeSlice(t,e,r){return t.slice(e,r)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(t,e,r){return t.set(e,r)},Boolean,Uint8Array},Va={exports:{}},Ga={format(t,...e){return t.replace(/%([sdifj])/g,function(...[r,n]){const i=e.shift();return n==="f"?i.toFixed(6):n==="j"?JSON.stringify(i):n==="s"&&typeof i=="object"?`${i.constructor!==Object?i.constructor.name:""} {}`.trim():i.toString()})},inspect(t){switch(typeof t){case"string":if(t.includes("'"))if(t.includes('"')){if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}else return`"${t}"`;return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}}};const{format:Su,inspect:Sn}=Ga,{AggregateError:vu}=ke,Au=globalThis.AggregateError||vu,Iu=Symbol("kIsNodeError"),Ru=["string","function","number","object","Function","Object","boolean","bigint","symbol"],Nu=/^([A-Z][a-z0-9]*)+$/,Tu="__node_internal_",$n={};function sr(t,e){if(!t)throw new $n.ERR_INTERNAL_ASSERTION(e)}function no(t){let e="",r=t.length;const n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function xu(t,e,r){if(typeof e=="function")return sr(e.length<=r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${e.length}).`),e(...r);const n=(e.match(/%[dfijoOs]/g)||[]).length;return sr(n===r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${n}).`),r.length===0?e:Su(e,...r)}function ze(t,e,r){r||(r=Error);class n extends r{constructor(...s){super(xu(t,e,s))}toString(){return`${this.name} [${t}]: ${this.message}`}}Object.defineProperties(n.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${t}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=t,n.prototype[Iu]=!0,$n[t]=n}function io(t){const e=Tu+t.name;return Object.defineProperty(t,"name",{value:e}),t}function Ou(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;const r=new Au([e,t],e.message);return r.code=e.code,r}return t||e}let ku=class extends Error{constructor(e="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new $n.ERR_INVALID_ARG_TYPE("options","Object",r);super(e,r),this.code="ABORT_ERR",this.name="AbortError"}};ze("ERR_ASSERTION","%s",Error);ze("ERR_INVALID_ARG_TYPE",(t,e,r)=>{sr(typeof t=="string","'name' must be a string"),Array.isArray(e)||(e=[e]);let n="The ";t.endsWith(" argument")?n+=`${t} `:n+=`"${t}" ${t.includes(".")?"property":"argument"} `,n+="must be ";const i=[],s=[],o=[];for(const f of e)sr(typeof f=="string","All expected entries have to be of type string"),Ru.includes(f)?i.push(f.toLowerCase()):Nu.test(f)?s.push(f):(sr(f!=="object",'The value "object" should be written as "Object"'),o.push(f));if(s.length>0){const f=i.indexOf("object");f!==-1&&(i.splice(i,f,1),s.push("Object"))}if(i.length>0){switch(i.length){case 1:n+=`of type ${i[0]}`;break;case 2:n+=`one of type ${i[0]} or ${i[1]}`;break;default:{const f=i.pop();n+=`one of type ${i.join(", ")}, or ${f}`}}(s.length>0||o.length>0)&&(n+=" or ")}if(s.length>0){switch(s.length){case 1:n+=`an instance of ${s[0]}`;break;case 2:n+=`an instance of ${s[0]} or ${s[1]}`;break;default:{const f=s.pop();n+=`an instance of ${s.join(", ")}, or ${f}`}}o.length>0&&(n+=" or ")}switch(o.length){case 0:break;case 1:o[0].toLowerCase()!==o[0]&&(n+="an "),n+=`${o[0]}`;break;case 2:n+=`one of ${o[0]} or ${o[1]}`;break;default:{const f=o.pop();n+=`one of ${o.join(", ")}, or ${f}`}}if(r==null)n+=`. Received ${r}`;else if(typeof r=="function"&&r.name)n+=`. Received function ${r.name}`;else if(typeof r=="object"){var a;if((a=r.constructor)!==null&&a!==void 0&&a.name)n+=`. Received an instance of ${r.constructor.name}`;else{const f=Sn(r,{depth:-1});n+=`. Received ${f}`}}else{let f=Sn(r,{colors:!1});f.length>25&&(f=`${f.slice(0,25)}...`),n+=`. Received type ${typeof r} (${f})`}return n},TypeError);ze("ERR_INVALID_ARG_VALUE",(t,e,r="is invalid")=>{let n=Sn(e);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${t.includes(".")?"property":"argument"} '${t}' ${r}. Received ${n}`},TypeError);ze("ERR_INVALID_RETURN_VALUE",(t,e,r)=>{var n;const i=r!=null&&(n=r.constructor)!==null&&n!==void 0&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${t} to be returned from the "${e}" function but got ${i}.`},TypeError);ze("ERR_MISSING_ARGS",(...t)=>{sr(t.length>0,"At least one arg needs to be specified");let e;const r=t.length;switch(t=(Array.isArray(t)?t:[t]).map(n=>`"${n}"`).join(" or "),r){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{const n=t.pop();e+=`The ${t.join(", ")}, and ${n} arguments`}break}return`${e} must be specified`},TypeError);ze("ERR_OUT_OF_RANGE",(t,e,r)=>{sr(e,'Missing "range" argument');let n;if(Number.isInteger(r)&&Math.abs(r)>2**32)n=no(String(r));else if(typeof r=="bigint"){n=String(r);const i=BigInt(2)**BigInt(32);(r>i||r<-i)&&(n=no(n)),n+="n"}else n=Sn(r);return`The value of "${t}" is out of range. It must be ${e}. Received ${n}`},RangeError);ze("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);ze("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);ze("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);ze("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);ze("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);ze("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);ze("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);ze("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);ze("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);ze("ERR_STREAM_WRITE_AFTER_END","write after end",Error);ze("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);var tt={AbortError:ku,aggregateTwoErrors:io(Ou),hideStackFrames:io,codes:$n},Pr={exports:{}},so;function en(){if(so)return Pr.exports;so=1;const{AbortController:t,AbortSignal:e}=typeof self<"u"?self:typeof window<"u"?window:void 0;return Pr.exports=t,Pr.exports.AbortSignal=e,Pr.exports.default=t,Pr.exports}var _s={exports:{}},br=typeof Reflect=="object"?Reflect:null,oo=br&&typeof br.apply=="function"?br.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},yn;br&&typeof br.ownKeys=="function"?yn=br.ownKeys:Object.getOwnPropertySymbols?yn=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:yn=function(e){return Object.getOwnPropertyNames(e)};function Du(t){console&&console.warn&&console.warn(t)}var Ha=Number.isNaN||function(e){return e!==e};function Se(){Se.init.call(this)}_s.exports=Se;_s.exports.once=Fu;Se.EventEmitter=Se;Se.prototype._events=void 0;Se.prototype._eventsCount=0;Se.prototype._maxListeners=void 0;var ao=10;function Un(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(Se,"defaultMaxListeners",{enumerable:!0,get:function(){return ao},set:function(t){if(typeof t!="number"||t<0||Ha(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");ao=t}});Se.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Se.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||Ha(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function Ya(t){return t._maxListeners===void 0?Se.defaultMaxListeners:t._maxListeners}Se.prototype.getMaxListeners=function(){return Ya(this)};Se.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=e==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(r.length>0&&(o=r[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var f=s[e];if(f===void 0)return!1;if(typeof f=="function")oo(f,this,r);else for(var u=f.length,y=Qa(f,u),n=0;n<u;++n)oo(y[n],this,r);return!0};function qa(t,e,r,n){var i,s,o;if(Un(r),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),s=t._events),o=s[e]),o===void 0)o=s[e]=r,++t._eventsCount;else if(typeof o=="function"?o=s[e]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),i=Ya(t),i>0&&o.length>i&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=o.length,Du(a)}return t}Se.prototype.addListener=function(e,r){return qa(this,e,r,!1)};Se.prototype.on=Se.prototype.addListener;Se.prototype.prependListener=function(e,r){return qa(this,e,r,!0)};function Lu(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Ka(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=Lu.bind(n);return i.listener=r,n.wrapFn=i,i}Se.prototype.once=function(e,r){return Un(r),this.on(e,Ka(this,e,r)),this};Se.prototype.prependOnceListener=function(e,r){return Un(r),this.prependListener(e,Ka(this,e,r)),this};Se.prototype.removeListener=function(e,r){var n,i,s,o,a;if(Un(r),i=this._events,i===void 0)return this;if(n=i[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(s=-1,o=n.length-1;o>=0;o--)if(n[o]===r||n[o].listener===r){a=n[o].listener,s=o;break}if(s<0)return this;s===0?n.shift():Mu(n,s),n.length===1&&(i[e]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",e,a||r)}return this};Se.prototype.off=Se.prototype.removeListener;Se.prototype.removeAllListeners=function(e){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var s=Object.keys(n),o;for(i=0;i<s.length;++i)o=s[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(e,r[i]);return this};function Xa(t,e,r){var n=t._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?Bu(i):Qa(i,i.length)}Se.prototype.listeners=function(e){return Xa(this,e,!0)};Se.prototype.rawListeners=function(e){return Xa(this,e,!1)};Se.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):Ja.call(t,e)};Se.prototype.listenerCount=Ja;function Ja(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}Se.prototype.eventNames=function(){return this._eventsCount>0?yn(this._events):[]};function Qa(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function Mu(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function Bu(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function Fu(t,e){return new Promise(function(r,n){function i(o){t.removeListener(e,s),n(o)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",i),r([].slice.call(arguments))}Za(t,e,s,{once:!0}),e!=="error"&&Cu(t,i,{once:!0})})}function Cu(t,e,r){typeof t.on=="function"&&Za(t,"error",e,r)}function Za(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(s){n.once&&t.removeEventListener(e,i),r(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var jn=_s.exports;(function(t){const e=he,{format:r,inspect:n}=Ga,{codes:{ERR_INVALID_ARG_TYPE:i}}=tt,{kResistStopPropagation:s,AggregateError:o,SymbolDispose:a}=ke,f=globalThis.AbortSignal||en().AbortSignal,u=globalThis.AbortController||en().AbortController,y=Object.getPrototypeOf(async function(){}).constructor,w=globalThis.Blob||e.Blob,g=typeof w<"u"?function(I){return I instanceof w}:function(I){return!1},b=(v,I)=>{if(v!==void 0&&(v===null||typeof v!="object"||!("aborted"in v)))throw new i(I,"AbortSignal",v)},T=(v,I)=>{if(typeof v!="function")throw new i(I,"Function",v)};t.exports={AggregateError:o,kEmptyObject:Object.freeze({}),once(v){let I=!1;return function(...B){I||(I=!0,v.apply(this,B))}},createDeferredPromise:function(){let v,I;return{promise:new Promise((V,x)=>{v=V,I=x}),resolve:v,reject:I}},promisify(v){return new Promise((I,B)=>{v((V,...x)=>V?B(V):I(...x))})},debuglog(){return function(){}},format:r,inspect:n,types:{isAsyncFunction(v){return v instanceof y},isArrayBufferView(v){return ArrayBuffer.isView(v)}},isBlob:g,deprecate(v,I){return v},addAbortListener:jn.addAbortListener||function(I,B){if(I===void 0)throw new i("signal","AbortSignal",I);b(I,"signal"),T(B,"listener");let V;return I.aborted?queueMicrotask(()=>B()):(I.addEventListener("abort",B,{__proto__:null,once:!0,[s]:!0}),V=()=>{I.removeEventListener("abort",B)}),{__proto__:null,[a](){var x;(x=V)===null||x===void 0||x()}}},AbortSignalAny:f.any||function(I){if(I.length===1)return I[0];const B=new u,V=()=>B.abort();return I.forEach(x=>{b(x,"signals"),x.addEventListener("abort",V,{once:!0})}),B.signal.addEventListener("abort",()=>{I.forEach(x=>x.removeEventListener("abort",V))},{once:!0}),B.signal}},t.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")})(Va);var it=Va.exports,bs={};const{ArrayIsArray:el,ArrayPrototypeIncludes:Wu,ArrayPrototypeJoin:Pu,ArrayPrototypeMap:$u,NumberIsInteger:Es,NumberIsNaN:Ww,NumberMAX_SAFE_INTEGER:Uu,NumberMIN_SAFE_INTEGER:ju,NumberParseInt:Pw,ObjectPrototypeHasOwnProperty:zu,RegExpPrototypeExec:$w,String:Vu,StringPrototypeToUpperCase:Uw,StringPrototypeTrim:jw}=ke,{hideStackFrames:ht,codes:{ERR_SOCKET_BAD_PORT:zw,ERR_INVALID_ARG_TYPE:yt,ERR_INVALID_ARG_VALUE:tl,ERR_OUT_OF_RANGE:Rr,ERR_UNKNOWN_SIGNAL:Vw}}=tt,{normalizeEncoding:Gw}=it,{isAsyncFunction:Gu,isArrayBufferView:Hu}=it.types,Yu=ht((t,e,r=ju,n=Uu)=>{if(typeof t!="number")throw new yt(e,"number",t);if(!Es(t))throw new Rr(e,"an integer",t);if(t<r||t>n)throw new Rr(e,`>= ${r} && <= ${n}`,t)});ht((t,e,r=-2147483648,n=2147483647)=>{if(typeof t!="number")throw new yt(e,"number",t);if(!Es(t))throw new Rr(e,"an integer",t);if(t<r||t>n)throw new Rr(e,`>= ${r} && <= ${n}`,t)});ht((t,e,r=!1)=>{if(typeof t!="number")throw new yt(e,"number",t);if(!Es(t))throw new Rr(e,"an integer",t);const n=r?1:0,i=4294967295;if(t<n||t>i)throw new Rr(e,`>= ${n} && <= ${i}`,t)});ht((t,e,r)=>{if(!Wu(r,t)){const i="must be one of: "+Pu($u(r,s=>typeof s=="string"?`'${s}'`:Vu(s)),", ");throw new tl(e,t,i)}});function qu(t,e){if(typeof t!="boolean")throw new yt(e,"boolean",t)}function yi(t,e,r){return t==null||!zu(t,e)?r:t[e]}const Ku=ht((t,e,r=null)=>{const n=yi(r,"allowArray",!1),i=yi(r,"allowFunction",!1);if(!yi(r,"nullable",!1)&&t===null||!n&&el(t)||typeof t!="object"&&(!i||typeof t!="function"))throw new yt(e,"Object",t)});ht((t,e)=>{if(t!=null&&typeof t!="object"&&typeof t!="function")throw new yt(e,"a dictionary",t)});ht((t,e,r=0)=>{if(!el(t))throw new yt(e,"Array",t);if(t.length<r){const n=`must be longer than ${r}`;throw new tl(e,t,n)}});ht((t,e="buffer")=>{if(!Hu(t))throw new yt(e,["Buffer","TypedArray","DataView"],t)});const Xu=ht((t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new yt(e,"AbortSignal",t)}),Ju=ht((t,e)=>{if(typeof t!="function")throw new yt(e,"Function",t)});ht((t,e)=>{if(typeof t!="function"||Gu(t))throw new yt(e,"Function",t)});ht((t,e)=>{if(t!==void 0)throw new yt(e,"undefined",t)});var rn={validateBoolean:qu,validateFunction:Ju,validateInteger:Yu,validateObject:Ku,validateAbortSignal:Xu},Ss={exports:{}},rl={exports:{}},Me=rl.exports={},St,vt;function Ui(){throw new Error("setTimeout has not been defined")}function ji(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?St=setTimeout:St=Ui}catch{St=Ui}try{typeof clearTimeout=="function"?vt=clearTimeout:vt=ji}catch{vt=ji}})();function nl(t){if(St===setTimeout)return setTimeout(t,0);if((St===Ui||!St)&&setTimeout)return St=setTimeout,setTimeout(t,0);try{return St(t,0)}catch{try{return St.call(null,t,0)}catch{return St.call(this,t,0)}}}function Qu(t){if(vt===clearTimeout)return clearTimeout(t);if((vt===ji||!vt)&&clearTimeout)return vt=clearTimeout,clearTimeout(t);try{return vt(t)}catch{try{return vt.call(null,t)}catch{return vt.call(this,t)}}}var kt=[],Er=!1,ir,wn=-1;function Zu(){!Er||!ir||(Er=!1,ir.length?kt=ir.concat(kt):wn=-1,kt.length&&il())}function il(){if(!Er){var t=nl(Zu);Er=!0;for(var e=kt.length;e;){for(ir=kt,kt=[];++wn<e;)ir&&ir[wn].run();wn=-1,e=kt.length}ir=null,Er=!1,Qu(t)}}Me.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];kt.push(new sl(t,e)),kt.length===1&&!Er&&nl(il)};function sl(t,e){this.fun=t,this.array=e}sl.prototype.run=function(){this.fun.apply(null,this.array)};Me.title="browser";Me.browser=!0;Me.env={};Me.argv=[];Me.version="";Me.versions={};function Ct(){}Me.on=Ct;Me.addListener=Ct;Me.once=Ct;Me.off=Ct;Me.removeListener=Ct;Me.removeAllListeners=Ct;Me.emit=Ct;Me.prependListener=Ct;Me.prependOnceListener=Ct;Me.listeners=function(t){return[]};Me.binding=function(t){throw new Error("process.binding is not supported")};Me.cwd=function(){return"/"};Me.chdir=function(t){throw new Error("process.chdir is not supported")};Me.umask=function(){return 0};var cr=rl.exports;const{SymbolAsyncIterator:lo,SymbolIterator:co,SymbolFor:fr}=ke,ol=fr("nodejs.stream.destroyed"),ed=fr("nodejs.stream.errored"),fo=fr("nodejs.stream.readable"),uo=fr("nodejs.stream.writable"),td=fr("nodejs.stream.disturbed"),rd=fr("nodejs.webstream.isClosedPromise"),nd=fr("nodejs.webstream.controllerErrorFunction");function vs(t,e=!1){var r;return!!(t&&typeof t.pipe=="function"&&typeof t.on=="function"&&(!e||typeof t.pause=="function"&&typeof t.resume=="function")&&(!t._writableState||((r=t._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!t._writableState||t._readableState))}function zn(t){var e;return!!(t&&typeof t.write=="function"&&typeof t.on=="function"&&(!t._readableState||((e=t._writableState)===null||e===void 0?void 0:e.writable)!==!1))}function id(t){return!!(t&&typeof t.pipe=="function"&&t._readableState&&typeof t.on=="function"&&typeof t.write=="function")}function Tt(t){return t&&(t._readableState||t._writableState||typeof t.write=="function"&&typeof t.on=="function"||typeof t.pipe=="function"&&typeof t.on=="function")}function al(t){return!!(t&&!Tt(t)&&typeof t.pipeThrough=="function"&&typeof t.getReader=="function"&&typeof t.cancel=="function")}function ll(t){return!!(t&&!Tt(t)&&typeof t.getWriter=="function"&&typeof t.abort=="function")}function cl(t){return!!(t&&!Tt(t)&&typeof t.readable=="object"&&typeof t.writable=="object")}function sd(t){return al(t)||ll(t)||cl(t)}function od(t,e){return t==null?!1:e===!0?typeof t[lo]=="function":e===!1?typeof t[co]=="function":typeof t[lo]=="function"||typeof t[co]=="function"}function Vn(t){if(!Tt(t))return null;const e=t._writableState,r=t._readableState,n=e||r;return!!(t.destroyed||t[ol]||n!=null&&n.destroyed)}function ad(t){if(!zn(t))return null;if(t.writableEnded===!0)return!0;const e=t._writableState;return e!=null&&e.errored?!1:typeof(e==null?void 0:e.ended)!="boolean"?null:e.ended}function ld(t,e){if(!zn(t))return null;if(t.writableFinished===!0)return!0;const r=t._writableState;return r!=null&&r.errored?!1:typeof(r==null?void 0:r.finished)!="boolean"?null:!!(r.finished||e===!1&&r.ended===!0&&r.length===0)}function fl(t,e){if(!vs(t))return null;const r=t._readableState;return r!=null&&r.errored?!1:typeof(r==null?void 0:r.endEmitted)!="boolean"?null:!!(r.endEmitted||e===!1&&r.ended===!0&&r.length===0)}function ul(t){return t&&t[fo]!=null?t[fo]:typeof(t==null?void 0:t.readable)!="boolean"?null:Vn(t)?!1:vs(t)&&t.readable&&!fl(t)}function dl(t){return t&&t[uo]!=null?t[uo]:typeof(t==null?void 0:t.writable)!="boolean"?null:Vn(t)?!1:zn(t)&&t.writable&&!ad(t)}function cd(t,e){return Tt(t)?Vn(t)?!0:!((e==null?void 0:e.readable)!==!1&&ul(t)||(e==null?void 0:e.writable)!==!1&&dl(t)):null}function fd(t){var e,r;return Tt(t)?t.writableErrored?t.writableErrored:(e=(r=t._writableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function ud(t){var e,r;return Tt(t)?t.readableErrored?t.readableErrored:(e=(r=t._readableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function dd(t){if(!Tt(t))return null;if(typeof t.closed=="boolean")return t.closed;const e=t._writableState,r=t._readableState;return typeof(e==null?void 0:e.closed)=="boolean"||typeof(r==null?void 0:r.closed)=="boolean"?(e==null?void 0:e.closed)||(r==null?void 0:r.closed):typeof t._closed=="boolean"&&hl(t)?t._closed:null}function hl(t){return typeof t._closed=="boolean"&&typeof t._defaultKeepAlive=="boolean"&&typeof t._removedConnection=="boolean"&&typeof t._removedContLen=="boolean"}function hd(t){return typeof t._sent100=="boolean"&&hl(t)}function yd(t){var e;return typeof t._consuming=="boolean"&&typeof t._dumped=="boolean"&&((e=t.req)===null||e===void 0?void 0:e.upgradeOrConnect)===void 0}function wd(t){if(!Tt(t))return null;const e=t._writableState,r=t._readableState,n=e||r;return!n&&hd(t)||!!(n&&n.autoDestroy&&n.emitClose&&n.closed===!1)}function pd(t){var e;return!!(t&&((e=t[td])!==null&&e!==void 0?e:t.readableDidRead||t.readableAborted))}function md(t){var e,r,n,i,s,o,a,f,u,y;return!!(t&&((e=(r=(n=(i=(s=(o=t[ed])!==null&&o!==void 0?o:t.readableErrored)!==null&&s!==void 0?s:t.writableErrored)!==null&&i!==void 0?i:(a=t._readableState)===null||a===void 0?void 0:a.errorEmitted)!==null&&n!==void 0?n:(f=t._writableState)===null||f===void 0?void 0:f.errorEmitted)!==null&&r!==void 0?r:(u=t._readableState)===null||u===void 0?void 0:u.errored)!==null&&e!==void 0?e:!((y=t._writableState)===null||y===void 0)&&y.errored))}var Wt={isDestroyed:Vn,kIsDestroyed:ol,isDisturbed:pd,isErrored:md,isReadable:ul,kIsClosedPromise:rd,kControllerErrorFunction:nd,isClosed:dd,isDuplexNodeStream:id,isFinished:cd,isIterable:od,isReadableNodeStream:vs,isReadableStream:al,isReadableFinished:fl,isReadableErrored:ud,isNodeStream:Tt,isWebStream:sd,isWritable:dl,isWritableNodeStream:zn,isWritableStream:ll,isWritableFinished:ld,isWritableErrored:fd,isServerRequest:yd,willEmitClose:wd,isTransformStream:cl};const $t=cr,{AbortError:yl,codes:gd}=tt,{ERR_INVALID_ARG_TYPE:_d,ERR_STREAM_PREMATURE_CLOSE:ho}=gd,{kEmptyObject:zi,once:Vi}=it,{validateAbortSignal:bd,validateFunction:Ed,validateObject:Sd,validateBoolean:vd}=rn,{Promise:Ad,PromisePrototypeThen:Id,SymbolDispose:wl}=ke,{isClosed:Rd,isReadable:yo,isReadableNodeStream:wi,isReadableStream:Nd,isReadableFinished:wo,isReadableErrored:po,isWritable:mo,isWritableNodeStream:go,isWritableStream:Td,isWritableFinished:_o,isWritableErrored:bo,isNodeStream:xd,willEmitClose:Od,kIsClosedPromise:kd}=Wt;let Sr;function Dd(t){return t.setHeader&&typeof t.abort=="function"}const Gi=()=>{};function pl(t,e,r){var n,i;if(arguments.length===2?(r=e,e=zi):e==null?e=zi:Sd(e,"options"),Ed(r,"callback"),bd(e.signal,"options.signal"),r=Vi(r),Nd(t)||Td(t))return Ld(t,e,r);if(!xd(t))throw new _d("stream",["ReadableStream","WritableStream","Stream"],t);const s=(n=e.readable)!==null&&n!==void 0?n:wi(t),o=(i=e.writable)!==null&&i!==void 0?i:go(t),a=t._writableState,f=t._readableState,u=()=>{t.writable||g()};let y=Od(t)&&wi(t)===s&&go(t)===o,w=_o(t,!1);const g=()=>{w=!0,t.destroyed&&(y=!1),!(y&&(!t.readable||s))&&(!s||b)&&r.call(t)};let b=wo(t,!1);const T=()=>{b=!0,t.destroyed&&(y=!1),!(y&&(!t.writable||o))&&(!o||w)&&r.call(t)},v=M=>{r.call(t,M)};let I=Rd(t);const B=()=>{I=!0;const M=bo(t)||po(t);if(M&&typeof M!="boolean")return r.call(t,M);if(s&&!b&&wi(t,!0)&&!wo(t,!1))return r.call(t,new ho);if(o&&!w&&!_o(t,!1))return r.call(t,new ho);r.call(t)},V=()=>{I=!0;const M=bo(t)||po(t);if(M&&typeof M!="boolean")return r.call(t,M);r.call(t)},x=()=>{t.req.on("finish",g)};Dd(t)?(t.on("complete",g),y||t.on("abort",B),t.req?x():t.on("request",x)):o&&!a&&(t.on("end",u),t.on("close",u)),!y&&typeof t.aborted=="boolean"&&t.on("aborted",B),t.on("end",T),t.on("finish",g),e.error!==!1&&t.on("error",v),t.on("close",B),I?$t.nextTick(B):a!=null&&a.errorEmitted||f!=null&&f.errorEmitted?y||$t.nextTick(V):(!s&&(!y||yo(t))&&(w||mo(t)===!1)||!o&&(!y||mo(t))&&(b||yo(t)===!1)||f&&t.req&&t.aborted)&&$t.nextTick(V);const W=()=>{r=Gi,t.removeListener("aborted",B),t.removeListener("complete",g),t.removeListener("abort",B),t.removeListener("request",x),t.req&&t.req.removeListener("finish",g),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",g),t.removeListener("end",T),t.removeListener("error",v),t.removeListener("close",B)};if(e.signal&&!I){const M=()=>{const ae=r;W(),ae.call(t,new yl(void 0,{cause:e.signal.reason}))};if(e.signal.aborted)$t.nextTick(M);else{Sr=Sr||it.addAbortListener;const ae=Sr(e.signal,M),ce=r;r=Vi((...re)=>{ae[wl](),ce.apply(t,re)})}}return W}function Ld(t,e,r){let n=!1,i=Gi;if(e.signal)if(i=()=>{n=!0,r.call(t,new yl(void 0,{cause:e.signal.reason}))},e.signal.aborted)$t.nextTick(i);else{Sr=Sr||it.addAbortListener;const o=Sr(e.signal,i),a=r;r=Vi((...f)=>{o[wl](),a.apply(t,f)})}const s=(...o)=>{n||$t.nextTick(()=>r.apply(t,o))};return Id(t[kd].promise,s,s),Gi}function Md(t,e){var r;let n=!1;return e===null&&(e=zi),(r=e)!==null&&r!==void 0&&r.cleanup&&(vd(e.cleanup,"cleanup"),n=e.cleanup),new Ad((i,s)=>{const o=pl(t,e,a=>{n&&o(),a?s(a):i()})})}Ss.exports=pl;Ss.exports.finished=Md;var qt=Ss.exports;const Rt=cr,{aggregateTwoErrors:Bd,codes:{ERR_MULTIPLE_CALLBACK:Fd},AbortError:Cd}=tt,{Symbol:ml}=ke,{kIsDestroyed:Wd,isDestroyed:Pd,isFinished:$d,isServerRequest:Ud}=Wt,gl=ml("kDestroy"),Hi=ml("kConstruct");function _l(t,e,r){t&&(t.stack,e&&!e.errored&&(e.errored=t),r&&!r.errored&&(r.errored=t))}function jd(t,e){const r=this._readableState,n=this._writableState,i=n||r;return n!=null&&n.destroyed||r!=null&&r.destroyed?(typeof e=="function"&&e(),this):(_l(t,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),i.constructed?Eo(this,t,e):this.once(gl,function(s){Eo(this,Bd(s,t),e)}),this)}function Eo(t,e,r){let n=!1;function i(s){if(n)return;n=!0;const o=t._readableState,a=t._writableState;_l(s,a,o),a&&(a.closed=!0),o&&(o.closed=!0),typeof r=="function"&&r(s),s?Rt.nextTick(zd,t,s):Rt.nextTick(bl,t)}try{t._destroy(e||null,i)}catch(s){i(s)}}function zd(t,e){Yi(t,e),bl(t)}function bl(t){const e=t._readableState,r=t._writableState;r&&(r.closeEmitted=!0),e&&(e.closeEmitted=!0),(r!=null&&r.emitClose||e!=null&&e.emitClose)&&t.emit("close")}function Yi(t,e){const r=t._readableState,n=t._writableState;n!=null&&n.errorEmitted||r!=null&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),t.emit("error",e))}function Vd(){const t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=t.readable===!1,t.endEmitted=t.readable===!1),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=e.writable===!1,e.ending=e.writable===!1,e.finished=e.writable===!1)}function qi(t,e,r){const n=t._readableState,i=t._writableState;if(i!=null&&i.destroyed||n!=null&&n.destroyed)return this;n!=null&&n.autoDestroy||i!=null&&i.autoDestroy?t.destroy(e):e&&(e.stack,i&&!i.errored&&(i.errored=e),n&&!n.errored&&(n.errored=e),r?Rt.nextTick(Yi,t,e):Yi(t,e))}function Gd(t,e){if(typeof t._construct!="function")return;const r=t._readableState,n=t._writableState;r&&(r.constructed=!1),n&&(n.constructed=!1),t.once(Hi,e),!(t.listenerCount(Hi)>1)&&Rt.nextTick(Hd,t)}function Hd(t){let e=!1;function r(n){if(e){qi(t,n??new Fd);return}e=!0;const i=t._readableState,s=t._writableState,o=s||i;i&&(i.constructed=!0),s&&(s.constructed=!0),o.destroyed?t.emit(gl,n):n?qi(t,n,!0):Rt.nextTick(Yd,t)}try{t._construct(n=>{Rt.nextTick(r,n)})}catch(n){Rt.nextTick(r,n)}}function Yd(t){t.emit(Hi)}function So(t){return(t==null?void 0:t.setHeader)&&typeof t.abort=="function"}function El(t){t.emit("close")}function qd(t,e){t.emit("error",e),Rt.nextTick(El,t)}function Kd(t,e){!t||Pd(t)||(!e&&!$d(t)&&(e=new Cd),Ud(t)?(t.socket=null,t.destroy(e)):So(t)?t.abort():So(t.req)?t.req.abort():typeof t.destroy=="function"?t.destroy(e):typeof t.close=="function"?t.close():e?Rt.nextTick(qd,t,e):Rt.nextTick(El,t),t.destroyed||(t[Wd]=!0))}var Br={construct:Gd,destroyer:Kd,destroy:jd,undestroy:Vd,errorOrDestroy:qi};const{ArrayIsArray:Xd,ObjectSetPrototypeOf:Sl}=ke,{EventEmitter:Gn}=jn;function Hn(t){Gn.call(this,t)}Sl(Hn.prototype,Gn.prototype);Sl(Hn,Gn);Hn.prototype.pipe=function(t,e){const r=this;function n(y){t.writable&&t.write(y)===!1&&r.pause&&r.pause()}r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}t.on("drain",i),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",o),r.on("close",a));let s=!1;function o(){s||(s=!0,t.end())}function a(){s||(s=!0,typeof t.destroy=="function"&&t.destroy())}function f(y){u(),Gn.listenerCount(this,"error")===0&&this.emit("error",y)}Ki(r,"error",f),Ki(t,"error",f);function u(){r.removeListener("data",n),t.removeListener("drain",i),r.removeListener("end",o),r.removeListener("close",a),r.removeListener("error",f),t.removeListener("error",f),r.removeListener("end",u),r.removeListener("close",u),t.removeListener("close",u)}return r.on("end",u),r.on("close",u),t.on("close",u),t.emit("pipe",r),t};function Ki(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Xd(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}var As={Stream:Hn,prependListener:Ki},vl={exports:{}};(function(t){const{SymbolDispose:e}=ke,{AbortError:r,codes:n}=tt,{isNodeStream:i,isWebStream:s,kControllerErrorFunction:o}=Wt,a=qt,{ERR_INVALID_ARG_TYPE:f}=n;let u;const y=(w,g)=>{if(typeof w!="object"||!("aborted"in w))throw new f(g,"AbortSignal",w)};t.exports.addAbortSignal=function(g,b){if(y(g,"signal"),!i(b)&&!s(b))throw new f("stream",["ReadableStream","WritableStream","Stream"],b);return t.exports.addAbortSignalNoValidate(g,b)},t.exports.addAbortSignalNoValidate=function(w,g){if(typeof w!="object"||!("aborted"in w))return g;const b=i(g)?()=>{g.destroy(new r(void 0,{cause:w.reason}))}:()=>{g[o](new r(void 0,{cause:w.reason}))};if(w.aborted)b();else{u=u||it.addAbortListener;const T=u(w,b);a(g,T[e])}return g}})(vl);var Yn=vl.exports;const{StringPrototypeSlice:vo,SymbolIterator:Jd,TypedArrayPrototypeSet:cn,Uint8Array:Qd}=ke,{Buffer:pi}=he,{inspect:Zd}=it;var eh=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){const r={data:e,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(e){const r={data:e,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;const e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(this.length===0)return"";let r=this.head,n=""+r.data;for(;(r=r.next)!==null;)n+=e+r.data;return n}concat(e){if(this.length===0)return pi.alloc(0);const r=pi.allocUnsafe(e>>>0);let n=this.head,i=0;for(;n;)cn(r,n.data,i),i+=n.data.length,n=n.next;return r}consume(e,r){const n=this.head.data;if(e<n.length){const i=n.slice(0,e);return this.head.data=n.slice(e),i}return e===n.length?this.shift():r?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[Jd](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let r="",n=this.head,i=0;do{const s=n.data;if(e>s.length)r+=s,e-=s.length;else{e===s.length?(r+=s,++i,n.next?this.head=n.next:this.head=this.tail=null):(r+=vo(s,0,e),this.head=n,n.data=vo(s,e));break}++i}while((n=n.next)!==null);return this.length-=i,r}_getBuffer(e){const r=pi.allocUnsafe(e),n=e;let i=this.head,s=0;do{const o=i.data;if(e>o.length)cn(r,o,n-e),e-=o.length;else{e===o.length?(cn(r,o,n-e),++s,i.next?this.head=i.next:this.head=this.tail=null):(cn(r,new Qd(o.buffer,o.byteOffset,e),n-e),this.head=i,i.data=o.slice(e));break}++s}while((i=i.next)!==null);return this.length-=s,r}[Symbol.for("nodejs.util.inspect.custom")](e,r){return Zd(this,{...r,depth:0,customInspect:!1})}};const{MathFloor:th,NumberIsInteger:rh}=ke,{validateInteger:nh}=rn,{ERR_INVALID_ARG_VALUE:ih}=tt.codes;let Al=16*1024,Il=16;function sh(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function Rl(t){return t?Il:Al}function oh(t,e){nh(e,"value",0),t?Il=e:Al=e}function ah(t,e,r,n){const i=sh(e,n,r);if(i!=null){if(!rh(i)||i<0){const s=n?`options.${r}`:"options.highWaterMark";throw new ih(s,i)}return th(i)}return Rl(t.objectMode)}var qn={getHighWaterMark:ah,getDefaultHighWaterMark:Rl,setDefaultHighWaterMark:oh},Nl={},Xi={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var r=he,n=r.Buffer;function i(o,a){for(var f in o)a[f]=o[f]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=s);function s(o,a,f){return n(o,a,f)}s.prototype=Object.create(n.prototype),i(n,s),s.from=function(o,a,f){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,a,f)},s.alloc=function(o,a,f){if(typeof o!="number")throw new TypeError("Argument must be a number");var u=n(o);return a!==void 0?typeof f=="string"?u.fill(a,f):u.fill(a):u.fill(0),u},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}})(Xi,Xi.exports);var lh=Xi.exports,Is=lh.Buffer,Ao=Is.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function ch(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function fh(t){var e=ch(t);if(typeof e!="string"&&(Is.isEncoding===Ao||!Ao(t)))throw new Error("Unknown encoding: "+t);return e||t}Nl.StringDecoder=nn;function nn(t){this.encoding=fh(t);var e;switch(this.encoding){case"utf16le":this.text=ph,this.end=mh,e=4;break;case"utf8":this.fillLast=hh,e=4;break;case"base64":this.text=gh,this.end=_h,e=3;break;default:this.write=bh,this.end=Eh;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Is.allocUnsafe(e)}nn.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};nn.prototype.end=wh;nn.prototype.text=yh;nn.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function mi(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function uh(t,e,r){var n=e.length-1;if(n<r)return 0;var i=mi(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=mi(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=mi(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function dh(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,""}}function hh(t){var e=this.lastTotal-this.lastNeed,r=dh(this,t);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function yh(t,e){var r=uh(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function wh(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"":e}function ph(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function mh(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function gh(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function _h(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function bh(t){return t.toString(this.encoding)}function Eh(t){return t&&t.length?this.write(t):""}const Io=cr,{PromisePrototypeThen:Sh,SymbolAsyncIterator:Ro,SymbolIterator:No}=ke,{Buffer:vh}=he,{ERR_INVALID_ARG_TYPE:Ah,ERR_STREAM_NULL_VALUES:Ih}=tt.codes;function Rh(t,e,r){let n;if(typeof e=="string"||e instanceof vh)return new t({objectMode:!0,...r,read(){this.push(e),this.push(null)}});let i;if(e&&e[Ro])i=!0,n=e[Ro]();else if(e&&e[No])i=!1,n=e[No]();else throw new Ah("iterable",["Iterable"],e);const s=new t({objectMode:!0,highWaterMark:1,...r});let o=!1;s._read=function(){o||(o=!0,f())},s._destroy=function(u,y){Sh(a(u),()=>Io.nextTick(y,u),w=>Io.nextTick(y,w||u))};async function a(u){const y=u!=null,w=typeof n.throw=="function";if(y&&w){const{value:g,done:b}=await n.throw(u);if(await g,b)return}if(typeof n.return=="function"){const{value:g}=await n.return();await g}}async function f(){for(;;){try{const{value:u,done:y}=i?await n.next():n.next();if(y)s.push(null);else{const w=u&&typeof u.then=="function"?await u:u;if(w===null)throw o=!1,new Ih;if(s.push(w))continue;o=!1}}catch(u){s.destroy(u)}break}}return s}var Tl=Rh,gi,To;function Kn(){if(To)return gi;To=1;const t=cr,{ArrayPrototypeIndexOf:e,NumberIsInteger:r,NumberIsNaN:n,NumberParseInt:i,ObjectDefineProperties:s,ObjectKeys:o,ObjectSetPrototypeOf:a,Promise:f,SafeSet:u,SymbolAsyncDispose:y,SymbolAsyncIterator:w,Symbol:g}=ke;gi=U,U.ReadableState=K;const{EventEmitter:b}=jn,{Stream:T,prependListener:v}=As,{Buffer:I}=he,{addAbortSignal:B}=Yn,V=qt;let x=it.debuglog("stream",p=>{x=p});const W=eh,M=Br,{getHighWaterMark:ae,getDefaultHighWaterMark:ce}=qn,{aggregateTwoErrors:re,codes:{ERR_INVALID_ARG_TYPE:P,ERR_METHOD_NOT_IMPLEMENTED:ne,ERR_OUT_OF_RANGE:Te,ERR_STREAM_PUSH_AFTER_EOF:fe,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:D},AbortError:le}=tt,{validateObject:Z}=rn,ee=g("kPaused"),{StringDecoder:ge}=Nl,_e=Tl;a(U.prototype,T.prototype),a(U,T);const ye=()=>{},{errorOrDestroy:be}=M,q=1,we=2,H=4,Ee=8,Ce=16,Ye=32,qe=64,We=128,Ke=256,ct=512,st=1024,Xe=2048,S=4096,A=8192,L=16384,z=32768,j=65536,ie=1<<17,$=1<<18;function O(p){return{enumerable:!1,get(){return(this.state&p)!==0},set(m){m?this.state|=p:this.state&=~p}}}s(K.prototype,{objectMode:O(q),ended:O(we),endEmitted:O(H),reading:O(Ee),constructed:O(Ce),sync:O(Ye),needReadable:O(qe),emittedReadable:O(We),readableListening:O(Ke),resumeScheduled:O(ct),errorEmitted:O(st),emitClose:O(Xe),autoDestroy:O(S),destroyed:O(A),closed:O(L),closeEmitted:O(z),multiAwaitDrain:O(j),readingMore:O(ie),dataEmitted:O($)});function K(p,m,F){typeof F!="boolean"&&(F=m instanceof Bt()),this.state=Xe|S|Ce|Ye,p&&p.objectMode&&(this.state|=q),F&&p&&p.readableObjectMode&&(this.state|=q),this.highWaterMark=p?ae(this,p,"readableHighWaterMark",F):ce(!1),this.buffer=new W,this.length=0,this.pipes=[],this.flowing=null,this[ee]=null,p&&p.emitClose===!1&&(this.state&=~Xe),p&&p.autoDestroy===!1&&(this.state&=~S),this.errored=null,this.defaultEncoding=p&&p.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,p&&p.encoding&&(this.decoder=new ge(p.encoding),this.encoding=p.encoding)}function U(p){if(!(this instanceof U))return new U(p);const m=this instanceof Bt();this._readableState=new K(p,this,m),p&&(typeof p.read=="function"&&(this._read=p.read),typeof p.destroy=="function"&&(this._destroy=p.destroy),typeof p.construct=="function"&&(this._construct=p.construct),p.signal&&!m&&B(p.signal,this)),T.call(this,p),M.construct(this,()=>{this._readableState.needReadable&&_(this,this._readableState)})}U.prototype.destroy=M.destroy,U.prototype._undestroy=M.undestroy,U.prototype._destroy=function(p,m){m(p)},U.prototype[b.captureRejectionSymbol]=function(p){this.destroy(p)},U.prototype[y]=function(){let p;return this.destroyed||(p=this.readableEnded?null:new le,this.destroy(p)),new f((m,F)=>V(this,C=>C&&C!==p?F(C):m(null)))},U.prototype.push=function(p,m){return Je(this,p,m,!1)},U.prototype.unshift=function(p,m){return Je(this,p,m,!0)};function Je(p,m,F,C){x("readableAddChunk",m);const G=p._readableState;let Ve;if(G.state&q||(typeof m=="string"?(F=F||G.defaultEncoding,G.encoding!==F&&(C&&G.encoding?m=I.from(m,F).toString(G.encoding):(m=I.from(m,F),F=""))):m instanceof I?F="":T._isUint8Array(m)?(m=T._uint8ArrayToBuffer(m),F=""):m!=null&&(Ve=new P("chunk",["string","Buffer","Uint8Array"],m))),Ve)be(p,Ve);else if(m===null)G.state&=~Ee,c(p,G);else if(G.state&q||m&&m.length>0)if(C)if(G.state&H)be(p,new D);else{if(G.destroyed||G.errored)return!1;Pt(p,G,m,!0)}else if(G.ended)be(p,new fe);else{if(G.destroyed||G.errored)return!1;G.state&=~Ee,G.decoder&&!F?(m=G.decoder.write(m),G.objectMode||m.length!==0?Pt(p,G,m,!1):_(p,G)):Pt(p,G,m,!1)}else C||(G.state&=~Ee,_(p,G));return!G.ended&&(G.length<G.highWaterMark||G.length===0)}function Pt(p,m,F,C){m.flowing&&m.length===0&&!m.sync&&p.listenerCount("data")>0?(m.state&j?m.awaitDrainWriters.clear():m.awaitDrainWriters=null,m.dataEmitted=!0,p.emit("data",F)):(m.length+=m.objectMode?1:F.length,C?m.buffer.unshift(F):m.buffer.push(F),m.state&qe&&l(p)),_(p,m)}U.prototype.isPaused=function(){const p=this._readableState;return p[ee]===!0||p.flowing===!1},U.prototype.setEncoding=function(p){const m=new ge(p);this._readableState.decoder=m,this._readableState.encoding=this._readableState.decoder.encoding;const F=this._readableState.buffer;let C="";for(const G of F)C+=m.write(G);return F.clear(),C!==""&&F.push(C),this._readableState.length=C.length,this};const ot=1073741824;function yr(p){if(p>ot)throw new Te("size","<= 1GiB",p);return p--,p|=p>>>1,p|=p>>>2,p|=p>>>4,p|=p>>>8,p|=p>>>16,p++,p}function d(p,m){return p<=0||m.length===0&&m.ended?0:m.state&q?1:n(p)?m.flowing&&m.length?m.buffer.first().length:m.length:p<=m.length?p:m.ended?m.length:0}U.prototype.read=function(p){x("read",p),p===void 0?p=NaN:r(p)||(p=i(p,10));const m=this._readableState,F=p;if(p>m.highWaterMark&&(m.highWaterMark=yr(p)),p!==0&&(m.state&=~We),p===0&&m.needReadable&&((m.highWaterMark!==0?m.length>=m.highWaterMark:m.length>0)||m.ended))return x("read: emitReadable",m.length,m.ended),m.length===0&&m.ended?ri(this):l(this),null;if(p=d(p,m),p===0&&m.ended)return m.length===0&&ri(this),null;let C=(m.state&qe)!==0;if(x("need readable",C),(m.length===0||m.length-p<m.highWaterMark)&&(C=!0,x("length less than watermark",C)),m.ended||m.reading||m.destroyed||m.errored||!m.constructed)C=!1,x("reading, ended or constructing",C);else if(C){x("do read"),m.state|=Ee|Ye,m.length===0&&(m.state|=qe);try{this._read(m.highWaterMark)}catch(Ve){be(this,Ve)}m.state&=~Ye,m.reading||(p=d(F,m))}let G;return p>0?G=$s(p,m):G=null,G===null?(m.needReadable=m.length<=m.highWaterMark,p=0):(m.length-=p,m.multiAwaitDrain?m.awaitDrainWriters.clear():m.awaitDrainWriters=null),m.length===0&&(m.ended||(m.needReadable=!0),F!==p&&m.ended&&ri(this)),G!==null&&!m.errorEmitted&&!m.closeEmitted&&(m.dataEmitted=!0,this.emit("data",G)),G};function c(p,m){if(x("onEofChunk"),!m.ended){if(m.decoder){const F=m.decoder.end();F&&F.length&&(m.buffer.push(F),m.length+=m.objectMode?1:F.length)}m.ended=!0,m.sync?l(p):(m.needReadable=!1,m.emittedReadable=!0,h(p))}}function l(p){const m=p._readableState;x("emitReadable",m.needReadable,m.emittedReadable),m.needReadable=!1,m.emittedReadable||(x("emitReadable",m.flowing),m.emittedReadable=!0,t.nextTick(h,p))}function h(p){const m=p._readableState;x("emitReadable_",m.destroyed,m.length,m.ended),!m.destroyed&&!m.errored&&(m.length||m.ended)&&(p.emit("readable"),m.emittedReadable=!1),m.needReadable=!m.flowing&&!m.ended&&m.length<=m.highWaterMark,pe(p)}function _(p,m){!m.readingMore&&m.constructed&&(m.readingMore=!0,t.nextTick(N,p,m))}function N(p,m){for(;!m.reading&&!m.ended&&(m.length<m.highWaterMark||m.flowing&&m.length===0);){const F=m.length;if(x("maybeReadMore read 0"),p.read(0),F===m.length)break}m.readingMore=!1}U.prototype._read=function(p){throw new ne("_read()")},U.prototype.pipe=function(p,m){const F=this,C=this._readableState;C.pipes.length===1&&(C.multiAwaitDrain||(C.multiAwaitDrain=!0,C.awaitDrainWriters=new u(C.awaitDrainWriters?[C.awaitDrainWriters]:[]))),C.pipes.push(p),x("pipe count=%d opts=%j",C.pipes.length,m);const Ve=(!m||m.end!==!1)&&p!==t.stdout&&p!==t.stderr?js:Wr;C.endEmitted?t.nextTick(Ve):F.once("end",Ve),p.on("unpipe",ft);function ft(Jt,xt){x("onunpipe"),Jt===F&&xt&&xt.hasUnpiped===!1&&(xt.hasUnpiped=!0,lc())}function js(){x("onend"),p.end()}let Xt,zs=!1;function lc(){x("cleanup"),p.removeListener("close",si),p.removeListener("finish",oi),Xt&&p.removeListener("drain",Xt),p.removeListener("error",ii),p.removeListener("unpipe",ft),F.removeListener("end",js),F.removeListener("end",Wr),F.removeListener("data",Gs),zs=!0,Xt&&C.awaitDrainWriters&&(!p._writableState||p._writableState.needDrain)&&Xt()}function Vs(){zs||(C.pipes.length===1&&C.pipes[0]===p?(x("false write response, pause",0),C.awaitDrainWriters=p,C.multiAwaitDrain=!1):C.pipes.length>1&&C.pipes.includes(p)&&(x("false write response, pause",C.awaitDrainWriters.size),C.awaitDrainWriters.add(p)),F.pause()),Xt||(Xt=k(F,p),p.on("drain",Xt))}F.on("data",Gs);function Gs(Jt){x("ondata");const xt=p.write(Jt);x("dest.write",xt),xt===!1&&Vs()}function ii(Jt){if(x("onerror",Jt),Wr(),p.removeListener("error",ii),p.listenerCount("error")===0){const xt=p._writableState||p._readableState;xt&&!xt.errorEmitted?be(p,Jt):p.emit("error",Jt)}}v(p,"error",ii);function si(){p.removeListener("finish",oi),Wr()}p.once("close",si);function oi(){x("onfinish"),p.removeListener("close",si),Wr()}p.once("finish",oi);function Wr(){x("unpipe"),F.unpipe(p)}return p.emit("pipe",F),p.writableNeedDrain===!0?Vs():C.flowing||(x("pipe resume"),F.resume()),p};function k(p,m){return function(){const C=p._readableState;C.awaitDrainWriters===m?(x("pipeOnDrain",1),C.awaitDrainWriters=null):C.multiAwaitDrain&&(x("pipeOnDrain",C.awaitDrainWriters.size),C.awaitDrainWriters.delete(m)),(!C.awaitDrainWriters||C.awaitDrainWriters.size===0)&&p.listenerCount("data")&&p.resume()}}U.prototype.unpipe=function(p){const m=this._readableState,F={hasUnpiped:!1};if(m.pipes.length===0)return this;if(!p){const G=m.pipes;m.pipes=[],this.pause();for(let Ve=0;Ve<G.length;Ve++)G[Ve].emit("unpipe",this,{hasUnpiped:!1});return this}const C=e(m.pipes,p);return C===-1?this:(m.pipes.splice(C,1),m.pipes.length===0&&this.pause(),p.emit("unpipe",this,F),this)},U.prototype.on=function(p,m){const F=T.prototype.on.call(this,p,m),C=this._readableState;return p==="data"?(C.readableListening=this.listenerCount("readable")>0,C.flowing!==!1&&this.resume()):p==="readable"&&!C.endEmitted&&!C.readableListening&&(C.readableListening=C.needReadable=!0,C.flowing=!1,C.emittedReadable=!1,x("on readable",C.length,C.reading),C.length?l(this):C.reading||t.nextTick(xe,this)),F},U.prototype.addListener=U.prototype.on,U.prototype.removeListener=function(p,m){const F=T.prototype.removeListener.call(this,p,m);return p==="readable"&&t.nextTick(te,this),F},U.prototype.off=U.prototype.removeListener,U.prototype.removeAllListeners=function(p){const m=T.prototype.removeAllListeners.apply(this,arguments);return(p==="readable"||p===void 0)&&t.nextTick(te,this),m};function te(p){const m=p._readableState;m.readableListening=p.listenerCount("readable")>0,m.resumeScheduled&&m[ee]===!1?m.flowing=!0:p.listenerCount("data")>0?p.resume():m.readableListening||(m.flowing=null)}function xe(p){x("readable nexttick read 0"),p.read(0)}U.prototype.resume=function(){const p=this._readableState;return p.flowing||(x("resume"),p.flowing=!p.readableListening,Ie(this,p)),p[ee]=!1,this};function Ie(p,m){m.resumeScheduled||(m.resumeScheduled=!0,t.nextTick(Oe,p,m))}function Oe(p,m){x("resume",m.reading),m.reading||p.read(0),m.resumeScheduled=!1,p.emit("resume"),pe(p),m.flowing&&!m.reading&&p.read(0)}U.prototype.pause=function(){return x("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(x("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[ee]=!0,this};function pe(p){const m=p._readableState;for(x("flow",m.flowing);m.flowing&&p.read()!==null;);}U.prototype.wrap=function(p){let m=!1;p.on("data",C=>{!this.push(C)&&p.pause&&(m=!0,p.pause())}),p.on("end",()=>{this.push(null)}),p.on("error",C=>{be(this,C)}),p.on("close",()=>{this.destroy()}),p.on("destroy",()=>{this.destroy()}),this._read=()=>{m&&p.resume&&(m=!1,p.resume())};const F=o(p);for(let C=1;C<F.length;C++){const G=F[C];this[G]===void 0&&typeof p[G]=="function"&&(this[G]=p[G].bind(p))}return this},U.prototype[w]=function(){return Ps(this)},U.prototype.iterator=function(p){return p!==void 0&&Z(p,"options"),Ps(this,p)};function Ps(p,m){typeof p.read!="function"&&(p=U.wrap(p,{objectMode:!0}));const F=sc(p,m);return F.stream=p,F}async function*sc(p,m){let F=ye;function C(ft){this===p?(F(),F=ye):F=ft}p.on("readable",C);let G;const Ve=V(p,{writable:!1},ft=>{G=ft?re(G,ft):null,F(),F=ye});try{for(;;){const ft=p.destroyed?null:p.read();if(ft!==null)yield ft;else{if(G)throw G;if(G===null)return;await new f(C)}}}catch(ft){throw G=re(G,ft),G}finally{(G||(m==null?void 0:m.destroyOnReturn)!==!1)&&(G===void 0||p._readableState.autoDestroy)?M.destroyer(p,null):(p.off("readable",C),Ve())}}s(U.prototype,{readable:{__proto__:null,get(){const p=this._readableState;return!!p&&p.readable!==!1&&!p.destroyed&&!p.errorEmitted&&!p.endEmitted},set(p){this._readableState&&(this._readableState.readable=!!p)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(p){this._readableState&&(this._readableState.flowing=p)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(p){this._readableState&&(this._readableState.destroyed=p)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),s(K.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[ee]!==!1},set(p){this[ee]=!!p}}}),U._fromList=$s;function $s(p,m){if(m.length===0)return null;let F;return m.objectMode?F=m.buffer.shift():!p||p>=m.length?(m.decoder?F=m.buffer.join(""):m.buffer.length===1?F=m.buffer.first():F=m.buffer.concat(m.length),m.buffer.clear()):F=m.buffer.consume(p,m.decoder),F}function ri(p){const m=p._readableState;x("endReadable",m.endEmitted),m.endEmitted||(m.ended=!0,t.nextTick(oc,m,p))}function oc(p,m){if(x("endReadableNT",p.endEmitted,p.length),!p.errored&&!p.closeEmitted&&!p.endEmitted&&p.length===0){if(p.endEmitted=!0,m.emit("end"),m.writable&&m.allowHalfOpen===!1)t.nextTick(ac,m);else if(p.autoDestroy){const F=m._writableState;(!F||F.autoDestroy&&(F.finished||F.writable===!1))&&m.destroy()}}}function ac(p){p.writable&&!p.writableEnded&&!p.destroyed&&p.end()}U.from=function(p,m){return _e(U,p,m)};let ni;function Us(){return ni===void 0&&(ni={}),ni}return U.fromWeb=function(p,m){return Us().newStreamReadableFromReadableStream(p,m)},U.toWeb=function(p,m){return Us().newReadableStreamFromStreamReadable(p,m)},U.wrap=function(p,m){var F,C;return new U({objectMode:(F=(C=p.readableObjectMode)!==null&&C!==void 0?C:p.objectMode)!==null&&F!==void 0?F:!0,...m,destroy(G,Ve){M.destroyer(p,G),Ve(G)}}).wrap(p)},gi}var _i,xo;function Rs(){if(xo)return _i;xo=1;const t=cr,{ArrayPrototypeSlice:e,Error:r,FunctionPrototypeSymbolHasInstance:n,ObjectDefineProperty:i,ObjectDefineProperties:s,ObjectSetPrototypeOf:o,StringPrototypeToLowerCase:a,Symbol:f,SymbolHasInstance:u}=ke;_i=Z,Z.WritableState=D;const{EventEmitter:y}=jn,w=As.Stream,{Buffer:g}=he,b=Br,{addAbortSignal:T}=Yn,{getHighWaterMark:v,getDefaultHighWaterMark:I}=qn,{ERR_INVALID_ARG_TYPE:B,ERR_METHOD_NOT_IMPLEMENTED:V,ERR_MULTIPLE_CALLBACK:x,ERR_STREAM_CANNOT_PIPE:W,ERR_STREAM_DESTROYED:M,ERR_STREAM_ALREADY_FINISHED:ae,ERR_STREAM_NULL_VALUES:ce,ERR_STREAM_WRITE_AFTER_END:re,ERR_UNKNOWN_ENCODING:P}=tt.codes,{errorOrDestroy:ne}=b;o(Z.prototype,w.prototype),o(Z,w);function Te(){}const fe=f("kOnFinished");function D(S,A,L){typeof L!="boolean"&&(L=A instanceof Bt()),this.objectMode=!!(S&&S.objectMode),L&&(this.objectMode=this.objectMode||!!(S&&S.writableObjectMode)),this.highWaterMark=S?v(this,S,"writableHighWaterMark",L):I(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const z=!!(S&&S.decodeStrings===!1);this.decodeStrings=!z,this.defaultEncoding=S&&S.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=be.bind(void 0,A),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,le(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!S||S.emitClose!==!1,this.autoDestroy=!S||S.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[fe]=[]}function le(S){S.buffered=[],S.bufferedIndex=0,S.allBuffers=!0,S.allNoop=!0}D.prototype.getBuffer=function(){return e(this.buffered,this.bufferedIndex)},i(D.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function Z(S){const A=this instanceof Bt();if(!A&&!n(Z,this))return new Z(S);this._writableState=new D(S,this,A),S&&(typeof S.write=="function"&&(this._write=S.write),typeof S.writev=="function"&&(this._writev=S.writev),typeof S.destroy=="function"&&(this._destroy=S.destroy),typeof S.final=="function"&&(this._final=S.final),typeof S.construct=="function"&&(this._construct=S.construct),S.signal&&T(S.signal,this)),w.call(this,S),b.construct(this,()=>{const L=this._writableState;L.writing||Ee(this,L),We(this,L)})}i(Z,u,{__proto__:null,value:function(S){return n(this,S)?!0:this!==Z?!1:S&&S._writableState instanceof D}}),Z.prototype.pipe=function(){ne(this,new W)};function ee(S,A,L,z){const j=S._writableState;if(typeof L=="function")z=L,L=j.defaultEncoding;else{if(!L)L=j.defaultEncoding;else if(L!=="buffer"&&!g.isEncoding(L))throw new P(L);typeof z!="function"&&(z=Te)}if(A===null)throw new ce;if(!j.objectMode)if(typeof A=="string")j.decodeStrings!==!1&&(A=g.from(A,L),L="buffer");else if(A instanceof g)L="buffer";else if(w._isUint8Array(A))A=w._uint8ArrayToBuffer(A),L="buffer";else throw new B("chunk",["string","Buffer","Uint8Array"],A);let ie;return j.ending?ie=new re:j.destroyed&&(ie=new M("write")),ie?(t.nextTick(z,ie),ne(S,ie,!0),ie):(j.pendingcb++,ge(S,j,A,L,z))}Z.prototype.write=function(S,A,L){return ee(this,S,A,L)===!0},Z.prototype.cork=function(){this._writableState.corked++},Z.prototype.uncork=function(){const S=this._writableState;S.corked&&(S.corked--,S.writing||Ee(this,S))},Z.prototype.setDefaultEncoding=function(A){if(typeof A=="string"&&(A=a(A)),!g.isEncoding(A))throw new P(A);return this._writableState.defaultEncoding=A,this};function ge(S,A,L,z,j){const ie=A.objectMode?1:L.length;A.length+=ie;const $=A.length<A.highWaterMark;return $||(A.needDrain=!0),A.writing||A.corked||A.errored||!A.constructed?(A.buffered.push({chunk:L,encoding:z,callback:j}),A.allBuffers&&z!=="buffer"&&(A.allBuffers=!1),A.allNoop&&j!==Te&&(A.allNoop=!1)):(A.writelen=ie,A.writecb=j,A.writing=!0,A.sync=!0,S._write(L,z,A.onwrite),A.sync=!1),$&&!A.errored&&!A.destroyed}function _e(S,A,L,z,j,ie,$){A.writelen=z,A.writecb=$,A.writing=!0,A.sync=!0,A.destroyed?A.onwrite(new M("write")):L?S._writev(j,A.onwrite):S._write(j,ie,A.onwrite),A.sync=!1}function ye(S,A,L,z){--A.pendingcb,z(L),H(A),ne(S,L)}function be(S,A){const L=S._writableState,z=L.sync,j=L.writecb;if(typeof j!="function"){ne(S,new x);return}L.writing=!1,L.writecb=null,L.length-=L.writelen,L.writelen=0,A?(A.stack,L.errored||(L.errored=A),S._readableState&&!S._readableState.errored&&(S._readableState.errored=A),z?t.nextTick(ye,S,L,A,j):ye(S,L,A,j)):(L.buffered.length>L.bufferedIndex&&Ee(S,L),z?L.afterWriteTickInfo!==null&&L.afterWriteTickInfo.cb===j?L.afterWriteTickInfo.count++:(L.afterWriteTickInfo={count:1,cb:j,stream:S,state:L},t.nextTick(q,L.afterWriteTickInfo)):we(S,L,1,j))}function q({stream:S,state:A,count:L,cb:z}){return A.afterWriteTickInfo=null,we(S,A,L,z)}function we(S,A,L,z){for(!A.ending&&!S.destroyed&&A.length===0&&A.needDrain&&(A.needDrain=!1,S.emit("drain"));L-- >0;)A.pendingcb--,z();A.destroyed&&H(A),We(S,A)}function H(S){if(S.writing)return;for(let j=S.bufferedIndex;j<S.buffered.length;++j){var A;const{chunk:ie,callback:$}=S.buffered[j],O=S.objectMode?1:ie.length;S.length-=O,$((A=S.errored)!==null&&A!==void 0?A:new M("write"))}const L=S[fe].splice(0);for(let j=0;j<L.length;j++){var z;L[j]((z=S.errored)!==null&&z!==void 0?z:new M("end"))}le(S)}function Ee(S,A){if(A.corked||A.bufferProcessing||A.destroyed||!A.constructed)return;const{buffered:L,bufferedIndex:z,objectMode:j}=A,ie=L.length-z;if(!ie)return;let $=z;if(A.bufferProcessing=!0,ie>1&&S._writev){A.pendingcb-=ie-1;const O=A.allNoop?Te:U=>{for(let Je=$;Je<L.length;++Je)L[Je].callback(U)},K=A.allNoop&&$===0?L:e(L,$);K.allBuffers=A.allBuffers,_e(S,A,!0,A.length,K,"",O),le(A)}else{do{const{chunk:O,encoding:K,callback:U}=L[$];L[$++]=null;const Je=j?1:O.length;_e(S,A,!1,Je,O,K,U)}while($<L.length&&!A.writing);$===L.length?le(A):$>256?(L.splice(0,$),A.bufferedIndex=0):A.bufferedIndex=$}A.bufferProcessing=!1}Z.prototype._write=function(S,A,L){if(this._writev)this._writev([{chunk:S,encoding:A}],L);else throw new V("_write()")},Z.prototype._writev=null,Z.prototype.end=function(S,A,L){const z=this._writableState;typeof S=="function"?(L=S,S=null,A=null):typeof A=="function"&&(L=A,A=null);let j;if(S!=null){const ie=ee(this,S,A);ie instanceof r&&(j=ie)}return z.corked&&(z.corked=1,this.uncork()),j||(!z.errored&&!z.ending?(z.ending=!0,We(this,z,!0),z.ended=!0):z.finished?j=new ae("end"):z.destroyed&&(j=new M("end"))),typeof L=="function"&&(j||z.finished?t.nextTick(L,j):z[fe].push(L)),this};function Ce(S){return S.ending&&!S.destroyed&&S.constructed&&S.length===0&&!S.errored&&S.buffered.length===0&&!S.finished&&!S.writing&&!S.errorEmitted&&!S.closeEmitted}function Ye(S,A){let L=!1;function z(j){if(L){ne(S,j??x());return}if(L=!0,A.pendingcb--,j){const ie=A[fe].splice(0);for(let $=0;$<ie.length;$++)ie[$](j);ne(S,j,A.sync)}else Ce(A)&&(A.prefinished=!0,S.emit("prefinish"),A.pendingcb++,t.nextTick(Ke,S,A))}A.sync=!0,A.pendingcb++;try{S._final(z)}catch(j){z(j)}A.sync=!1}function qe(S,A){!A.prefinished&&!A.finalCalled&&(typeof S._final=="function"&&!A.destroyed?(A.finalCalled=!0,Ye(S,A)):(A.prefinished=!0,S.emit("prefinish")))}function We(S,A,L){Ce(A)&&(qe(S,A),A.pendingcb===0&&(L?(A.pendingcb++,t.nextTick((z,j)=>{Ce(j)?Ke(z,j):j.pendingcb--},S,A)):Ce(A)&&(A.pendingcb++,Ke(S,A))))}function Ke(S,A){A.pendingcb--,A.finished=!0;const L=A[fe].splice(0);for(let z=0;z<L.length;z++)L[z]();if(S.emit("finish"),A.autoDestroy){const z=S._readableState;(!z||z.autoDestroy&&(z.endEmitted||z.readable===!1))&&S.destroy()}}s(Z.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(S){this._writableState&&(this._writableState.destroyed=S)}},writable:{__proto__:null,get(){const S=this._writableState;return!!S&&S.writable!==!1&&!S.destroyed&&!S.errored&&!S.ending&&!S.ended},set(S){this._writableState&&(this._writableState.writable=!!S)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const S=this._writableState;return S?!S.destroyed&&!S.ending&&S.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const ct=b.destroy;Z.prototype.destroy=function(S,A){const L=this._writableState;return!L.destroyed&&(L.bufferedIndex<L.buffered.length||L[fe].length)&&t.nextTick(H,L),ct.call(this,S,A),this},Z.prototype._undestroy=b.undestroy,Z.prototype._destroy=function(S,A){A(S)},Z.prototype[y.captureRejectionSymbol]=function(S){this.destroy(S)};let st;function Xe(){return st===void 0&&(st={}),st}return Z.fromWeb=function(S,A){return Xe().newStreamWritableFromWritableStream(S,A)},Z.toWeb=function(S){return Xe().newWritableStreamFromStreamWritable(S)},_i}var bi,Oo;function Nh(){if(Oo)return bi;Oo=1;const t=cr,e=he,{isReadable:r,isWritable:n,isIterable:i,isNodeStream:s,isReadableNodeStream:o,isWritableNodeStream:a,isDuplexNodeStream:f,isReadableStream:u,isWritableStream:y}=Wt,w=qt,{AbortError:g,codes:{ERR_INVALID_ARG_TYPE:b,ERR_INVALID_RETURN_VALUE:T}}=tt,{destroyer:v}=Br,I=Bt(),B=Kn(),V=Rs(),{createDeferredPromise:x}=it,W=Tl,M=globalThis.Blob||e.Blob,ae=typeof M<"u"?function(D){return D instanceof M}:function(D){return!1},ce=globalThis.AbortController||en().AbortController,{FunctionPrototypeCall:re}=ke;class P extends I{constructor(D){super(D),(D==null?void 0:D.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(D==null?void 0:D.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}bi=function fe(D,le){if(f(D))return D;if(o(D))return Te({readable:D});if(a(D))return Te({writable:D});if(s(D))return Te({writable:!1,readable:!1});if(u(D))return Te({readable:B.fromWeb(D)});if(y(D))return Te({writable:V.fromWeb(D)});if(typeof D=="function"){const{value:ee,write:ge,final:_e,destroy:ye}=ne(D);if(i(ee))return W(P,ee,{objectMode:!0,write:ge,final:_e,destroy:ye});const be=ee==null?void 0:ee.then;if(typeof be=="function"){let q;const we=re(be,ee,H=>{if(H!=null)throw new T("nully","body",H)},H=>{v(q,H)});return q=new P({objectMode:!0,readable:!1,write:ge,final(H){_e(async()=>{try{await we,t.nextTick(H,null)}catch(Ee){t.nextTick(H,Ee)}})},destroy:ye})}throw new T("Iterable, AsyncIterable or AsyncFunction",le,ee)}if(ae(D))return fe(D.arrayBuffer());if(i(D))return W(P,D,{objectMode:!0,writable:!1});if(u(D==null?void 0:D.readable)&&y(D==null?void 0:D.writable))return P.fromWeb(D);if(typeof(D==null?void 0:D.writable)=="object"||typeof(D==null?void 0:D.readable)=="object"){const ee=D!=null&&D.readable?o(D==null?void 0:D.readable)?D==null?void 0:D.readable:fe(D.readable):void 0,ge=D!=null&&D.writable?a(D==null?void 0:D.writable)?D==null?void 0:D.writable:fe(D.writable):void 0;return Te({readable:ee,writable:ge})}const Z=D==null?void 0:D.then;if(typeof Z=="function"){let ee;return re(Z,D,ge=>{ge!=null&&ee.push(ge),ee.push(null)},ge=>{v(ee,ge)}),ee=new P({objectMode:!0,writable:!1,read(){}})}throw new b(le,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],D)};function ne(fe){let{promise:D,resolve:le}=x();const Z=new ce,ee=Z.signal;return{value:fe(async function*(){for(;;){const _e=D;D=null;const{chunk:ye,done:be,cb:q}=await _e;if(t.nextTick(q),be)return;if(ee.aborted)throw new g(void 0,{cause:ee.reason});({promise:D,resolve:le}=x()),yield ye}}(),{signal:ee}),write(_e,ye,be){const q=le;le=null,q({chunk:_e,done:!1,cb:be})},final(_e){const ye=le;le=null,ye({done:!0,cb:_e})},destroy(_e,ye){Z.abort(),ye(_e)}}}function Te(fe){const D=fe.readable&&typeof fe.readable.read!="function"?B.wrap(fe.readable):fe.readable,le=fe.writable;let Z=!!r(D),ee=!!n(le),ge,_e,ye,be,q;function we(H){const Ee=be;be=null,Ee?Ee(H):H&&q.destroy(H)}return q=new P({readableObjectMode:!!(D!=null&&D.readableObjectMode),writableObjectMode:!!(le!=null&&le.writableObjectMode),readable:Z,writable:ee}),ee&&(w(le,H=>{ee=!1,H&&v(D,H),we(H)}),q._write=function(H,Ee,Ce){le.write(H,Ee)?Ce():ge=Ce},q._final=function(H){le.end(),_e=H},le.on("drain",function(){if(ge){const H=ge;ge=null,H()}}),le.on("finish",function(){if(_e){const H=_e;_e=null,H()}})),Z&&(w(D,H=>{Z=!1,H&&v(D,H),we(H)}),D.on("readable",function(){if(ye){const H=ye;ye=null,H()}}),D.on("end",function(){q.push(null)}),q._read=function(){for(;;){const H=D.read();if(H===null){ye=q._read;return}if(!q.push(H))return}}),q._destroy=function(H,Ee){!H&&be!==null&&(H=new g),ye=null,ge=null,_e=null,be===null?Ee(H):(be=Ee,v(le,H),v(D,H))},q}return bi}var Ei,ko;function Bt(){if(ko)return Ei;ko=1;const{ObjectDefineProperties:t,ObjectGetOwnPropertyDescriptor:e,ObjectKeys:r,ObjectSetPrototypeOf:n}=ke;Ei=o;const i=Kn(),s=Rs();n(o.prototype,i.prototype),n(o,i);{const y=r(s.prototype);for(let w=0;w<y.length;w++){const g=y[w];o.prototype[g]||(o.prototype[g]=s.prototype[g])}}function o(y){if(!(this instanceof o))return new o(y);i.call(this,y),s.call(this,y),y?(this.allowHalfOpen=y.allowHalfOpen!==!1,y.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),y.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}t(o.prototype,{writable:{__proto__:null,...e(s.prototype,"writable")},writableHighWaterMark:{__proto__:null,...e(s.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...e(s.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...e(s.prototype,"writableBuffer")},writableLength:{__proto__:null,...e(s.prototype,"writableLength")},writableFinished:{__proto__:null,...e(s.prototype,"writableFinished")},writableCorked:{__proto__:null,...e(s.prototype,"writableCorked")},writableEnded:{__proto__:null,...e(s.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...e(s.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(y){this._readableState&&this._writableState&&(this._readableState.destroyed=y,this._writableState.destroyed=y)}}});let a;function f(){return a===void 0&&(a={}),a}o.fromWeb=function(y,w){return f().newStreamDuplexFromReadableWritablePair(y,w)},o.toWeb=function(y){return f().newReadableWritablePairFromDuplex(y)};let u;return o.from=function(y){return u||(u=Nh()),u(y,"body")},Ei}const{ObjectSetPrototypeOf:xl,Symbol:Th}=ke;var Ol=Ft;const{ERR_METHOD_NOT_IMPLEMENTED:xh}=tt.codes,Ns=Bt(),{getHighWaterMark:Oh}=qn;xl(Ft.prototype,Ns.prototype);xl(Ft,Ns);const Hr=Th("kCallback");function Ft(t){if(!(this instanceof Ft))return new Ft(t);const e=t?Oh(this,t,"readableHighWaterMark",!0):null;e===0&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),Ns.call(this,t),this._readableState.sync=!1,this[Hr]=null,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",kh)}function Ji(t){typeof this._flush=="function"&&!this.destroyed?this._flush((e,r)=>{if(e){t?t(e):this.destroy(e);return}r!=null&&this.push(r),this.push(null),t&&t()}):(this.push(null),t&&t())}function kh(){this._final!==Ji&&Ji.call(this)}Ft.prototype._final=Ji;Ft.prototype._transform=function(t,e,r){throw new xh("_transform()")};Ft.prototype._write=function(t,e,r){const n=this._readableState,i=this._writableState,s=n.length;this._transform(t,e,(o,a)=>{if(o){r(o);return}a!=null&&this.push(a),i.ended||s===n.length||n.length<n.highWaterMark?r():this[Hr]=r})};Ft.prototype._read=function(){if(this[Hr]){const t=this[Hr];this[Hr]=null,t()}};const{ObjectSetPrototypeOf:kl}=ke;var Dl=Nr;const Ts=Ol;kl(Nr.prototype,Ts.prototype);kl(Nr,Ts);function Nr(t){if(!(this instanceof Nr))return new Nr(t);Ts.call(this,t)}Nr.prototype._transform=function(t,e,r){r(null,t)};const Vr=cr,{ArrayIsArray:Dh,Promise:Lh,SymbolAsyncIterator:Mh,SymbolDispose:Bh}=ke,vn=qt,{once:Fh}=it,Ch=Br,Do=Bt(),{aggregateTwoErrors:Wh,codes:{ERR_INVALID_ARG_TYPE:Qi,ERR_INVALID_RETURN_VALUE:Si,ERR_MISSING_ARGS:Ph,ERR_STREAM_DESTROYED:$h,ERR_STREAM_PREMATURE_CLOSE:Uh},AbortError:jh}=tt,{validateFunction:zh,validateAbortSignal:Vh}=rn,{isIterable:rr,isReadable:vi,isReadableNodeStream:pn,isNodeStream:Lo,isTransformStream:mr,isWebStream:Gh,isReadableStream:Ai,isReadableFinished:Hh}=Wt,Yh=globalThis.AbortController||en().AbortController;let Ii,Ri,Ni;function Mo(t,e,r){let n=!1;t.on("close",()=>{n=!0});const i=vn(t,{readable:e,writable:r},s=>{n=!s});return{destroy:s=>{n||(n=!0,Ch.destroyer(t,s||new $h("pipe")))},cleanup:i}}function qh(t){return zh(t[t.length-1],"streams[stream.length - 1]"),t.pop()}function Ti(t){if(rr(t))return t;if(pn(t))return Kh(t);throw new Qi("val",["Readable","Iterable","AsyncIterable"],t)}async function*Kh(t){Ri||(Ri=Kn()),yield*Ri.prototype[Mh].call(t)}async function fn(t,e,r,{end:n}){let i,s=null;const o=u=>{if(u&&(i=u),s){const y=s;s=null,y()}},a=()=>new Lh((u,y)=>{i?y(i):s=()=>{i?y(i):u()}});e.on("drain",o);const f=vn(e,{readable:!1},o);try{e.writableNeedDrain&&await a();for await(const u of t)e.write(u)||await a();n&&(e.end(),await a()),r()}catch(u){r(i!==u?Wh(i,u):u)}finally{f(),e.off("drain",o)}}async function xi(t,e,r,{end:n}){mr(e)&&(e=e.writable);const i=e.getWriter();try{for await(const s of t)await i.ready,i.write(s).catch(()=>{});await i.ready,n&&await i.close(),r()}catch(s){try{await i.abort(s),r(s)}catch(o){r(o)}}}function Xh(...t){return Ll(t,Fh(qh(t)))}function Ll(t,e,r){if(t.length===1&&Dh(t[0])&&(t=t[0]),t.length<2)throw new Ph("streams");const n=new Yh,i=n.signal,s=r==null?void 0:r.signal,o=[];Vh(s,"options.signal");function a(){T(new jh)}Ni=Ni||it.addAbortListener;let f;s&&(f=Ni(s,a));let u,y;const w=[];let g=0;function b(x){T(x,--g===0)}function T(x,W){var M;if(x&&(!u||u.code==="ERR_STREAM_PREMATURE_CLOSE")&&(u=x),!(!u&&!W)){for(;w.length;)w.shift()(u);(M=f)===null||M===void 0||M[Bh](),n.abort(),W&&(u||o.forEach(ae=>ae()),Vr.nextTick(e,u,y))}}let v;for(let x=0;x<t.length;x++){const W=t[x],M=x<t.length-1,ae=x>0,ce=M||(r==null?void 0:r.end)!==!1,re=x===t.length-1;if(Lo(W)){let P=function(ne){ne&&ne.name!=="AbortError"&&ne.code!=="ERR_STREAM_PREMATURE_CLOSE"&&b(ne)};var V=P;if(ce){const{destroy:ne,cleanup:Te}=Mo(W,M,ae);w.push(ne),vi(W)&&re&&o.push(Te)}W.on("error",P),vi(W)&&re&&o.push(()=>{W.removeListener("error",P)})}if(x===0)if(typeof W=="function"){if(v=W({signal:i}),!rr(v))throw new Si("Iterable, AsyncIterable or Stream","source",v)}else rr(W)||pn(W)||mr(W)?v=W:v=Do.from(W);else if(typeof W=="function"){if(mr(v)){var I;v=Ti((I=v)===null||I===void 0?void 0:I.readable)}else v=Ti(v);if(v=W(v,{signal:i}),M){if(!rr(v,!0))throw new Si("AsyncIterable",`transform[${x-1}]`,v)}else{var B;Ii||(Ii=Dl);const P=new Ii({objectMode:!0}),ne=(B=v)===null||B===void 0?void 0:B.then;if(typeof ne=="function")g++,ne.call(v,D=>{y=D,D!=null&&P.write(D),ce&&P.end(),Vr.nextTick(b)},D=>{P.destroy(D),Vr.nextTick(b,D)});else if(rr(v,!0))g++,fn(v,P,b,{end:ce});else if(Ai(v)||mr(v)){const D=v.readable||v;g++,fn(D,P,b,{end:ce})}else throw new Si("AsyncIterable or Promise","destination",v);v=P;const{destroy:Te,cleanup:fe}=Mo(v,!1,!0);w.push(Te),re&&o.push(fe)}}else if(Lo(W)){if(pn(v)){g+=2;const P=Jh(v,W,b,{end:ce});vi(W)&&re&&o.push(P)}else if(mr(v)||Ai(v)){const P=v.readable||v;g++,fn(P,W,b,{end:ce})}else if(rr(v))g++,fn(v,W,b,{end:ce});else throw new Qi("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],v);v=W}else if(Gh(W)){if(pn(v))g++,xi(Ti(v),W,b,{end:ce});else if(Ai(v)||rr(v))g++,xi(v,W,b,{end:ce});else if(mr(v))g++,xi(v.readable,W,b,{end:ce});else throw new Qi("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],v);v=W}else v=Do.from(W)}return(i!=null&&i.aborted||s!=null&&s.aborted)&&Vr.nextTick(a),v}function Jh(t,e,r,{end:n}){let i=!1;if(e.on("close",()=>{i||r(new Uh)}),t.pipe(e,{end:!1}),n){let o=function(){i=!0,e.end()};var s=o;Hh(t)?Vr.nextTick(o):t.once("end",o)}else r();return vn(t,{readable:!0,writable:!1},o=>{const a=t._readableState;o&&o.code==="ERR_STREAM_PREMATURE_CLOSE"&&a&&a.ended&&!a.errored&&!a.errorEmitted?t.once("end",r).once("error",r):r(o)}),vn(e,{readable:!1,writable:!0},r)}var xs={pipelineImpl:Ll,pipeline:Xh};const{pipeline:Qh}=xs,un=Bt(),{destroyer:Zh}=Br,{isNodeStream:dn,isReadable:Bo,isWritable:Fo,isWebStream:Oi,isTransformStream:Zt,isWritableStream:Co,isReadableStream:Wo}=Wt,{AbortError:ey,codes:{ERR_INVALID_ARG_VALUE:Po,ERR_MISSING_ARGS:ty}}=tt,ry=qt;var Ml=function(...e){if(e.length===0)throw new ty("streams");if(e.length===1)return un.from(e[0]);const r=[...e];if(typeof e[0]=="function"&&(e[0]=un.from(e[0])),typeof e[e.length-1]=="function"){const b=e.length-1;e[b]=un.from(e[b])}for(let b=0;b<e.length;++b)if(!(!dn(e[b])&&!Oi(e[b]))){if(b<e.length-1&&!(Bo(e[b])||Wo(e[b])||Zt(e[b])))throw new Po(`streams[${b}]`,r[b],"must be readable");if(b>0&&!(Fo(e[b])||Co(e[b])||Zt(e[b])))throw new Po(`streams[${b}]`,r[b],"must be writable")}let n,i,s,o,a;function f(b){const T=o;o=null,T?T(b):b?a.destroy(b):!g&&!w&&a.destroy()}const u=e[0],y=Qh(e,f),w=!!(Fo(u)||Co(u)||Zt(u)),g=!!(Bo(y)||Wo(y)||Zt(y));if(a=new un({writableObjectMode:!!(u!=null&&u.writableObjectMode),readableObjectMode:!!(y!=null&&y.readableObjectMode),writable:w,readable:g}),w){if(dn(u))a._write=function(T,v,I){u.write(T,v)?I():n=I},a._final=function(T){u.end(),i=T},u.on("drain",function(){if(n){const T=n;n=null,T()}});else if(Oi(u)){const v=(Zt(u)?u.writable:u).getWriter();a._write=async function(I,B,V){try{await v.ready,v.write(I).catch(()=>{}),V()}catch(x){V(x)}},a._final=async function(I){try{await v.ready,v.close().catch(()=>{}),i=I}catch(B){I(B)}}}const b=Zt(y)?y.readable:y;ry(b,()=>{if(i){const T=i;i=null,T()}})}if(g){if(dn(y))y.on("readable",function(){if(s){const b=s;s=null,b()}}),y.on("end",function(){a.push(null)}),a._read=function(){for(;;){const b=y.read();if(b===null){s=a._read;return}if(!a.push(b))return}};else if(Oi(y)){const T=(Zt(y)?y.readable:y).getReader();a._read=async function(){for(;;)try{const{value:v,done:I}=await T.read();if(!a.push(v))return;if(I){a.push(null);return}}catch{return}}}}return a._destroy=function(b,T){!b&&o!==null&&(b=new ey),s=null,n=null,i=null,o===null?T(b):(o=T,dn(y)&&Zh(y,b))},a};const ny=globalThis.AbortController||en().AbortController,{codes:{ERR_INVALID_ARG_VALUE:iy,ERR_INVALID_ARG_TYPE:sn,ERR_MISSING_ARGS:sy,ERR_OUT_OF_RANGE:oy},AbortError:Nt}=tt,{validateAbortSignal:ur,validateInteger:$o,validateObject:dr}=rn,ay=ke.Symbol("kWeak"),ly=ke.Symbol("kResistStopPropagation"),{finished:cy}=qt,fy=Ml,{addAbortSignalNoValidate:uy}=Yn,{isWritable:dy,isNodeStream:hy}=Wt,{deprecate:yy}=it,{ArrayPrototypePush:wy,Boolean:py,MathFloor:Uo,Number:my,NumberIsNaN:gy,Promise:jo,PromiseReject:zo,PromiseResolve:_y,PromisePrototypeThen:Vo,Symbol:Bl}=ke,An=Bl("kEmpty"),Go=Bl("kEof");function by(t,e){if(e!=null&&dr(e,"options"),(e==null?void 0:e.signal)!=null&&ur(e.signal,"options.signal"),hy(t)&&!dy(t))throw new iy("stream",t,"must be writable");const r=fy(this,t);return e!=null&&e.signal&&uy(e.signal,r),r}function Xn(t,e){if(typeof t!="function")throw new sn("fn",["Function","AsyncFunction"],t);e!=null&&dr(e,"options"),(e==null?void 0:e.signal)!=null&&ur(e.signal,"options.signal");let r=1;(e==null?void 0:e.concurrency)!=null&&(r=Uo(e.concurrency));let n=r-1;return(e==null?void 0:e.highWaterMark)!=null&&(n=Uo(e.highWaterMark)),$o(r,"options.concurrency",1),$o(n,"options.highWaterMark",0),n+=r,(async function*(){const s=it.AbortSignalAny([e==null?void 0:e.signal].filter(py)),o=this,a=[],f={signal:s};let u,y,w=!1,g=0;function b(){w=!0,T()}function T(){g-=1,v()}function v(){y&&!w&&g<r&&a.length<n&&(y(),y=null)}async function I(){try{for await(let B of o){if(w)return;if(s.aborted)throw new Nt;try{if(B=t(B,f),B===An)continue;B=_y(B)}catch(V){B=zo(V)}g+=1,Vo(B,T,b),a.push(B),u&&(u(),u=null),!w&&(a.length>=n||g>=r)&&await new jo(V=>{y=V})}a.push(Go)}catch(B){const V=zo(B);Vo(V,T,b),a.push(V)}finally{w=!0,u&&(u(),u=null)}}I();try{for(;;){for(;a.length>0;){const B=await a[0];if(B===Go)return;if(s.aborted)throw new Nt;B!==An&&(yield B),a.shift(),v()}await new jo(B=>{u=B})}}finally{w=!0,y&&(y(),y=null)}}).call(this)}function Ey(t=void 0){return t!=null&&dr(t,"options"),(t==null?void 0:t.signal)!=null&&ur(t.signal,"options.signal"),(async function*(){let r=0;for await(const i of this){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new Nt({cause:t.signal.reason});yield[r++,i]}}).call(this)}async function Fl(t,e=void 0){for await(const r of Os.call(this,t,e))return!0;return!1}async function Sy(t,e=void 0){if(typeof t!="function")throw new sn("fn",["Function","AsyncFunction"],t);return!await Fl.call(this,async(...r)=>!await t(...r),e)}async function vy(t,e){for await(const r of Os.call(this,t,e))return r}async function Ay(t,e){if(typeof t!="function")throw new sn("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i),An}for await(const n of Xn.call(this,r,e));}function Os(t,e){if(typeof t!="function")throw new sn("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i)?n:An}return Xn.call(this,r,e)}class Iy extends sy{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function Ry(t,e,r){var n;if(typeof t!="function")throw new sn("reducer",["Function","AsyncFunction"],t);r!=null&&dr(r,"options"),(r==null?void 0:r.signal)!=null&&ur(r.signal,"options.signal");let i=arguments.length>1;if(r!=null&&(n=r.signal)!==null&&n!==void 0&&n.aborted){const u=new Nt(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await cy(this.destroy(u)),u}const s=new ny,o=s.signal;if(r!=null&&r.signal){const u={once:!0,[ay]:this,[ly]:!0};r.signal.addEventListener("abort",()=>s.abort(),u)}let a=!1;try{for await(const u of this){var f;if(a=!0,r!=null&&(f=r.signal)!==null&&f!==void 0&&f.aborted)throw new Nt;i?e=await t(e,u,{signal:o}):(e=u,i=!0)}if(!a&&!i)throw new Iy}finally{s.abort()}return e}async function Ny(t){t!=null&&dr(t,"options"),(t==null?void 0:t.signal)!=null&&ur(t.signal,"options.signal");const e=[];for await(const n of this){var r;if(t!=null&&(r=t.signal)!==null&&r!==void 0&&r.aborted)throw new Nt(void 0,{cause:t.signal.reason});wy(e,n)}return e}function Ty(t,e){const r=Xn.call(this,t,e);return(async function*(){for await(const i of r)yield*i}).call(this)}function Cl(t){if(t=my(t),gy(t))return 0;if(t<0)throw new oy("number",">= 0",t);return t}function xy(t,e=void 0){return e!=null&&dr(e,"options"),(e==null?void 0:e.signal)!=null&&ur(e.signal,"options.signal"),t=Cl(t),(async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new Nt;for await(const s of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new Nt;t--<=0&&(yield s)}}).call(this)}function Oy(t,e=void 0){return e!=null&&dr(e,"options"),(e==null?void 0:e.signal)!=null&&ur(e.signal,"options.signal"),t=Cl(t),(async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new Nt;for await(const s of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new Nt;if(t-- >0&&(yield s),t<=0)return}}).call(this)}bs.streamReturningOperators={asIndexedPairs:yy(Ey,"readable.asIndexedPairs will be removed in a future version."),drop:xy,filter:Os,flatMap:Ty,map:Xn,take:Oy,compose:by};bs.promiseReturningOperators={every:Sy,forEach:Ay,reduce:Ry,toArray:Ny,some:Fl,find:vy};var ki,Ho;function Wl(){if(Ho)return ki;Ho=1;const{ArrayPrototypePop:t,Promise:e}=ke,{isIterable:r,isNodeStream:n,isWebStream:i}=Wt,{pipelineImpl:s}=xs,{finished:o}=qt;Pl();function a(...f){return new e((u,y)=>{let w,g;const b=f[f.length-1];if(b&&typeof b=="object"&&!n(b)&&!r(b)&&!i(b)){const T=t(f);w=T.signal,g=T.end}s(f,(T,v)=>{T?y(T):u(v)},{signal:w,end:g})})}return ki={finished:o,pipeline:a},ki}var Yo;function Pl(){if(Yo)return hi.exports;Yo=1;const{Buffer:t}=he,{ObjectDefineProperty:e,ObjectKeys:r,ReflectApply:n}=ke,{promisify:{custom:i}}=it,{streamReturningOperators:s,promiseReturningOperators:o}=bs,{codes:{ERR_ILLEGAL_CONSTRUCTOR:a}}=tt,f=Ml,{setDefaultHighWaterMark:u,getDefaultHighWaterMark:y}=qn,{pipeline:w}=xs,{destroyer:g}=Br,b=qt,T=Wl(),v=Wt,I=hi.exports=As.Stream;I.isDestroyed=v.isDestroyed,I.isDisturbed=v.isDisturbed,I.isErrored=v.isErrored,I.isReadable=v.isReadable,I.isWritable=v.isWritable,I.Readable=Kn();for(const x of r(s)){let M=function(...ae){if(new.target)throw a();return I.Readable.from(n(W,this,ae))};var V=M;const W=s[x];e(M,"name",{__proto__:null,value:W.name}),e(M,"length",{__proto__:null,value:W.length}),e(I.Readable.prototype,x,{__proto__:null,value:M,enumerable:!1,configurable:!0,writable:!0})}for(const x of r(o)){let M=function(...ce){if(new.target)throw a();return n(W,this,ce)};var V=M;const W=o[x];e(M,"name",{__proto__:null,value:W.name}),e(M,"length",{__proto__:null,value:W.length}),e(I.Readable.prototype,x,{__proto__:null,value:M,enumerable:!1,configurable:!0,writable:!0})}I.Writable=Rs(),I.Duplex=Bt(),I.Transform=Ol,I.PassThrough=Dl,I.pipeline=w;const{addAbortSignal:B}=Yn;return I.addAbortSignal=B,I.finished=b,I.destroy=g,I.compose=f,I.setDefaultHighWaterMark=u,I.getDefaultHighWaterMark=y,e(I,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return T}}),e(w,i,{__proto__:null,enumerable:!0,get(){return T.pipeline}}),e(b,i,{__proto__:null,enumerable:!0,get(){return T.finished}}),I.Stream=I,I._isUint8Array=function(W){return W instanceof Uint8Array},I._uint8ArrayToBuffer=function(W){return t.from(W.buffer,W.byteOffset,W.byteLength)},hi.exports}(function(t){const e=Pl(),r=Wl(),n=e.Readable.destroy;t.exports=e.Readable,t.exports._uint8ArrayToBuffer=e._uint8ArrayToBuffer,t.exports._isUint8Array=e._isUint8Array,t.exports.isDisturbed=e.isDisturbed,t.exports.isErrored=e.isErrored,t.exports.isReadable=e.isReadable,t.exports.Readable=e.Readable,t.exports.Writable=e.Writable,t.exports.Duplex=e.Duplex,t.exports.Transform=e.Transform,t.exports.PassThrough=e.PassThrough,t.exports.addAbortSignal=e.addAbortSignal,t.exports.finished=e.finished,t.exports.destroy=e.destroy,t.exports.destroy=n,t.exports.pipeline=e.pipeline,t.exports.compose=e.compose,Object.defineProperty(e,"promises",{configurable:!0,enumerable:!0,get(){return r}}),t.exports.Stream=e.Stream,t.exports.default=t.exports})(za);var $l=za.exports;class ks extends $l.Readable{constructor(e={},r){var n;super({...e,encoding:(n=e.encoding)!==null&&n!==void 0?n:void 0}),this.pending=!0,this._path="<unknown>",this._bytesRead=0,Promise.resolve(r).then(({file:i})=>{this._path=i.path;const s=i.streamRead({start:e.start,end:e.end});return this.reader=s.getReader(),this.pending=!1,this._read()}).catch(i=>this.destroy(i))}async _read(){if(!this.reader)return;const{done:e,value:r}=await this.reader.read();if(e){this.push(null);return}this._bytesRead+=r.byteLength,this.push(r)&&await this._read()}close(e=()=>null){try{this.destroy(),this.emit("close"),e(null)}catch(r){e(new E(R.EIO,r.toString()))}}get path(){return this._path}get bytesRead(){return this._bytesRead}wrap(e){return super.wrap(e),this}}class Ds extends $l.Writable{constructor(e={},r){super(e),this.pending=!0,this._path="<unknown>",this._bytesWritten=0,this.ready=Promise.resolve(r).then(({file:n})=>{this._path=n.path;const i=n.streamWrite({start:e.start});this.writer=i.getWriter(),this.pending=!1}).catch(n=>this.destroy(n))}async _write(e,r,n){if(await this.ready,!this.writer)return n(lt(new E(R.EAGAIN,"Underlying writable stream not ready",this._path)));if(r!="buffer")return n(lt(new E(R.ENOTSUP,"Unsupported encoding for stream",this._path)));const i=new Uint8Array(e.buffer,e.byteOffset,e.byteLength);try{await this.writer.write(i),this._bytesWritten+=e.byteLength,n()}catch(s){n(new E(R.EIO,s.toString()))}}async _final(e){if(await this.ready,!this.writer)return e();try{await this.writer.close(),e()}catch(r){e(new E(R.EIO,r.toString()))}}close(e=()=>null){try{this.destroy(),this.emit("close"),e(null)}catch(r){e(new E(R.EIO,r.toString()))}}get path(){return this._path}get bytesWritten(){return this._bytesWritten}}var wt=function(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e},pt=function(t){return function(e){function r(o){e.error=e.hasError?new t(o,e.error,"An error was suppressed during disposal."):o,e.hasError=!0}var n,i=0;function s(){for(;n=e.stack.pop();)try{if(!n.async&&i===1)return i=0,e.stack.push(n),Promise.resolve().then(s);if(n.dispose){var o=n.dispose.call(n.value);if(n.async)return i|=2,Promise.resolve(o).then(s,function(a){return r(a),s()})}else i|=1}catch(a){r(a)}if(i===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}}(typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n});class _t{constructor(e,r){this.context=r;const n=typeof e!="number";this.fd=n?cs(e):e,this.file=n?e:Le(e)}_emitChange(){var e,r,n;je(this.context,"change",this.file.path.slice((n=(r=(e=this.context)===null||e===void 0?void 0:e.root)===null||r===void 0?void 0:r.length)!==null&&n!==void 0?n:0))}async chown(e,r){await this.file.chown(e,r),this._emitChange()}async chmod(e){const r=Ht(e,-1);if(r<0)throw new E(R.EINVAL,"Invalid mode");await this.file.chmod(r),this._emitChange()}datasync(){return this.file.datasync()}sync(){return this.file.sync()}async truncate(e){if(e||(e=0),e<0)throw new E(R.EINVAL);await this.file.truncate(e),this._emitChange()}async utimes(e,r){await this.file.utimes(En(e),En(r)),this._emitChange()}async appendFile(e,r={}){const n=Lt(r,"utf8","a",420),i=Dt(n.flag);if(!Lr(i))throw new E(R.EINVAL,"Flag passed to appendFile must allow for appending");if(typeof e!="string"&&!n.encoding)throw new E(R.EINVAL,"Encoding not specified");const s=typeof e=="string"?he.Buffer.from(e,n.encoding):e;await this.file.write(s,0,s.length),this._emitChange()}async read(e,r,n,i){typeof r=="object"&&r!=null&&(i=r.position,n=r.length,r=r.offset),!ArrayBuffer.isView(e)&&typeof e=="object"&&(i=e.position,n=e.length,r=e.offset,e=e.buffer);const s=Number.isSafeInteger(i)?i:this.file.position;return e||(e=new Uint8Array((await this.file.stat()).size)),r??(r=0),this.file.read(e,r,n??e.byteLength-r,s)}async readFile(e){const r=Lt(e,null,"r",292),n=Dt(r.flag);if(!Dn(n))throw new E(R.EINVAL,"Flag passed must allow for reading");const{size:i}=await this.stat(),{buffer:s}=await this.file.read(new Uint8Array(i),0,i,0),o=he.Buffer.from(s);return r.encoding?o.toString(r.encoding):o}readableWebStream(e={}){return this.file.streamRead({})}readLines(e){throw E.With("ENOSYS",this.file.path,"FileHandle.readLines")}[Symbol.asyncDispose](){return this.close()}async stat(e){const r=await this.file.stat();if(!r.hasAccess(rt,this.context))throw E.With("EACCES",this.file.path,"stat");return e!=null&&e.bigint?new or(r):r}async write(e,r,n,i){let s,o,a;typeof r=="object"&&r!=null&&(n=r.length,i=r.position,r=r.offset),typeof e=="string"?(i=typeof r=="number"?r:null,o=0,s=he.Buffer.from(e,typeof n=="string"?n:"utf8"),a=s.length):(s=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),o=r??0,a=typeof n=="number"?n:s.byteLength,i=typeof i=="number"?i:null),i??(i=this.file.position);const f=await this.file.write(s,o,a,i);return this._emitChange(),{buffer:e,bytesWritten:f}}async writeFile(e,r={}){const n=Lt(r,"utf8","w",420),i=Dt(n.flag);if(!jt(i))throw new E(R.EINVAL,"Flag passed must allow for writing");if(typeof e!="string"&&!n.encoding)throw new E(R.EINVAL,"Encoding not specified");const s=typeof e=="string"?he.Buffer.from(e,n.encoding):e;await this.file.write(s,0,s.length,0),this._emitChange()}async close(){await this.file.close(),Ar.delete(this.fd)}async writev(e,r){typeof r=="number"&&(this.file.position=r);let n=0;for(const i of e)n+=(await this.write(i)).bytesWritten;return{bytesWritten:n,buffers:e}}async readv(e,r){typeof r=="number"&&(this.file.position=r);let n=0;for(const i of e)n+=(await this.read(i)).bytesRead;return{bytesRead:n,buffers:e}}createReadStream(e={}){return new ks(e,this)}createWriteStream(e={}){return new Ds(e,this)}}async function Ul(t,e){t=J(t),e=J(e);const r=me(t,this),n=me(e,this);if(!(await Fr.call(this,se(t))).hasAccess(Ue,this))throw E.With("EACCES",t,"rename");try{if(r.mountPoint==n.mountPoint){await r.fs.rename(r.path,n.path),je(this,"rename",t.toString()),je(this,"change",e.toString());return}await ei.call(this,e,await Zn(t)),await Qn.call(this,t),je(this,"rename",t.toString())}catch(i){throw Fe(i,{[r.path]:t,[n.path]:e})}}async function on(t){try{const{fs:e,path:r}=me(await Kt.call(this,t),this);return await e.exists(r)}catch(e){if(e instanceof E&&e.code=="ENOENT")return!1;throw e}}async function Fr(t,e){t=J(t);const{fs:r,path:n}=me(await Kt.call(this,t),this);try{const i=await r.stat(n);if(et.checkAccess&&!i.hasAccess(rt,this))throw E.With("EACCES",n,"stat");return e!=null&&e.bigint?new or(i):i}catch(i){throw Fe(i,{[n]:t})}}async function Jn(t,e){t=J(t);const{fs:r,path:n}=me(t,this);try{const i=await r.stat(n);return e!=null&&e.bigint?new or(i):i}catch(i){throw Fe(i,{[n]:t})}}async function jl(t,e=0){const r={stack:[],error:void 0,hasError:!1};try{await wt(r,await mt.call(this,t,"r+"),!0).truncate(e)}catch(n){r.error=n,r.hasError=!0}finally{const n=pt(r);n&&await n}}async function Qn(t){t=J(t);const{fs:e,path:r}=me(t,this);try{if(et.checkAccess&&!(await e.stat(r)).hasAccess(Ue,this))throw E.With("EACCES",r,"unlink");await e.unlink(r),je(this,"rename",t.toString())}catch(n){throw Fe(n,{[r]:t})}}async function Zi(t,e,r){if(t.fs.attributes.has("setid"))return;const n=await t.fs.stat(se(t.path));await t.chown(n.mode&Xr?n.uid:e,n.mode&Jr?n.gid:r)}async function Cr(t,e,r){var n;e=J(e);const i=Ht(r.mode,420),s=Dt(r.flag),{fullPath:o,fs:a,path:f,stats:u}=await Rn(t,e.toString(),r.preserveSymlinks);if(!u){if(!jt(s)&&!Lr(s)||s=="r+")throw E.With("ENOENT",o,"_open");const w=await a.stat(se(f));if(!w.hasAccess(Ue,t))throw E.With("EACCES",se(o),"_open");if(!w.isDirectory())throw E.With("ENOTDIR",se(o),"_open");const{euid:g,egid:b}=(n=t==null?void 0:t.credentials)!==null&&n!==void 0?n:Tr,T=await a.createFile(f,s,i,{uid:g,gid:b});return await Zi(T,g,b),new _t(T,t)}if(!u.hasAccess(Ta(s),t))throw E.With("EACCES",o,"_open");if(Oa(s))throw E.With("EEXIST",o,"_open");const y=new _t(await a.openFile(f,s),t);return xa(s)&&await y.truncate(0),y}async function mt(t,e="r",r=420){return await Cr(this,t,{flag:e,mode:r})}async function Zn(t,e){const r={stack:[],error:void 0,hasError:!1};try{const n=Lt(e,null,"r",420);return await wt(r,typeof t=="object"&&"fd"in t?t:await mt.call(this,t,n.flag,n.mode),!0).readFile(n)}catch(n){r.error=n,r.hasError=!0}finally{const n=pt(r);n&&await n}}async function ei(t,e,r){const n={stack:[],error:void 0,hasError:!1};try{const i=Lt(r,"utf8","w+",420),s=wt(n,t instanceof _t?t:await mt.call(this,t.toString(),i.flag,i.mode),!0),o=typeof e=="string"?e:e instanceof DataView?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e;if(typeof o!="string"&&!(o instanceof Uint8Array))throw new E(R.EINVAL,'The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView. Received '+typeof e,s.file.path,"writeFile");await s.writeFile(o,i)}catch(i){n.error=i,n.hasError=!0}finally{const i=pt(n);i&&await i}}async function zl(t,e,r){const n={stack:[],error:void 0,hasError:!1};try{const i=Lt(r,"utf8","a",420),s=Dt(i.flag);if(!Lr(s))throw new E(R.EINVAL,"Flag passed to appendFile must allow for appending");if(typeof e!="string"&&!i.encoding)throw new E(R.EINVAL,"Encoding not specified");const o=typeof e=="string"?he.Buffer.from(e,i.encoding):new Uint8Array(e.buffer,e.byteOffset,e.byteLength);await wt(n,typeof t=="object"&&"fd"in t?t:await mt.call(this,t,i.flag,i.mode),!0).appendFile(o,i)}catch(i){n.error=i,n.hasError=!0}finally{const i=pt(n);i&&await i}}async function Ls(t){t=await Kt.call(this,t);const{fs:e,path:r}=me(t,this);try{const n=await e.stat(r);if(!n)throw E.With("ENOENT",t,"rmdir");if(!n.isDirectory())throw E.With("ENOTDIR",r,"rmdir");if(et.checkAccess&&!n.hasAccess(Ue,this))throw E.With("EACCES",r,"rmdir");await e.rmdir(r),je(this,"rename",t.toString())}catch(n){throw Fe(n,{[r]:t})}}async function ti(t,e){var r,n;const{euid:i,egid:s}=(r=this===null||this===void 0?void 0:this.credentials)!==null&&r!==void 0?r:Tr;e=typeof e=="object"?e:{mode:e};const o=Ht(e==null?void 0:e.mode,511);t=await Kt.call(this,t);const{fs:a,path:f,root:u}=me(t,this),y={[f]:t};try{if(!(e!=null&&e.recursive)){if(et.checkAccess&&!(await a.stat(se(f))).hasAccess(Ue,this))throw E.With("EACCES",se(f),"mkdir");await a.mkdir(f,o,{uid:i,gid:s}),await Zi(await a.openFile(f,"r+"),i,s),je(this,"rename",t.toString());return}const w=[];for(let g=f,b=t;!await a.exists(g);g=se(g),b=se(b))w.unshift(g),y[g]=b;for(const g of w){if(et.checkAccess&&!(await a.stat(se(g))).hasAccess(Ue,this))throw E.With("EACCES",se(g),"mkdir");await a.mkdir(g,o,{uid:i,gid:s}),await Zi(await a.openFile(g,"r+"),i,s),je(this,"rename",g)}return u.length==1?w[0]:(n=w[0])===null||n===void 0?void 0:n.slice(u.length)}catch(w){throw Fe(w,y)}}async function hr(t,e){e=typeof e=="object"?e:{encoding:e},t=await Kt.call(this,t);const{fs:r,path:n}=me(t,this),i=await r.stat(n).catch(f=>Re(Fe(f,{[n]:t})));if(!i)throw E.With("ENOENT",t,"readdir");if(!i.hasAccess(rt,this))throw E.With("EACCES",t,"readdir");if(!i.isDirectory())throw E.With("ENOTDIR",t,"readdir");const s=await r.readdir(n).catch(f=>Re(Fe(f,{[n]:t}))),o=[],a=async f=>{let u;if(!((e!=null&&e.recursive||e!=null&&e.withFileTypes)&&(u=await r.stat(de(n,f)).catch(y=>{if(y.code!="ENOENT")throw Fe(y,{[n]:t})}),!u))&&(e!=null&&e.withFileTypes?o.push(new Zr(f,u)):(e==null?void 0:e.encoding)=="buffer"?o.push(he.Buffer.from(f)):o.push(f),!(!(e!=null&&e.recursive)||!(u!=null&&u.isDirectory()))))for(const y of await hr.call(this,de(t,f),e))y instanceof Zr?(y.path=de(f,y.path),o.push(y)):he.Buffer.isBuffer(y)?o.push(he.Buffer.from(de(f,as(y)))):o.push(de(f,y))};return await Promise.all(s.map(a)),o}async function Vl(t,e){t=J(t),e=J(e);const{fs:r,path:n}=me(t,this),i=me(e,this);if(r!=i.fs)throw E.With("EXDEV",e,"link");try{if(et.checkAccess&&!(await r.stat(se(t))).hasAccess(rt,this))throw E.With("EACCES",se(n),"link");if(et.checkAccess&&!(await Fr.call(this,se(e))).hasAccess(Ue,this))throw E.With("EACCES",se(e),"link");if(et.checkAccess&&!(await r.stat(n)).hasAccess(rt,this))throw E.With("EACCES",n,"link");return await r.link(n,i.path)}catch(s){throw Fe(s,{[i.path]:e,[n]:t})}}async function Gl(t,e,r="file"){const n={stack:[],error:void 0,hasError:!1};try{if(!["file","dir","junction"].includes(r))throw new E(R.EINVAL,"Invalid symlink type: "+r);if(e=J(e),await on.call(this,e))throw E.With("EEXIST",e,"symlink");const i=wt(n,await Cr(this,e,{flag:"w+",mode:420,preserveSymlinks:!0}),!0);await i.writeFile(J(t,!0)),await i.file.chmod(Gt)}catch(i){n.error=i,n.hasError=!0}finally{const i=pt(n);i&&await i}}async function In(t,e){const r={stack:[],error:void 0,hasError:!1};try{const i=await wt(r,await Cr(this,J(t),{flag:"r",mode:420,preserveSymlinks:!0}),!0).readFile(),s=typeof e=="object"?e==null?void 0:e.encoding:e;return s=="buffer"?i:i.toString(s??"utf-8")}catch(n){r.error=n,r.hasError=!0}finally{const n=pt(r);n&&await n}}async function Hl(t,e,r){const n={stack:[],error:void 0,hasError:!1};try{await wt(n,await mt.call(this,t,"r+"),!0).chown(e,r)}catch(i){n.error=i,n.hasError=!0}finally{const i=pt(n);i&&await i}}async function Yl(t,e,r){const n={stack:[],error:void 0,hasError:!1};try{await wt(n,await Cr(this,t,{flag:"r+",mode:420,preserveSymlinks:!0,allowDirectory:!0}),!0).chown(e,r)}catch(i){n.error=i,n.hasError=!0}finally{const i=pt(n);i&&await i}}async function ql(t,e){const r={stack:[],error:void 0,hasError:!1};try{await wt(r,await mt.call(this,t,"r+"),!0).chmod(e)}catch(n){r.error=n,r.hasError=!0}finally{const n=pt(r);n&&await n}}async function Kl(t,e){const r={stack:[],error:void 0,hasError:!1};try{await wt(r,await Cr(this,t,{flag:"r+",mode:420,preserveSymlinks:!0,allowDirectory:!0}),!0).chmod(e)}catch(n){r.error=n,r.hasError=!0}finally{const n=pt(r);n&&await n}}async function Ms(t,e,r){const n={stack:[],error:void 0,hasError:!1};try{await wt(n,await mt.call(this,t,"r+"),!0).utimes(e,r)}catch(i){n.error=i,n.hasError=!0}finally{const i=pt(n);i&&await i}}async function Xl(t,e,r){const n={stack:[],error:void 0,hasError:!1};try{await wt(n,await Cr(this,t,{flag:"r+",mode:420,preserveSymlinks:!0,allowDirectory:!0}),!0).utimes(new Date(e),new Date(r))}catch(i){n.error=i,n.hasError=!0}finally{const i=pt(n);i&&await i}}async function Rn(t,e,r){if(r){const f=me(e,t),u=await f.fs.stat(f.path).catch(()=>{});return{...f,fullPath:e,stats:u}}try{const f=me(e,t),u=await f.fs.stat(f.path);if(!u.isSymbolicLink())return{...f,fullPath:e,stats:u};const y=Mt(se(e),(await In.call(t,e)).toString());return await Rn(t,y)}catch{}const{base:n,dir:i}=Et(e),s=i=="/"?"/":await Kt.call(t,i),o=de(s,n),a=me(o,t);try{const f=await a.fs.stat(a.path);if(!f.isSymbolicLink())return{...a,fullPath:o,stats:f};const u=Mt(s,(await In.call(t,o)).toString());return await Rn(t,u)}catch(f){if(f.code=="ENOENT")return{...a,fullPath:e};throw Fe(f,{[a.path]:o})}}async function Kt(t,e){var r;const n=typeof e=="string"?e:(r=e==null?void 0:e.encoding)!==null&&r!==void 0?r:"utf8";t=J(t);const{fullPath:i}=await Rn(this,t);if(n=="utf8"||n=="utf-8")return i;const s=he.Buffer.from(i,"utf-8");return n=="buffer"?s:s.toString(n)}function ky(t,e={}){const r=new Fa(this,t.toString(),typeof e!="string"?e:{encoding:e}),n=[];let i=!1;r.on("change",(o,a)=>{var f;(f=n.shift())===null||f===void 0||f({value:{eventType:o,filename:a},done:!1})});function s(){i=!0,r.close();for(const o of n)o({value:null,done:i});return n.length=0,Promise.resolve({value:null,done:!0})}return{async next(){if(i)return Promise.resolve({value:null,done:i});const{promise:o,resolve:a}=Promise.withResolvers();return n.push(a),o},return:s,throw:s,async[Symbol.asyncDispose](){await s()},[Symbol.asyncIterator](){return this}}}async function Jl(t,e=ss){if(!(await Fr.call(this,t)).hasAccess(e,this))throw new E(R.EACCES)}async function Bs(t,e){t=J(t);const r=await Jn.call(this,t).catch(n=>{if(!(n.code=="ENOENT"&&(e!=null&&e.force)))throw n});if(r)switch(r.mode&Be){case Pe:if(e!=null&&e.recursive)for(const n of await hr.call(this,t))await Bs.call(this,de(t,n),e);await Ls.call(this,t);break;case It:case Gt:case Or:case kr:await Qn.call(this,t);break;case Dr:case xr:default:throw new E(R.EPERM,"File type not supported",t,"rm")}}async function Ql(t,e){const r=typeof e=="object"?e==null?void 0:e.encoding:e||"utf8",i="/tmp/"+`${t}${Date.now()}-${Math.random().toString(36).slice(2)}`;return await ti.call(this,i),r=="buffer"?he.Buffer.from(i):i}async function Fs(t,e,r){if(t=J(t),e=J(e),r&&r&os&&await on.call(this,e))throw new E(R.EEXIST,"Destination file already exists",e,"copyFile");await ei.call(this,e,await Zn.call(this,t)),je(this,"rename",e.toString())}function Zl(t,e){return t=J(t),Promise.resolve(new gs(t,this))}async function Cs(t,e,r){t=J(t),e=J(e);const n=await Jn.call(this,t);if(r!=null&&r.errorOnExist&&await on.call(this,e))throw new E(R.EEXIST,"Destination file or directory already exists",e,"cp");switch(n.mode&Be){case Pe:{if(!(r!=null&&r.recursive))throw new E(R.EISDIR,t+" is a directory (not copied)",t,"cp");const[i]=await Promise.all([hr.call(this,t,{withFileTypes:!0}),ti.call(this,e,{recursive:!0})]),s=async o=>{r.filter&&!r.filter(de(t,o.name),de(e,o.name))||await Cs.call(this,de(t,o.name),de(e,o.name),r)};await Promise.all(i.map(s));break}case It:case Gt:await Fs.call(this,t,e);break;case Or:case kr:case Dr:case xr:default:throw new E(R.EPERM,"File type not supported",t,"rm")}r!=null&&r.preserveTimestamps&&await Ms.call(this,e,n.atime,n.mtime)}async function ec(t,e){t=J(t);const{fs:r}=me(t,this);return Promise.resolve(Ma(r,e==null?void 0:e.bigint))}function tc(t,e){t=Array.isArray(t)?t:[t];const{cwd:r="/",withFileTypes:n=!1,exclude:i=()=>!1}=e||{},s=t.map(a=>(a=a.replace(/([.?+^$(){}|[\]/])/g,"$1").replace(/\*\*/g,".*").replace(/\*/g,"[^/]*").replace(/\?/g,"."),new RegExp(`^${a}$`)));async function*o(a){const f=await hr(a,{withFileTypes:n,encoding:"utf8"});for(const u of f){const y=n?u.path:a+"/"+u;i(n?u:y)||((await Fr(y)).isDirectory()&&s.some(w=>w.source.includes(".*"))&&(yield*o(y)),s.some(w=>w.test(y.replace(/^\/+/g,"")))&&(yield n?u:y.replace(/^\/+/g,"")))}}return o(r)}const Nn=Object.freeze(Object.defineProperty({__proto__:null,FileHandle:_t,access:Jl,appendFile:zl,chmod:ql,chown:Hl,constants:Ra,copyFile:Fs,cp:Cs,exists:on,glob:tc,lchmod:Kl,lchown:Yl,link:Vl,lstat:Jn,lutimes:Xl,mkdir:ti,mkdtemp:Ql,open:mt,opendir:Zl,readFile:Zn,readdir:hr,readlink:In,realpath:Kt,rename:Ul,rm:Bs,rmdir:Ls,stat:Fr,statfs:ec,symlink:Gl,truncate:jl,unlink:Qn,utimes:Ms,watch:ky,writeFile:ei},Symbol.toStringTag,{value:"Module"})),Q=()=>{};async function Dy(t){const e=[];for await(const r of t)e.push(r);return e}function Ly(t,e,r=Q){Ul.call(this,t,e).then(()=>r()).catch(r)}function My(t,e=Q){on.call(this,t).then(e).catch(()=>e(!1))}function By(t,e,r=Q){r=typeof e=="function"?e:r,Fr.call(this,t,typeof e!="function"?e:{}).then(n=>r(void 0,n)).catch(r)}function Fy(t,e,r=Q){r=typeof e=="function"?e:r,Jn.call(this,t,typeof e!="function"?e:{}).then(n=>r(void 0,n)).catch(r)}function Cy(t,e=0,r=Q){r=typeof e=="function"?e:r;const n=typeof e=="number"?e:0;jl.call(this,t,n).then(()=>r()).catch(r)}function Wy(t,e=Q){Qn.call(this,t).then(()=>e()).catch(e)}function Py(t,e,r,n=Q){const i=Ht(r,420);n=typeof r=="function"?r:n,mt.call(this,t,e,i).then(s=>n(void 0,s.fd)).catch(n)}function $y(t,e,r=Q){r=typeof e=="function"?e:r,Zn.call(this,t,typeof e=="function"?null:e).then(n=>r(void 0,n)).catch(r)}function Uy(t,e,r,n=Q){n=typeof r=="function"?r:n,ei.call(this,t,e,typeof r!="function"?r:null).then(()=>n(void 0)).catch(n)}function jy(t,e,r,n=Q){const i=typeof r!="function"?r:void 0;n=typeof r=="function"?r:n,zl.call(this,t,e,i).then(()=>n()).catch(n)}function zy(t,e,r=Q){r=typeof e=="function"?e:r,Le(t).stat().then(n=>r(void 0,typeof e=="object"&&(e!=null&&e.bigint)?new or(n):n)).catch(r)}function Vy(t,e=Q){const r=Le(t).close();Ar.delete(t),r.then(()=>e()).catch(e)}function Gy(t,e,r=Q){const n=typeof e=="number"?e:0;r=typeof e=="function"?e:r;const i=Le(t);if(n<0)throw new E(R.EINVAL);i.truncate(n).then(()=>r()).catch(r)}function Hy(t,e=Q){Le(t).sync().then(()=>e()).catch(e)}function Yy(t,e=Q){Le(t).datasync().then(()=>e()).catch(e)}function qy(t,e,r,n,i,s=Q){let o,a,f,u,y;const w=new _t(t,this);if(typeof e=="string"){switch(y="utf8",typeof r){case"function":s=r;break;case"number":u=r,y=typeof n=="string"?n:"utf8",s=typeof i=="function"?i:s;break;default:s=typeof n=="function"?n:typeof i=="function"?i:s,s(new E(R.EINVAL,"Invalid arguments"));return}o=he.Buffer.from(e),a=0,f=o.length;const g=s;w.write(o,a,f,u).then(({bytesWritten:b})=>g(void 0,b,o.toString(y))).catch(g)}else{o=he.Buffer.from(e.buffer),a=r,f=n,u=typeof i=="number"?i:null;const g=typeof i=="function"?i:s;w.write(o,a,f,u).then(({bytesWritten:b})=>g(void 0,b,o)).catch(g)}}function Ky(t,e,r,n,i,s=Q){new _t(t,this).read(e,r,n,i).then(({bytesRead:o,buffer:a})=>s(void 0,o,a)).catch(s)}function Xy(t,e,r,n=Q){new _t(t,this).chown(e,r).then(()=>n()).catch(n)}function Jy(t,e,r){new _t(t,this).chmod(e).then(()=>r()).catch(r)}function Qy(t,e,r,n=Q){new _t(t,this).utimes(e,r).then(()=>n()).catch(n)}function Zy(t,e=Q){Ls.call(this,t).then(()=>e()).catch(e)}function ew(t,e,r=Q){ti.call(this,t,e).then(()=>r()).catch(r)}function tw(t,e,r=Q){r=typeof e=="function"?e:r;const n=typeof e!="function"?e:{};hr.call(this,t,n).then(i=>r(void 0,i)).catch(r)}function rw(t,e,r=Q){Vl.call(this,t,e).then(()=>r()).catch(r)}function nw(t,e,r,n=Q){const i=typeof r=="string"?r:"file";n=typeof r=="function"?r:n,Gl.call(this,t,e,i).then(()=>n()).catch(n)}function iw(t,e,r=Q){r=typeof e=="function"?e:r,In.call(this,t).then(n=>r(void 0,n)).catch(r)}function sw(t,e,r,n=Q){Hl.call(this,t,e,r).then(()=>n()).catch(n)}function ow(t,e,r,n=Q){Yl.call(this,t,e,r).then(()=>n()).catch(n)}function aw(t,e,r=Q){ql.call(this,t,e).then(()=>r()).catch(r)}function lw(t,e,r=Q){Kl.call(this,t,e).then(()=>r()).catch(r)}function cw(t,e,r,n=Q){Ms.call(this,t,e,r).then(()=>n()).catch(n)}function fw(t,e,r,n=Q){Xl.call(this,t,e,r).then(()=>n()).catch(n)}function uw(t,e,r=Q){r=typeof e=="function"?e:r,Kt.call(this,t,typeof e=="function"?null:e).then(n=>r(void 0,n)).catch(r)}function dw(t,e,r=Q){const n=typeof e=="number"?e:rt;r=typeof e=="function"?e:r,Jl.call(this,t,n).then(()=>r()).catch(r)}const gr=new Map;function hw(t,e,r){const n=J(t.toString()),i=typeof e!="function"?e:{};if(typeof e=="function"&&(r=e),!r)throw new E(R.EINVAL,"No listener specified",t.toString(),"watchFile");if(gr.has(n)){const o=gr.get(n);o&&o.listeners.add(r);return}const s=new Kf(this,n,i);s.on("change",(o,a)=>{const f=gr.get(n);if(f)for(const u of f.listeners)u(o,a)}),gr.set(n,{watcher:s,listeners:new Set})}function yw(t,e=Q){const r=J(t.toString()),n=gr.get(r);n&&(e&&e!==Q?n.listeners.delete(e):n.listeners.clear(),n.listeners.size===0&&(n.watcher.stop(),gr.delete(r)))}function ww(t,e,r){const n=new Fa(this,J(t),typeof e=="object"?e:{});return r=typeof e=="function"?e:r,n.on("change",r||Q),n}function pw(t,e){e=typeof e=="object"?e:{encoding:e};const r=mt.call(this,t,"r",e==null?void 0:e.mode);return new ks({...e,autoClose:!0},r)}function mw(t,e){e=typeof e=="object"?e:{encoding:e};const r=mt.call(this,t,"w",e==null?void 0:e.mode);return new Ds(e,r)}function gw(t,e,r=Q){r=typeof e=="function"?e:r,Bs.call(this,t,typeof e=="function"?void 0:e).then(()=>r(void 0)).catch(r)}function _w(t,e,r=Q){r=typeof e=="function"?e:r,Ql.call(this,t,typeof e!="function"?e:null).then(n=>r(void 0,n)).catch(r)}function bw(t,e,r,n=Q){n=typeof r=="function"?r:n,Fs.call(this,t,e,typeof r=="function"?void 0:r).then(()=>n(void 0)).catch(n)}function Ew(t,e,r,n=Q){n=typeof r=="function"?r:n,new _t(t,this).readv(e,typeof r=="function"?void 0:r).then(({buffers:i,bytesRead:s})=>n(void 0,s,i)).catch(n)}function Sw(t,e,r,n=Q){n=typeof r=="function"?r:n,new _t(t,this).writev(e,typeof r=="function"?void 0:r).then(({buffers:i,bytesWritten:s})=>n(void 0,s,i)).catch(n)}function vw(t,e,r=Q){r=typeof e=="function"?e:r,Zl.call(this,t,typeof e=="function"?void 0:e).then(n=>r(void 0,n)).catch(r)}function Aw(t,e,r,n=Q){n=typeof r=="function"?r:n,Cs.call(this,t,e,typeof r=="function"?void 0:r).then(()=>n(void 0)).catch(n)}function Iw(t,e,r=Q){r=typeof e=="function"?e:r,ec.call(this,t,typeof e=="function"?void 0:e).then(n=>r(void 0,n)).catch(r)}async function Rw(t,e){const r=await mt.call(this,t.toString(),"r"),n=await r.readFile();return await r.close(),new Blob([n],e)}function Nw(t,e,r=Q){r=typeof e=="function"?e:r;const n=tc.call(this,t,typeof e=="function"?void 0:e);Dy(n).then(i=>{var s;return r(null,(s=i)!==null&&s!==void 0?s:[])}).catch(i=>r(i))}const Tw=["delete"];Math.max(...Tw.map(t=>t.length));const rc=new Uint32Array(256);for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e=e&1?2197175160^e>>>1:e>>>1;rc[t]=e}function xw(t){let e=4294967295;for(let r=0;r<t.length;r++)e=e>>>8^rc[(e^t[r])&255];return(e^4294967295)>>>0}var Ne=function(t,e,r,n,i,s){function o(B){if(B!==void 0&&typeof B!="function")throw new TypeError("Function expected");return B}for(var a=n.kind,f=a==="getter"?"get":a==="setter"?"set":"value",u=!e&&t?n.static?t:t.prototype:null,y=e||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),w,g=!1,b=r.length-1;b>=0;b--){var T={};for(var v in n)T[v]=v==="access"?{}:n[v];for(var v in n.access)T.access[v]=n.access[v];T.addInitializer=function(B){if(g)throw new TypeError("Cannot add initializers after decoration has completed");s.push(o(B||null))};var I=(0,r[b])(a==="accessor"?{get:y.get,set:y.set}:y[f],T);if(a==="accessor"){if(I===void 0)continue;if(I===null||typeof I!="object")throw new TypeError("Object expected");(w=o(I.get))&&(y.get=w),(w=o(I.set))&&(y.set=w),(w=o(I.init))&&i.unshift(w)}else(w=o(I))&&(a==="field"?i.unshift(w):y[f]=w)}u&&Object.defineProperty(u,n.name,y),g=!0},X=function(t,e,r){for(var n=arguments.length>2,i=0;i<e.length;i++)r=n?e[i].call(t,r):e[i].call(t);return n?r:void 0},Ws=function(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})};let qo=(()=>{var t,e,r,n;let i=[xn()],s,o=[],a,f,u=[],y=[],w,g=[],b=[],T,v=[],I=[],B,V=[],x=[];return a=class{constructor(){this.id=X(this,u,0),this.offset_=(X(this,y),X(this,g,0)),this.offset=(X(this,b),X(this,v,0)),this.size=(X(this,I),X(this,V,0)),X(this,x)}},Ws(a,"MetadataEntry"),(()=>{const W=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;f=[(t=oe).uint32.bind(t)],w=[(e=oe).uint32.bind(e)],T=[(r=oe).uint32.bind(r)],B=[(n=oe).uint32.bind(n)],Ne(null,null,f,{kind:"field",name:"id",static:!1,private:!1,access:{has:M=>"id"in M,get:M=>M.id,set:(M,ae)=>{M.id=ae}},metadata:W},u,y),Ne(null,null,w,{kind:"field",name:"offset_",static:!1,private:!1,access:{has:M=>"offset_"in M,get:M=>M.offset_,set:(M,ae)=>{M.offset_=ae}},metadata:W},g,b),Ne(null,null,T,{kind:"field",name:"offset",static:!1,private:!1,access:{has:M=>"offset"in M,get:M=>M.offset,set:(M,ae)=>{M.offset=ae}},metadata:W},v,I),Ne(null,null,B,{kind:"field",name:"size",static:!1,private:!1,access:{has:M=>"size"in M,get:M=>M.size,set:(M,ae)=>{M.size=ae}},metadata:W},V,x),Ne(null,s={value:a},i,{kind:"class",name:a.name,metadata:W},null,o),a=s.value,W&&Object.defineProperty(a,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:W}),X(a,o)})(),a})();const Ko=255;let er=(()=>{var t,e,r,n;let i=[xn()],s,o=[],a,f,u=[],y=[],w,g=[],b=[],T,v=[],I=[],B,V=[],x=[],W,M=[],ae=[];var ce=a=class{constructor(re,P=0){if(this.superblock=re,this.offset=P,this.checksum=X(this,u,0),this.timestamp=(X(this,y),X(this,g,Date.now())),this.previous_offset_=(X(this,b),X(this,v,0)),this.previous_offset=(X(this,I),X(this,V,0)),this._previous=X(this,x),this.entries=X(this,M,Array.from({length:Ko},()=>new qo)),X(this,ae),this.superblock=re,this.offset=P,!!P&&(On(this,re.store._buffer.subarray(P,P+De(ce))),!nc(this)))throw kn(new E(R.EIO,"SingleBuffer: Checksum mismatch for metadata block at 0x"+P.toString(16)))}get previous(){var re;if(this.previous_offset)return(re=this._previous)!==null&&re!==void 0||(this._previous=new ce(this.superblock,this.previous_offset)),this._previous}};return Ws(a,"MetadataBlock"),(()=>{const re=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;f=[(t=oe).uint32.bind(t)],w=[(e=oe).uint32.bind(e)],T=[(r=oe).uint32.bind(r)],B=[(n=oe).uint32.bind(n)],W=[Mi(qo,Ko)],Ne(null,null,f,{kind:"field",name:"checksum",static:!1,private:!1,access:{has:P=>"checksum"in P,get:P=>P.checksum,set:(P,ne)=>{P.checksum=ne}},metadata:re},u,y),Ne(null,null,w,{kind:"field",name:"timestamp",static:!1,private:!1,access:{has:P=>"timestamp"in P,get:P=>P.timestamp,set:(P,ne)=>{P.timestamp=ne}},metadata:re},g,b),Ne(null,null,T,{kind:"field",name:"previous_offset_",static:!1,private:!1,access:{has:P=>"previous_offset_"in P,get:P=>P.previous_offset_,set:(P,ne)=>{P.previous_offset_=ne}},metadata:re},v,I),Ne(null,null,B,{kind:"field",name:"previous_offset",static:!1,private:!1,access:{has:P=>"previous_offset"in P,get:P=>P.previous_offset,set:(P,ne)=>{P.previous_offset=ne}},metadata:re},V,x),Ne(null,null,W,{kind:"field",name:"entries",static:!1,private:!1,access:{has:P=>"entries"in P,get:P=>P.entries,set:(P,ne)=>{P.entries=ne}},metadata:re},M,ae),Ne(null,s={value:a},i,{kind:"class",name:a.name,metadata:re},null,o),ce=a=s.value,re&&Object.defineProperty(a,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:re}),X(a,o)})(),ce=a})();const Xo=2049864546;(()=>{var t,e,r,n,i,s,o,a,f,u,y;let w=[xn()],g,b=[],T,v,I=[],B=[],V,x=[],W=[],M,ae=[],ce=[],re,P=[],ne=[],Te,fe=[],D=[],le,Z=[],ee=[],ge,_e=[],ye=[],be,q=[],we=[],H,Ee=[],Ce=[],Ye,qe=[],We=[],Ke,ct=[],st=[],Xe,S=[],A=[],L,z=[],j=[];var ie=T=class{constructor($){if(this.store=$,this.checksum=X(this,I,0),this.magic=(X(this,B),X(this,x,Xo)),this.version=(X(this,W),X(this,ae,1)),this.inode_format=(X(this,ce),X(this,P,_f)),this.flags=(X(this,ne),X(this,fe,0)),this.used_bytes=(X(this,D),X(this,Z,BigInt(0))),this.total_bytes=(X(this,ee),X(this,_e,BigInt(0))),this.id=(X(this,ye),X(this,q,BigInt(0))),this.metadata_block_size=(X(this,we),X(this,Ee,De(er))),this.metadata_offset_=(X(this,Ce),X(this,qe,0)),this.metadata_offset=(X(this,We),X(this,ct,0)),this.metadata=X(this,st),this.label=X(this,S,""),this._padding=(X(this,A),X(this,z,new Array(132).fill(0))),X(this,j),this.store=$,$._view.getUint32(Wc(ie,"magic"),!0)!=Xo){lt("SingleBuffer: Invalid magic value, assuming this is a fresh super block"),this.metadata=new er(this),this.used_bytes=BigInt(De(ie)+De(er)),this.total_bytes=BigInt($._buffer.byteLength),$._write(this),$._write(this.metadata);return}if(On(this,$._buffer.subarray(0,De(ie))),!nc(this))throw kn(new E(R.EIO,"SingleBuffer: Checksum mismatch for super block!"));this.metadata=new er(this,this.metadata_offset)}rotateMetadata(){const $=new er(this);return $.offset=Number(this.used_bytes),$.previous_offset=this.metadata_offset,this.metadata=$,this.metadata_offset=$.offset,this.store._write($),this.used_bytes+=BigInt(De(er)),this.store._write(this),$}isUnused($,O){if(!O)return!0;if($+O>this.total_bytes||$<De(ie))return!1;for(let K=this.metadata;K;K=K.previous){if($<K.offset+De(er)&&$+O>K.offset)return!1;for(const U of K.entries)if(U.offset&&($>=U.offset&&$<U.offset+U.size||$+O>U.offset&&$+O<=U.offset+U.size||$<=U.offset&&$+O>=U.offset+U.size))return!1}return!0}};return Ws(T,"SuperBlock"),(()=>{const $=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;v=[(t=oe).uint32.bind(t)],V=[(e=oe).uint32.bind(e)],M=[(r=oe).uint16.bind(r)],re=[(n=oe).uint16.bind(n)],Te=[(i=oe).uint32.bind(i)],le=[(s=oe).uint64.bind(s)],ge=[(o=oe).uint64.bind(o)],be=[(a=oe).uint128.bind(a)],H=[(f=oe).uint32.bind(f)],Ye=[(u=oe).uint32.bind(u)],Ke=[(y=oe).uint32.bind(y)],Xe=[oe.char(64)],L=[oe.char(132)],Ne(null,null,v,{kind:"field",name:"checksum",static:!1,private:!1,access:{has:O=>"checksum"in O,get:O=>O.checksum,set:(O,K)=>{O.checksum=K}},metadata:$},I,B),Ne(null,null,V,{kind:"field",name:"magic",static:!1,private:!1,access:{has:O=>"magic"in O,get:O=>O.magic,set:(O,K)=>{O.magic=K}},metadata:$},x,W),Ne(null,null,M,{kind:"field",name:"version",static:!1,private:!1,access:{has:O=>"version"in O,get:O=>O.version,set:(O,K)=>{O.version=K}},metadata:$},ae,ce),Ne(null,null,re,{kind:"field",name:"inode_format",static:!1,private:!1,access:{has:O=>"inode_format"in O,get:O=>O.inode_format,set:(O,K)=>{O.inode_format=K}},metadata:$},P,ne),Ne(null,null,Te,{kind:"field",name:"flags",static:!1,private:!1,access:{has:O=>"flags"in O,get:O=>O.flags,set:(O,K)=>{O.flags=K}},metadata:$},fe,D),Ne(null,null,le,{kind:"field",name:"used_bytes",static:!1,private:!1,access:{has:O=>"used_bytes"in O,get:O=>O.used_bytes,set:(O,K)=>{O.used_bytes=K}},metadata:$},Z,ee),Ne(null,null,ge,{kind:"field",name:"total_bytes",static:!1,private:!1,access:{has:O=>"total_bytes"in O,get:O=>O.total_bytes,set:(O,K)=>{O.total_bytes=K}},metadata:$},_e,ye),Ne(null,null,be,{kind:"field",name:"id",static:!1,private:!1,access:{has:O=>"id"in O,get:O=>O.id,set:(O,K)=>{O.id=K}},metadata:$},q,we),Ne(null,null,H,{kind:"field",name:"metadata_block_size",static:!1,private:!1,access:{has:O=>"metadata_block_size"in O,get:O=>O.metadata_block_size,set:(O,K)=>{O.metadata_block_size=K}},metadata:$},Ee,Ce),Ne(null,null,Ye,{kind:"field",name:"metadata_offset_",static:!1,private:!1,access:{has:O=>"metadata_offset_"in O,get:O=>O.metadata_offset_,set:(O,K)=>{O.metadata_offset_=K}},metadata:$},qe,We),Ne(null,null,Ke,{kind:"field",name:"metadata_offset",static:!1,private:!1,access:{has:O=>"metadata_offset"in O,get:O=>O.metadata_offset,set:(O,K)=>{O.metadata_offset=K}},metadata:$},ct,st),Ne(null,null,Xe,{kind:"field",name:"label",static:!1,private:!1,access:{has:O=>"label"in O,get:O=>O.label,set:(O,K)=>{O.label=K}},metadata:$},S,A),Ne(null,null,L,{kind:"field",name:"_padding",static:!1,private:!1,access:{has:O=>"_padding"in O,get:O=>O._padding,set:(O,K)=>{O._padding=K}},metadata:$},z,j),Ne(null,g={value:T},w,{kind:"class",name:T.name,metadata:$},null,b),ie=T=g.value,$&&Object.defineProperty(T,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:$}),X(T,b)})(),ie=T})();function nc(t){const e=Ze(t),r=xw(e.subarray(4));return t.checksum===r}globalThis.__zenfs__=mn;function Ow(){window.global=window,window.require=Lw,window.process={env:{NODE_ENV:"development"},nextTick(t){return requestAnimationFrame(t)},browser:!1,once:void 0,stdout:{isTTY:!0}},window.Buffer=ic().Buffer,window.__filename="/index.js",window.__dirname="/"}function kw(){const t={...ea};return t.versions.node="20.10.0",t}function ic(){const t={...ea};return t.hasOwnProperty=()=>!0,t}function Dw(t){var r,n;const e=(n=(r=window[Symbol.for("__modules__")])==null?void 0:r.default)==null?void 0:n[t];if(e)return e;throw new Error(`Dependency "${t}" does not exist in the bundled dependencies.`)}function Lw(t){switch(t){case"fs":return mn;case"fs/promises":return Nn;case"path":return{...Ys,posix:Ys};case"buffer":return ic();case"process":return kw();case"events":return Zo;case"os":return Rc;default:return Dw(t)}}Ow();
