"use strict";var R=Object.create;var p=Object.defineProperty;var _=Object.getOwnPropertyDescriptor;var D=Object.getOwnPropertyNames;var G=Object.getPrototypeOf,O=Object.prototype.hasOwnProperty;var s=(e,t)=>p(e,"name",{value:t,configurable:!0});var g=(e,t)=>()=>(e&&(t=e(e=0)),t);var E=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var z=(e,t,l,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of D(t))!O.call(e,a)&&a!==l&&p(e,a,{get:()=>t[a],enumerable:!(i=_(t,a))||i.enumerable});return e};var u=(e,t,l)=>(l=e!=null?R(G(e)):{},z(t||!e||!e.__esModule?p(l,"default",{value:e,enumerable:!0}):l,e));var m=E((q,L)=>{L.exports={}});function b(){let[e,t]=(0,c.useState)(null),[l,i]=(0,c.useState)("Loading Google Identity Services\u2026"),a=(0,c.useRef)(null);function w(o){let[,r]=o.split("."),k=r.replace(/-/g,"+").replace(/_/g,"/"),A=decodeURIComponent(atob(k).split("").map(C=>"%"+("00"+C.charCodeAt(0).toString(16)).slice(-2)).join(""));return JSON.parse(A)}s(w,"decodeJwt");function S(o){try{let r=w(o.credential);t({name:r.name,email:r.email,picture:r.picture}),i("Signed in")}catch{i("Failed to parse ID token payload")}}s(S,"handleCredentialResponse");function I(o){return o?/\.apps\.googleusercontent\.com$/.test(o)?"":"Not a Web client ID (must end with .apps.googleusercontent.com).":"Client ID is empty."}s(I,"verifyClientId");function d(){let o=I(f);if(o){i(`Config error: ${o}`);return}if(!window.google?.accounts?.id){i("google.accounts.id API not available yet.");return}try{window.google.accounts.id.initialize({client_id:f,callback:S,ux_mode:"popup",auto_select:!1}),a.current&&window.google.accounts.id.renderButton(a.current,{theme:"outline",size:"large",shape:"pill",text:"signin_with",logo_alignment:"left"}),i("Ready")}catch(r){i(`Init error: ${r?.message||r}`)}}s(d,"initializeGsi"),(0,c.useEffect)(()=>{if(window.google?.accounts?.id){d();return}if(document.querySelector("script[data-gsi]"))document.querySelector("script[data-gsi]").addEventListener("load",d,{once:!0});else{let o=document.createElement("script");o.src="https://accounts.google.com/gsi/client",o.async=!0,o.defer=!0,o.setAttribute("data-gsi","true"),o.onload=d,o.onerror=()=>i("Failed to load Google Identity script."),document.head.appendChild(o)}},[]);function N(){try{window.google?.accounts.id.disableAutoSelect(),e?.email&&window.google?.accounts.id.revoke(e.email,()=>{})}catch{}t(null),i("Ready")}return s(N,"handleSignOut"),(0,n.jsxs)("div",{className:"App",children:[(0,n.jsx)("h1",{children:"Google Sign-In Demo"}),(0,n.jsx)("h2",{children:"Authenticate with your Google account"}),!e&&(0,n.jsx)("div",{className:"panel",children:(0,n.jsxs)("div",{className:"row",children:[(0,n.jsx)("span",{children:"Sign in"}),(0,n.jsx)("div",{ref:a,id:"gsi-btn-container"})]})}),e&&(0,n.jsxs)("div",{className:"card",children:[(0,n.jsx)("img",{className:"avatar",src:e.picture,alt:e.name}),(0,n.jsxs)("div",{className:"info",children:[(0,n.jsx)("div",{className:"name",children:e.name}),(0,n.jsx)("div",{className:"email",children:e.email})]}),(0,n.jsx)("button",{className:"btn secondary",onClick:N,children:"Sign out"})]})]})}var c,n,f,h=g(()=>{"use strict";c=require("react"),n=require("react/jsx-runtime"),f="MY_CLIENT_ID";s(b,"App");console.log("Hello console")});var T={};var B,x,y,v=g(()=>{"use strict";B=require("react"),x=u(require("react-dom/client"));h();y=require("react/jsx-runtime");x.default.createRoot(document.querySelector("#root")).render((0,y.jsx)(b,{}))});setTimeout(()=>Promise.resolve().then(()=>u(m())),0);setTimeout(()=>Promise.resolve().then(()=>(v(),T)),0);
